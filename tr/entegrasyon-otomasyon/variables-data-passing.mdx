---
title: 'Variables & Data Passing'
description: 'Task Flow\'larda değişkenleri yönetin, task\'lar arasında veri geçirin, veriyi dönüştürün ve farklı veri türleriyle çalışın'
---

Değişkenler, Task Flow'da task'lar arasında veri geçirmek için birincil mekanizmadır. Değişkenlerle nasıl çalışılacağını anlamak, etkili entegrasyon iş akışları oluşturmak için gereklidir.

## Genel Bakış

Değişkenler, Task Flow boyunca kullanılabilecek verileri saklar. Konnektörler arasında veri geçişini, veri dönüşümünü ve koşullu mantığı etkinleştirirler.

<CardGroup cols={2}>
  <Card title="Değişken Türleri" icon="list">
    Çeşitli veri türleri desteği
  </Card>
  <Card title="Veri Geçişi" icon="arrows-rotate">
    Task'lar arasında veri geçirin
  </Card>
  <Card title="Veri Dönüştürme" icon="wand-magic-sparkles">
    Veriyi dönüştürün ve manipüle edin
  </Card>
  <Card title="İfade Değerlendirme" icon="code">
    Değerleri hesaplamak için ifadeler kullanın
  </Card>
</CardGroup>

## Değişken Türleri

Apinizer aşağıdaki değişken türlerini destekler:

### String

Metin değerleri:

```javascript
name = "John Doe"
email = "john@example.com"
description = "Müşteri bilgisi"
```

**İşlemler:**

* Birleştirme: `fullName = firstName + " " + lastName`
* Alt dize: `domain = email.substring(email.indexOf("@") + 1)`
* Uzunluk: `nameLength = name.length`

### Number

Sayısal değerler:

```javascript
age = 30
price = 99.99
quantity = 100
```

**İşlemler:**

* Aritmetik: `total = price * quantity`
* Karşılaştırma: `isAdult = age >= 18`
* Yuvarlama: `rounded = Math.round(price)`

### Boolean

True/false değerleri:

```javascript
isActive = true
isPremium = false
hasPermission = true
```

**İşlemler:**

* Mantıksal: `canAccess = isActive && hasPermission`
* Olumsuzlama: `isInactive = !isActive`

### Object

JSON nesneleri:

```javascript
customer = {
  "id": "123",
  "name": "John Doe",
  "email": "john@example.com",
  "address": {
    "street": "123 Main St",
    "city": "New York"
  }
}
```

**Özelliklere Erişim:**

* Nokta notasyonu: `customer.name`
* Köşeli parantez notasyonu: `customer["name"]`
* İç içe: `customer.address.city`

### Array

Değer koleksiyonları:

```javascript
items = ["item1", "item2", "item3"]
numbers = [1, 2, 3, 4, 5]
customers = [
  {"id": "1", "name": "John"},
  {"id": "2", "name": "Jane"}
]
```

**İşlemler:**

* Erişim: `firstItem = items[0]`
* Uzunluk: `count = items.length`
* Yineleme: Dizi öğeleri üzerinde döngü

## Değişken Kapsamı

### Task Flow Değişkenleri

Task Flow seviyesinde tanımlanan değişkenler:

* **Girdi Değişkenleri**: Task Flow çağrıldığında sağlanır
* **Çıktı Değişkenleri**: Task Flow tamamlandığında döndürülür
* **İç Değişkenler**: Task Flow içinde kullanılır

### Task Değişkenleri

Bireysel task'lara kapsamlı değişkenler:

* **Girdi Değişkenleri**: Task'a geçirilen veri
* **Çıktı Değişkenleri**: Task'tan döndürülen veri
* **Yerel Değişkenler**: Task içinde kullanılan değişkenler

## Girdi Değişkenleri

Task Flow için girdi değişkenlerini tanımlayın:

### Yapılandırma

**Temel Girdi:**

```json
{
  "customerId": {
    "type": "string",
    "required": true,
    "description": "Müşteri tanımlayıcısı"
  }
}
```

**Karmaşık Girdi:**

```json
{
  "order": {
    "type": "object",
    "required": true,
    "properties": {
      "orderId": {"type": "string"},
      "items": {"type": "array"},
      "total": {"type": "number"}
    }
  }
}
```

### Girdi Doğrulama

Girdi değişkenlerini doğrulayın:

* **Required**: Değişken sağlanmalıdır
* **Type**: Veri türünü doğrulayın
* **Format**: Formatı doğrulayın (email, URL, regex)
* **Range**: Sayısal aralıkları doğrulayın
* **Custom**: Özel doğrulama kuralları

**Örnek Doğrulama:**

```javascript
// Required doğrulama
if (!customerId) {
  throw new Error("customerId gereklidir");
}

// Tip doğrulama
if (typeof age !== 'number') {
  throw new Error("age bir sayı olmalıdır");
}

// Format doğrulama
if (!email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)) {
  throw new Error("Geçersiz email formatı");
}
```

## Çıktı Değişkenleri

Task Flow için çıktı değişkenlerini tanımlayın:

### Yapılandırma

**Temel Çıktı:**

```json
{
  "result": {
    "type": "object",
    "value": {
      "status": "success",
      "customerId": "${customerId}",
      "orderId": "${orderId}"
    }
  }
}
```

**Dinamik Çıktı:**

```javascript
{
  "response": {
    "status": "${status}",
    "data": "${processedData}",
    "timestamp": "${new Date().toISOString()}"
  }
}
```

## Task'lar Arasında Veri Geçişi

### Konnektöre Veri Geçirme

Değişkenleri konnektör girdilerine eşleyin:

**Girdi Eşleme:**

```json
{
  "query": "SELECT * FROM customers WHERE id = :customerId",
  "parameters": {
    "customerId": "${customerId}"
  }
}
```

**Nesne Eşleme:**

```json
{
  "url": "https://api.example.com/customers/${customerId}",
  "headers": {
    "Authorization": "Bearer ${authToken}"
  },
  "body": {
    "name": "${customer.name}",
    "email": "${customer.email}"
  }
}
```

### Konnektörden Veri Alma

Konnektör çıktılarını değişkenlere eşleyin:

**Çıktı Eşleme:**

```json
{
  "customer": "${response.body}",
  "statusCode": "${response.statusCode}",
  "headers": "${response.headers}"
}
```

**İç İçe Eşleme:**

```json
{
  "customerId": "${response.body.customer.id}",
  "customerName": "${response.body.customer.name}",
  "orderCount": "${response.body.orders.length}"
}
```

## Veri Dönüştürme

Task'lar arasında veriyi dönüştürün:

### String Dönüştürme

```javascript
// Birleştirme
fullName = firstName + " " + lastName

// Template literals
message = `Merhaba ${name}, siparişiniz ${orderId} hazır`

// Formatlama
formattedDate = new Date().toISOString()
```

### Object Dönüştürme

```javascript
// Yeni nesne oluşturma
customerSummary = {
  id: customer.id,
  name: customer.name,
  email: customer.email
}

// Nesneleri birleştirme
merged = {...customer, ...address}

// Özellikleri çıkarma
const {id, name} = customer
```

### Array Dönüştürme

```javascript
// Dizi map
emailList = customers.map(c => c.email)

// Dizi filtreleme
activeCustomers = customers.filter(c => c.status === 'active')

// Dizi azaltma
total = items.reduce((sum, item) => sum + item.price, 0)

// Dizi birleştirme
csv = items.map(i => i.name).join(',')
```

### Tip Dönüştürme

```javascript
// String'den number'a
price = parseFloat(priceString)
quantity = parseInt(quantityString)

// Number'dan string'e
priceString = price.toString()
formatted = price.toFixed(2)

// Object'ten JSON'a
jsonString = JSON.stringify(object)

// JSON'dan object'e
object = JSON.parse(jsonString)
```

## İfade Sözdizimi

Değerleri hesaplamak için ifadeler kullanın:

### Değişken Referansları

```javascript
// Basit referans
${variableName}

// İç içe özellik
${customer.address.city}

// Dizi erişimi
${items[0].name}

// Dinamik özellik
${customer[propertyName]}
```

### İfadeler

```javascript
// Aritmetik
${price * quantity}
${total + tax}
${discount / 100}

// Karşılaştırma
${age >= 18}
${status === 'active'}
${count > 0}

// Mantıksal
${isActive && hasPermission}
${isPremium || isVip}
${!isBlocked}

// String işlemleri
${name.toUpperCase()}
${email.toLowerCase()}
${description.substring(0, 100)}
```

### Fonksiyonlar

```javascript
// Tarih fonksiyonları
${new Date()}
${Date.now()}
${new Date().toISOString()}

// Matematik fonksiyonları
${Math.max(a, b)}
${Math.min(a, b)}
${Math.round(number)}

// String fonksiyonları
${name.length}
${email.indexOf('@')}
${description.substring(0, 50)}
```

## Konnektör Çıktılarıyla Çalışma

### Database Connector Çıktısı

```javascript
// Tek satır
customer = ${result[0]}

// Çoklu satır
customers = ${result}

// Belirli sütun
customerName = ${result[0].name}

// Sayım
rowCount = ${result.length}
```

### HTTP Connector Çıktısı

```javascript
// Response body
data = ${response.body}

// Status code
status = ${response.statusCode}

// Headers
contentType = ${response.headers['Content-Type']}

// İç içe özellikler
userId = ${response.body.user.id}
```

### Message Queue Connector Çıktısı

```javascript
// Mesaj body
message = ${message.body}

// Mesaj özellikleri
correlationId = ${message.properties.correlationId}

// Headers
messageType = ${message.headers.type}
```

## Değişkenlerle Hata Yönetimi

Hataları yönetin ve hata bilgilerini geçirin:

### Hata Değişkenleri

```javascript
// Hata mesajı
errorMessage = ${error.message}

// Hata kodu
errorCode = ${error.code}

// Hata bağlamı
errorContext = {
  task: "${taskName}",
  variable: "${variableName}",
  value: "${variableValue}"
}
```

### Varsayılan Değerler

İsteğe bağlı değişkenler için varsayılan değerler sağlayın:

```javascript
// Varsayılan değer
quantity = ${quantity || 1}
status = ${status || 'pending'}

// Koşullu varsayılan
discount = ${isPremium ? 0.2 : 0.1}
```

## En İyi Uygulamalar

<CardGroup cols={2}>
  <Card title="Açıklayıcı İsimler" icon="tag">
    Açık, açıklayıcı değişken isimleri kullanın
  </Card>
  <Card title="Tip Güvenliği" icon="shield-halved">
    Kullanmadan önce değişken tiplerini doğrulayın
  </Card>
  <Card title="Derin İç İçe Geçmeyi Önleyin" icon="layer-group">
    Değişken yapılarını basit tutun
  </Card>
  <Card title="Değişkenleri Dokümante Edin" icon="file-lines">
    Değişken amacını ve formatını dokümante edin
  </Card>
  <Card title="Hata Yönetimi" icon="exclamation-triangle">
    Eksik veya geçersiz değişkenleri yönetin
  </Card>
  <Card title="Performans" icon="gauge">
    Gereksiz veri dönüşümlerinden kaçının
  </Card>
</CardGroup>

## Yaygın Desenler

### Veri Zenginleştirme

```javascript
// Temel veriyi çek
customer = ${databaseResult}

// Ek verilerle zenginleştir
customer.fullAddress = `${customer.street}, ${customer.city}`
customer.isPremium = customer.balance > 10000
```

### Veri Toplama

```javascript
// Dizi verilerini topla
total = orders.reduce((sum, order) => sum + order.total, 0)
average = total / orders.length
maxOrder = Math.max(...orders.map(o => o.total))
```

### Koşullu Dönüştürme

```javascript
// Koşullu eşleme
status = customer.balance > 1000 ? 'premium' : 'standard'

// Koşullu nesne
discount = isVip ? {
  type: 'percentage',
  value: 20
} : {
  type: 'fixed',
  value: 10
}
```

## İlgili Konular

<CardGroup cols={2}>
  <Card title="Task Flow Tasarımı" icon="diagram-project" href="/tr/entegrasyon-otomasyon/task-flow-tasarimi">
    Task Flow tasarımını öğrenin
  </Card>
  <Card title="Task Types" icon="list" href="/tr/entegrasyon-otomasyon/task-types">
    Task çalıştırma türlerini anlayın
  </Card>
  <Card title="Error Handling & Retries" icon="rotate-right" href="/tr/entegrasyon-otomasyon/error-handling-retries">
    Task Flow'larda hataları yönetin
  </Card>
  <Card title="Script Connector" icon="code" href="/tr/entegrasyon-otomasyon/konnektorler/script-connector">
    Karmaşık dönüşümler için script'ler kullanın
  </Card>
</CardGroup>
