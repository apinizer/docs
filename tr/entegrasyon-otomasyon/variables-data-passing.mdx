---
title: 'Variables & Data Passing'
description: 'Task Flow\'larda değişkenler kullanarak veri geçişi ve veri yönetimi nasıl yapılır'
---

Task Flow'larda değişkenler kullanarak task'lar arasında veri geçişi yapabilir, veriyi dönüştürebilir ve karmaşık veri işlemleri gerçekleştirebilirsiniz. Değişkenler, Task Flow'unuzun veri akışını kontrol etmenizi sağlar.

## Genel Bakış

Değişkenler, Task Flow'larda veri saklamak, taşımak ve dönüştürmek için kullanılır. Bu sayede:

* Task'lar arasında veri paylaşabilirsiniz
* Veriyi dönüştürebilir ve zenginleştirebilirsiniz
* Koşullu akışlarda karar verme için kullanabilirsiniz
* Script'lerde veri işleyebilirsiniz

<CardGroup cols={2}>
  <Card title="Değişken Türleri" icon="list">
    String, Number, Boolean, Object, Array
  </Card>
  <Card title="Veri Geçişi" icon="arrows-rotate">
    Otomatik ve manuel veri geçişi
  </Card>
  <Card title="Veri Dönüştürme" icon="wand-magic-sparkles">
    Mapping ve transformation
  </Card>
  <Card title="Değişken Kapsamı" icon="layer-group">
    Global ve local değişkenler
  </Card>
</CardGroup>

## Değişken Türleri

Task Flow'larda farklı türde değişkenler kullanabilirsiniz:

### Primitive Types (İlkel Türler)

#### String

Metin verileri için:

```javascript
var name = "Apinizer";
var message = 'Hello World';
```

#### Number

Sayısal veriler için:

```javascript
var count = 100;
var price = 99.99;
```

#### Boolean

Mantıksal değerler için:

```javascript
var isActive = true;
var isValid = false;
```

### Complex Types (Karmaşık Türler)

#### Object

Nesne verileri için:

```javascript
var user = {
    name: "John",
    age: 30,
    email: "john@example.com"
};
```

#### Array

Dizi verileri için:

```javascript
var items = [1, 2, 3, 4, 5];
var users = [
    {name: "John", age: 30},
    {name: "Jane", age: 25}
];
```

## Değişken Tanımlama

### Global Değişkenler

Task Flow seviyesinde tanımlanan değişkenler:

1. Task Flow özelliklerinde **Variables** sekmesine gidin
2. **Add Variable** butonuna tıklayın
3. Değişken bilgilerini girin:
   * **Name**: Değişken adı
   * **Type**: Değişken türü
   * **Default Value**: Varsayılan değer (opsiyonel)
   * **Description**: Açıklama (opsiyonel)

### Local Değişkenler

Task seviyesinde tanımlanan değişkenler:

1. Task özelliklerinde **Variables** sekmesine gidin
2. **Add Variable** butonuna tıklayın
3. Değişken bilgilerini girin

### Değişken Kapsamı (Scope)

* **Global**: Tüm Task Flow'da erişilebilir
* **Local**: Sadece tanımlandığı task'ta erişilebilir
* **Input**: Task Flow girdi parametreleri
* **Output**: Task Flow çıktı parametreleri

## Değişken Kullanımı

### Değişken Erişimi

Değişkenlere erişmek için `${variableName}` syntax'ını kullanın:

```javascript
// Global değişken
${globalVariable}

// Local değişken
${localVariable}

// Nested object
${user.name}
${user.address.city}

// Array element
${items[0]}
${users[0].name}
```

### Değişken Atama

Değişkenlere değer atamak için:

```javascript
// Script Task içinde
variables.set("variableName", "value");
variables.set("count", 100);
variables.set("user", {name: "John", age: 30});
```

### Değişken Güncelleme

Mevcut değişkeni güncellemek için:

```javascript
var currentValue = variables.get("count");
variables.set("count", currentValue + 1);
```

## Veri Geçişi

### Otomatik Veri Geçişi

Task'lar arasında otomatik veri geçişi:

* Bir task'ın çıktısı otomatik olarak bir sonraki task'ın girdisi olur
* Veri formatı uyumlu olmalıdır
* Mapping gerekmez

```
Task 1 (Output: {data: "value"})
    ↓ (Otomatik geçiş)
Task 2 (Input: {data: "value"})
```

### Manuel Veri Geçişi

Manuel mapping ile veri geçişi:

1. Task özelliklerinde **Input Mapping** sekmesine gidin
2. Kaynak ve hedef alanları eşleştirin
3. Dönüştürme kurallarını tanımlayın

### Mapping Örnekleri

#### Basit Mapping

```javascript
// Kaynak: {name: "John", age: 30}
// Hedef: {fullName: "John", years: 30}

mapping:
  fullName = ${name}
  years = ${age}
```

#### Karmaşık Mapping

```javascript
// Kaynak: {user: {name: "John", email: "john@example.com"}}
// Hedef: {name: "John", contact: "john@example.com"}

mapping:
  name = ${user.name}
  contact = ${user.email}
```

#### Array Mapping

```javascript
// Kaynak: {items: [{id: 1, name: "Item1"}, {id: 2, name: "Item2"}]}
// Hedef: {ids: [1, 2], names: ["Item1", "Item2"]}

mapping:
  ids = ${items[*].id}
  names = ${items[*].name}
```

## Veri Dönüştürme

### Transformation Task

Veri dönüştürme için özel task kullanın:

1. **Transformation** task'ını ekleyin
2. Kaynak ve hedef formatını seçin
3. Dönüştürme kurallarını tanımlayın

### Script ile Dönüştürme

Script Task kullanarak veri dönüştürme:

```javascript
// JSON'dan XML'e
var xml = jsonToXml(input.data);

// XML'den JSON'a
var json = xmlToJson(input.data);

// Veri zenginleştirme
var enriched = {
    ...input.data,
    timestamp: new Date().toISOString(),
    processed: true
};
```

### Mapping ile Dönüştürme

Mapping kullanarak veri dönüştürme:

* **Field Mapping**: Alan eşleştirme
* **Value Transformation**: Değer dönüştürme
* **Conditional Mapping**: Koşullu eşleştirme

## Veri Validasyonu

### Input Validation

Girdi verilerini doğrulamak için:

```javascript
// Script Task içinde
if (!input.name || input.name.length < 3) {
    throw new Error("Name must be at least 3 characters");
}

if (!input.email || !input.email.includes("@")) {
    throw new Error("Invalid email address");
}

if (input.age < 0 || input.age > 150) {
    throw new Error("Invalid age");
}
```

### Output Validation

Çıktı verilerini doğrulamak için:

```javascript
// Çıktıyı kontrol et
if (!output.data) {
    output.data = {};
}

if (!output.status) {
    output.status = "success";
}
```

## Veri Zenginleştirme

### Database Lookup

Veritabanından veri çekerek zenginleştirme:

```
1. Database Connector ile veri çek
2. Script Task ile birleştir
3. Zenginleştirilmiş veriyi kullan
```

### HTTP API Call

HTTP API çağrısı ile veri zenginleştirme:

```
1. HTTP Connector ile API çağrısı yap
2. Gelen veriyi mevcut veriyle birleştir
3. Zenginleştirilmiş veriyi kullan
```

### Script ile Zenginleştirme

Script kullanarak veri zenginleştirme:

```javascript
var enriched = {
    ...input.data,
    metadata: {
        processedAt: new Date().toISOString(),
        processor: "TaskFlow",
        version: "1.0"
    },
    calculated: {
        total: input.items.reduce((sum, item) => sum + item.price, 0),
        average: input.items.reduce((sum, item) => sum + item.price, 0) / input.items.length
    }
};
```

## Veri Filtreleme

### Filter Task

Veri filtreleme için:

1. **Filter** task'ını ekleyin
2. Filtre koşulunu tanımlayın
3. Koşulu sağlayan veriler geçer

### Script ile Filtreleme

Script kullanarak filtreleme:

```javascript
// Array filtreleme
var filtered = input.items.filter(item => item.price > 100);

// Object filtreleme
var filtered = Object.keys(input.data)
    .filter(key => input.data[key] != null)
    .reduce((obj, key) => {
        obj[key] = input.data[key];
        return obj;
    }, {});
```

## Veri Agregasyonu

### Aggregation Task

Veri toplama için:

1. **Aggregation** task'ını ekleyin
2. Agregasyon türünü seçin (Sum, Average, Count, Min, Max)
3. Gruplama alanlarını tanımlayın

### Script ile Agregasyon

Script kullanarak agregasyon:

```javascript
// Toplam
var total = input.items.reduce((sum, item) => sum + item.price, 0);

// Ortalama
var average = total / input.items.length;

// Gruplama
var grouped = input.items.reduce((groups, item) => {
    var category = item.category;
    if (!groups[category]) {
        groups[category] = [];
    }
    groups[category].push(item);
    return groups;
}, {});
```

## En İyi Uygulamalar

### Değişken İsimlendirme

* **Açıklayıcı İsimler**: Değişken isimleri açıklayıcı olmalı
* **Tutarlılık**: İsimlendirme tutarlı olmalı
* **Kapsam**: Global ve local değişkenleri ayırt edin
* **Dokümantasyon**: Değişkenleri dokümante edin

### Veri Geçişi

* **Minimal Mapping**: Gereksiz mapping'lerden kaçının
* **Veri Doğrulama**: Girdi verilerini doğrulayın
* **Hata Yönetimi**: Veri geçişinde hata yönetimi yapın
* **Performans**: Büyük veri setlerinde performansı göz önünde bulundurun

### Veri Dönüştürme

* **Modülerlik**: Dönüştürme işlemlerini modüler yapın
* **Yeniden Kullanım**: Ortak dönüştürmeleri yeniden kullanın
* **Test**: Dönüştürmeleri test edin
* **Dokümantasyon**: Dönüştürme kurallarını dokümante edin

## Sonraki Adımlar

<CardGroup cols={2}>
  <Card title="Task Flow Tasarımı" icon="diagram-project" href="/tr/entegrasyon-otomasyon/task-flow-tasarimi">
    Task Flow tasarımı hakkında bilgi edinin
  </Card>
  <Card title="Task Types" icon="list" href="/tr/entegrasyon-otomasyon/task-types">
    Task türleri hakkında bilgi edinin
  </Card>
  <Card title="Error Handling & Retries" icon="triangle-exclamation" href="/tr/entegrasyon-otomasyon/error-handling-retries">
    Hata yönetimi ve retry mekanizmalarını öğrenin
  </Card>
  <Card title="Monitoring & Debugging" icon="bug" href="/tr/entegrasyon-otomasyon/monitoring-debugging">
    Monitoring ve debugging özelliklerini öğrenin
  </Card>
</CardGroup>
