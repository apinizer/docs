---
title: 'Script Connector'
description: 'Script Connector ile JavaScript/Groovy script\'leri çalıştırma: veri dönüştürme, iş mantığı ve özel hesaplamalar'
---

Script Connector, Task Flow'larda JavaScript veya Groovy script'leri çalıştırmanızı sağlar. Veri dönüştürme, iş mantığı, hesaplamalar ve özel işlemler için script'ler yazabilirsiniz.

## Genel Bakış

Script Connector sayesinde:

* JavaScript veya Groovy script'leri çalıştırabilirsiniz
* Veri dönüştürme işlemleri yapabilirsiniz
* Karmaşık iş mantığı uygulayabilirsiniz
* Hesaplamalar ve validasyonlar yapabilirsiniz
* Özel fonksiyonlar yazabilirsiniz

<CardGroup cols={2}>
  <Card title="JavaScript" icon="code">
    JavaScript script desteği
  </Card>
  <Card title="Groovy" icon="code">
    Groovy script desteği
  </Card>
  <Card title="Veri Dönüştürme" icon="arrows-rotate">
    Veri dönüştürme işlemleri
  </Card>
  <Card title="İş Mantığı" icon="brain">
    Karmaşık iş mantığı
  </Card>
</CardGroup>

## Script Connector Yapılandırması

### Connector Ekleme

1. Task Flow tasarımında **Script Connector**'ı ekleyin
2. Connector özelliklerinde yapılandırma yapın:
   * **Script Language**: Script dili (JavaScript/Groovy)
   * **Script Code**: Script kodu
   * **Input Variables**: Girdi değişkenleri
   * **Output Variables**: Çıktı değişkenleri

### JavaScript Örneği

```javascript
// Girdi değişkenlerine erişim
var inputData = input.data;
var userId = input.userId;

// Veri dönüştürme
var transformedData = {
    id: userId,
    name: inputData.name.toUpperCase(),
    email: inputData.email.toLowerCase(),
    age: parseInt(inputData.age),
    timestamp: new Date().toISOString()
};

// Hesaplama
var total = 0;
for (var i = 0; i < inputData.items.length; i++) {
    total += inputData.items[i].price * inputData.items[i].quantity;
}

// Çıktı ayarlama
output.result = transformedData;
output.total = total;
output.processed = true;
```

### Groovy Örneği

```groovy
// Girdi değişkenlerine erişim
def inputData = input.data
def userId = input.userId

// Veri dönüştürme
def transformedData = [
    id: userId,
    name: inputData.name.toUpperCase(),
    email: inputData.email.toLowerCase(),
    age: Integer.parseInt(inputData.age),
    timestamp: new Date().toISOString()
]

// Hesaplama
def total = inputData.items.sum { it.price * it.quantity }

// Çıktı ayarlama
output.result = transformedData
output.total = total
output.processed = true
```

## Değişken Erişimi

### Input Variables

Girdi değişkenlerine erişim:

```javascript
// Task Flow değişkenleri
var globalVar = variables.get("globalVariable");

// Task girdi parametreleri
var inputData = input.data;
var userId = input.userId;

// Önceki task çıktıları
var previousResult = previousTask.output;
```

### Output Variables

Çıktı değişkenlerine atama:

```javascript
// Değişken ayarlama
variables.set("result", transformedData);
variables.set("total", total);

// Çıktı ayarlama
output.result = transformedData;
output.status = "success";
```

## Veri Dönüştürme

### JSON Dönüştürme

```javascript
// JSON parse
var jsonData = JSON.parse(input.jsonString);

// JSON stringify
var jsonString = JSON.stringify(output.data);
```

### XML Dönüştürme

```javascript
// XML parse (kütüphane kullanarak)
var xmlData = xmlParser.parse(input.xmlString);

// XML stringify
var xmlString = xmlBuilder.build(output.data);
```

### Veri Mapping

```javascript
// Basit mapping
var mapped = {
    newField1: input.oldField1,
    newField2: input.oldField2
};

// Karmaşık mapping
var mapped = input.items.map(function(item) {
    return {
        id: item.id,
        name: item.name.toUpperCase(),
        price: item.price * 1.18 // KDV ekleme
    };
});
```

## İş Mantığı

### Koşullu İşlemler

```javascript
// If-else
if (input.amount > 1000) {
    output.priority = "high";
    output.discount = 0.1;
} else if (input.amount > 500) {
    output.priority = "medium";
    output.discount = 0.05;
} else {
    output.priority = "low";
    output.discount = 0;
}

// Switch-case
switch (input.status) {
    case "active":
        output.action = "process";
        break;
    case "inactive":
        output.action = "skip";
        break;
    default:
        output.action = "error";
}
```

### Döngüler

```javascript
// For loop
for (var i = 0; i < input.items.length; i++) {
    var item = input.items[i];
    // İşlem
}

// ForEach
input.items.forEach(function(item) {
    // İşlem
});

// While loop
var i = 0;
while (i < input.items.length) {
    // İşlem
    i++;
}
```

## Validasyon

### Veri Doğrulama

```javascript
// Girdi doğrulama
if (!input.email || !input.email.includes("@")) {
    throw new Error("Invalid email address");
}

if (input.age < 0 || input.age > 150) {
    throw new Error("Invalid age");
}

// Format kontrolü
if (!/^\d{4}-\d{2}-\d{2}$/.test(input.date)) {
    throw new Error("Invalid date format");
}
```

## Hata Yönetimi

### Try-Catch

```javascript
try {
    // İşlem
    var result = processData(input.data);
    output.result = result;
} catch (error) {
    logger.error("Script execution failed", error);
    output.error = error.message;
    output.success = false;
}
```

### Hata Fırlatma

```javascript
// Hata fırlatma
if (input.data == null) {
    throw new Error("Input data is required");
}

// Özel hata
if (input.amount < 0) {
    throw new Error("Amount cannot be negative");
}
```

## Kullanım Senaryoları

### Senaryo 1: Veri Dönüştürme

```
Database Connector (Veri çekme)
├─→ Script Connector (Veri dönüştürme)
└─→ HTTP Connector (API'ye gönderme)
```

### Senaryo 2: Validasyon

```
HTTP Connector (API'den veri alma)
├─→ Script Connector (Veri doğrulama)
└─→ Database Connector (Veri kaydetme)
```

### Senaryo 3: Hesaplama

```
Database Connector (Veri çekme)
├─→ Script Connector (Hesaplama)
└─→ Database Connector (Sonuç kaydetme)
```

## En İyi Uygulamalar

### Performans

* **Efficient Algorithms**: Verimli algoritmalar kullanın
* **Avoid Nested Loops**: İç içe döngülerden kaçının
* **Use Built-in Functions**: Yerleşik fonksiyonları kullanın
* **Minimize I/O**: I/O işlemlerini minimize edin

### Güvenlik

* **Input Validation**: Girdi doğrulama yapın
* **Sanitization**: Veri temizleme yapın
* **Error Handling**: Hata yönetimi yapın
* **No Eval**: eval() kullanmayın

### Kod Kalitesi

* **Readable Code**: Okunabilir kod yazın
* **Comments**: Yorumlar ekleyin
* **Modularity**: Modüler kod yazın
* **Testing**: Test edin

## Sonraki Adımlar

<CardGroup cols={2}>
  <Card title="Variables & Data Passing" icon="code" href="/tr/entegrasyon-otomasyon/variables-data-passing">
    Değişkenler ve veri geçişi özelliklerini öğrenin
  </Card>
  <Card title="Error Handling & Retries" icon="triangle-exclamation" href="/tr/entegrasyon-otomasyon/error-handling-retries">
    Hata yönetimi ve retry mekanizmalarını öğrenin
  </Card>
  <Card title="Performance Optimization" icon="gauge" href="/tr/entegrasyon-otomasyon/performance-optimization">
    Performans optimizasyonu tekniklerini öğrenin
  </Card>
  <Card title="Task Flow Tasarımı" icon="diagram-project" href="/tr/entegrasyon-otomasyon/task-flow-tasarimi">
    Task Flow tasarımı hakkında bilgi edinin
  </Card>
</CardGroup>
