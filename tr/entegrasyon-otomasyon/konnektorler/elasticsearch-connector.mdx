---
title: 'Elasticsearch Connector'
description: 'Elasticsearch bağlantısı, sorgu çalıştırma, veri indeksleme ve arama işlemleri'
---

Elasticsearch Connector, Task Flow'larda Elasticsearch ile etkileşim kurmanızı sağlar. Veri indeksleme, arama sorguları çalıştırma ve Elasticsearch'ten veri okuma işlemlerini gerçekleştirebilirsiniz.

## Genel Bakış

Elasticsearch Connector özellikleri:

* **Index Operations**: İndeks işlemleri
* **Search Queries**: Arama sorguları
* **Document Operations**: Doküman işlemleri
* **Bulk Operations**: Toplu işlemler

<CardGroup cols={2}>
  <Card title="Index Operations" icon="database">
    İndeks oluşturma ve yönetimi
  </Card>
  <Card title="Search Queries" icon="magnifying-glass">
    Arama sorguları
  </Card>
  <Card title="Document Operations" icon="file-lines">
    Doküman ekleme/güncelleme/silme
  </Card>
  <Card title="Bulk Operations" icon="layer-group">
    Toplu işlemler
  </Card>
</CardGroup>

## Elasticsearch Connection

### Connection Configuration

Elasticsearch Connector kullanmak için önce bir Elasticsearch Connection oluşturmanız gerekir:

1. **Connection Management** sayfasına gidin
2. **Elasticsearch Configuration** sekmesine tıklayın
3. **New Connection** butonuna tıklayın
4. Bağlantı bilgilerini girin:
   * **Name**: Bağlantı adı
   * **Host**: Elasticsearch sunucu adresi
   * **Port**: Port numarası (varsayılan: 9200)
   * **Protocol**: HTTP/HTTPS
   * **Authentication**: Kimlik doğrulama (Basic, API Key)
   * **Username**: Kullanıcı adı (Basic Auth için)
   * **Password**: Şifre (Secret Manager'da saklanır)

Daha fazla bilgi için [Elasticsearch Configuration](/tr/entegrasyon-otomasyon/baglanti-yonetimi/elasticsearch-configuration) sayfasına bakın.

## Index Operations

### Create Index

İndeks oluşturma:

```json
{
  "operation": "createIndex",
  "index": "orders",
  "settings": {
    "number_of_shards": 1,
    "number_of_replicas": 1
  },
  "mappings": {
    "properties": {
      "orderId": { "type": "keyword" },
      "customerId": { "type": "keyword" },
      "totalAmount": { "type": "double" },
      "orderDate": { "type": "date" }
    }
  }
}
```

### Delete Index

İndeks silme:

```json
{
  "operation": "deleteIndex",
  "index": "orders"
}
```

### Index Exists

İndeks kontrolü:

```json
{
  "operation": "indexExists",
  "index": "orders"
}
```

## Document Operations

### Index Document

Doküman indeksleme:

```json
{
  "operation": "index",
  "index": "orders",
  "id": "${orderId}",
  "document": {
    "orderId": "${orderId}",
    "customerId": "${customerId}",
    "totalAmount": ${totalAmount},
    "orderDate": "${orderDate}",
    "items": ${orderItems}
  }
}
```

### Get Document

Doküman okuma:

```json
{
  "operation": "get",
  "index": "orders",
  "id": "${orderId}"
}
```

### Update Document

Doküman güncelleme:

```json
{
  "operation": "update",
  "index": "orders",
  "id": "${orderId}",
  "document": {
    "status": "${newStatus}",
    "updatedAt": "${currentTimestamp}"
  }
}
```

### Delete Document

Doküman silme:

```json
{
  "operation": "delete",
  "index": "orders",
  "id": "${orderId}"
}
```

## Search Queries

### Simple Search

Basit arama:

```json
{
  "operation": "search",
  "index": "orders",
  "query": {
    "match": {
      "customerId": "${customerId}"
    }
  }
}
```

### Range Query

Aralık sorgusu:

```json
{
  "operation": "search",
  "index": "orders",
  "query": {
    "range": {
      "orderDate": {
        "gte": "${startDate}",
        "lte": "${endDate}"
      }
    }
  }
}
```

### Bool Query

Boolean sorgu:

```json
{
  "operation": "search",
  "index": "orders",
  "query": {
    "bool": {
      "must": [
        { "match": { "status": "completed" } },
        { "range": { "totalAmount": { "gte": 1000 } } }
      ],
      "must_not": [
        { "match": { "cancelled": true } }
      ]
    }
  }
}
```

### Aggregation

Toplama sorguları:

```json
{
  "operation": "search",
  "index": "orders",
  "query": {
    "match_all": {}
  },
  "aggs": {
    "total_sales": {
      "sum": {
        "field": "totalAmount"
      }
    },
    "by_status": {
      "terms": {
        "field": "status"
      }
    }
  }
}
```

## Bulk Operations

### Bulk Index

Toplu indeksleme:

```json
{
  "operation": "bulk",
  "index": "orders",
  "documents": [
    {
      "index": { "_id": "1" },
      "source": {
        "orderId": "ORD-001",
        "customerId": "CUST-001",
        "totalAmount": 1000.00
      }
    },
    {
      "index": { "_id": "2" },
      "source": {
        "orderId": "ORD-002",
        "customerId": "CUST-002",
        "totalAmount": 2000.00
      }
    }
  ]
}
```

### Bulk Update

Toplu güncelleme:

```json
{
  "operation": "bulk",
  "index": "orders",
  "operations": [
    {
      "update": { "_id": "1" },
      "doc": {
        "status": "completed"
      }
    },
    {
      "update": { "_id": "2" },
      "doc": {
        "status": "completed"
      }
    }
  ]
}
```

## Query Parameters

### Pagination

Sayfalama:

```json
{
  "operation": "search",
  "index": "orders",
  "query": { "match_all": {} },
  "from": 0,
  "size": 10
}
```

### Sorting

Sıralama:

```json
{
  "operation": "search",
  "index": "orders",
  "query": { "match_all": {} },
  "sort": [
    { "orderDate": { "order": "desc" } },
    { "totalAmount": { "order": "asc" } }
  ]
}
```

### Field Filtering

Alan filtreleme:

```json
{
  "operation": "search",
  "index": "orders",
  "query": { "match_all": {} },
  "_source": ["orderId", "customerId", "totalAmount"]
}
```

## Usage Examples

### Example 1: Index Order

```
Database Connector (Sipariş verisi çekme)
├─→ Script Connector (Veri dönüştürme)
└─→ Elasticsearch Connector (İndeksleme)
```

### Example 2: Search Orders

```
Elasticsearch Connector (Sipariş arama)
├─→ Script Connector (Sonuç işleme)
└─→ HTTP Connector (API'ye gönderme)
```

### Example 3: Update Order Status

```
HTTP Connector (Sipariş durumu güncelleme)
├─→ Database Connector (Veritabanı güncelleme)
└─→ Elasticsearch Connector (Elasticsearch güncelleme)
```

## Error Handling

### Elasticsearch Errors

Elasticsearch hataları:

* **Connection Errors**: Bağlantı hataları
* **Index Errors**: İndeks hataları
* **Query Errors**: Sorgu hataları
* **Document Errors**: Doküman hataları

### Error Handling Strategies

Hata yönetimi stratejileri:

* **Retry on Transient Errors**: Geçici hatalarda yeniden deneme
* **Error Logging**: Hata loglama
* **Fallback Actions**: Yedek eylemler
* **Error Notification**: Hata bildirimi

## Performance Optimization

### Bulk Operations

Toplu işlemler:

* **Batch Size**: Toplu işlem boyutu
* **Bulk API**: Bulk API kullanımı
* **Async Processing**: Asenkron işleme

### Query Optimization

Sorgu optimizasyonu:

* **Index Usage**: İndeks kullanımı
* **Query Caching**: Sorgu önbellekleme
* **Field Filtering**: Alan filtreleme
* **Pagination**: Sayfalama

## Best Practices

<CardGroup cols={2}>
  <Card title="Toplu İşlemler Kullanın" icon="layer-group">
    Birden fazla doküman için top lu işlemler kullanın
  </Card>
  <Card title="Sorguları Optimize Edin" icon="gauge">
    Performans için arama sorgularını optimize edin
  </Card>
  <Card title="Hata Yönetimi" icon="exclamation-triangle">
    Uygun hata yönetimi uygulayın
  </Card>
</CardGroup>

### Index Design

* **Index Naming**: Tutarlı indeks isimlendirme
* **Mapping Design**: Mapping tasarımı
* **Shard Configuration**: Shard yapılandırması
* **Replica Configuration**: Replica yapılandırması

### Query Design

* **Efficient Queries**: Verimli sorgular
* **Use Filters**: Filter kullanımı
* **Avoid Wildcards**: Wildcard'lardan kaçının
* **Pagination**: Sayfalama kullanın

### Performance

* **Bulk Operations**: Toplu işlemler kullanın
* **Connection Pooling**: Bağlantı havuzlama
* **Async Operations**: Asenkron işlemler
* **Monitoring**: İzleme yapın

## Sonraki Adımlar

<CardGroup cols={2}>
  <Card title="Elasticsearch Configuration" icon="plug" href="/tr/entegrasyon-otomasyon/baglanti-yonetimi/elasticsearch-configuration">
    Elasticsearch bağlantı yapılandırması
  </Card>
  <Card title="Database Connector" icon="database" href="/tr/entegrasyon-otomasyon/konnektorler/database-connector">
    Veritabanı işlemleri
  </Card>
  <Card title="Error Handling & Retries" icon="exclamation-triangle" href="/tr/entegrasyon-otomasyon/error-handling-retries">
    Hata yönetimi ve retry mekanizmaları
  </Card>
  <Card title="Performance Optimization" icon="chart-line" href="/tr/entegrasyon-otomasyon/performance-optimization">
    Performans optimizasyonu teknikleri
  </Card>
</CardGroup>
