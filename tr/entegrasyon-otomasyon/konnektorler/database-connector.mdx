---
title: 'Database Connector'
description: 'Veritabanı bağlantıları kurun, SQL sorguları çalıştırın ve veritabanı işlemlerini Task Flow'larda kullanın'
---

Database Connector, Task Flow'larda veritabanı işlemlerini gerçekleştirmenizi sağlayan güçlü bir konnektördür. Bu connector sayesinde SQL sorguları çalıştırabilir, veritabanından veri okuyabilir, veri yazabilir ve stored procedure'ları çağırabilirsiniz.

## Genel Bakış

Database Connector şu özellikleri sunar:

* SQL sorguları çalıştırma (SELECT, INSERT, UPDATE, DELETE)
* Stored procedure çağırma
* Transaction yönetimi
* Batch işlemler
* Connection pooling
* Parametreli sorgular

<CardGroup cols={2}>
  <Card title="SQL Sorguları" icon="database">
    SELECT, INSERT, UPDATE, DELETE
  </Card>
  <Card title="Stored Procedures" icon="code">
    Stored procedure çağırma
  </Card>
  <Card title="Transactions" icon="rotate">
    Transaction yönetimi
  </Card>
  <Card title="Batch İşlemler" icon="layer-group">
    Toplu işlemler
  </Card>
</CardGroup>

## Database Connector Kullanımı

Database Connector'ı Task Flow'da kullanmak için:

1. Task Flow tasarım ekranında **Database Task** ekleyin
2. Database connection'ı seçin
3. Query tipini belirleyin
4. SQL sorgusunu yazın
5. Parametreleri yapılandırın

## Connection Yapılandırması

Database connection yapılandırmak için:

1. **Connection Management** → **Database Connections** bölümüne gidin
2. Yeni connection oluşturun veya mevcut connection'ı seçin

**Connection Ayarları:**
* **Connection Name**: Bağlantı adı
* **Database Type**: Veritabanı türü (MySQL, PostgreSQL, Oracle, SQL Server, vb.)
* **Host**: Sunucu adresi
* **Port**: Port numarası
* **Database Name**: Veritabanı adı
* **Username**: Kullanıcı adı
* **Password**: Şifre
* **Connection Pool**: Connection pool ayarları

## Query Tipleri

Database Connector şu query tiplerini destekler:

### SELECT Query

Veri okuma sorguları:

**Örnek:**
```sql
SELECT id, name, email FROM users WHERE status = ?
```

**Parametreler:**
```
status = "active"
```

**Output:**
```json
[
  {"id": 1, "name": "John", "email": "john@example.com"},
  {"id": 2, "name": "Jane", "email": "jane@example.com"}
]
```

### INSERT Query

Veri ekleme sorguları:

**Örnek:**
```sql
INSERT INTO users (name, email, status) VALUES (?, ?, ?)
```

**Parametreler:**
```
name = "John Doe"
email = "john@example.com"
status = "active"
```

**Output:**
```json
{
  "affectedRows": 1,
  "insertId": 123
}
```

### UPDATE Query

Veri güncelleme sorguları:

**Örnek:**
```sql
UPDATE users SET status = ? WHERE id = ?
```

**Parametreler:**
```
status = "inactive"
id = 123
```

**Output:**
```json
{
  "affectedRows": 1
}
```

### DELETE Query

Veri silme sorguları:

**Örnek:**
```sql
DELETE FROM users WHERE id = ?
```

**Parametreler:**
```
id = 123
```

**Output:**
```json
{
  "affectedRows": 1
}
```

### Stored Procedure

Stored procedure çağırma:

**Örnek:**
```sql
CALL get_user_by_id(?)
```

**Parametreler:**
```
userId = 123
```

**Output:**
```json
{
  "id": 123,
  "name": "John",
  "email": "john@example.com"
}
```

## Parametreli Sorgular

Güvenli sorgu yazmak için parametreli sorgular kullanın:

### Positional Parameters

Sıralı parametreler:

```sql
SELECT * FROM users WHERE name = ? AND status = ?
```

**Parametreler:**
```
[0] = "John"
[1] = "active"
```

### Named Parameters

İsimli parametreler:

```sql
SELECT * FROM users WHERE name = :name AND status = :status
```

**Parametreler:**
```
name = "John"
status = "active"
```

### Variable Kullanımı

Task Flow variable'larını kullanın:

```sql
SELECT * FROM users WHERE id = ?
```

**Parametreler:**
```
[0] = ${userId}
```

## Batch İşlemler

Toplu işlemler için:

### Batch Insert

```sql
INSERT INTO users (name, email) VALUES (?, ?)
```

**Batch Data:**
```json
[
  ["John", "john@example.com"],
  ["Jane", "jane@example.com"],
  ["Bob", "bob@example.com"]
]
```

### Batch Update

```sql
UPDATE users SET status = ? WHERE id = ?
```

**Batch Data:**
```json
[
  ["inactive", 1],
  ["inactive", 2],
  ["inactive", 3]
]
```

## Transaction Yönetimi

Transaction yönetimi için:

### Transaction Başlatma

```sql
START TRANSACTION
```

### Commit

```sql
COMMIT
```

### Rollback

```sql
ROLLBACK
```

### Transaction Örneği

```
Start Transaction → Insert User → Insert Profile → Commit
                                    ↓ (Error)
                                  Rollback
```

## Connection Pooling

Connection pooling için:

**Ayarlar:**
* **Min Pool Size**: Minimum pool boyutu
* **Max Pool Size**: Maksimum pool boyutu
* **Connection Timeout**: Bağlantı timeout'u
* **Idle Timeout**: Boşta timeout

**Örnek:**
```
Min Pool Size: 5
Max Pool Size: 20
Connection Timeout: 30s
Idle Timeout: 60s
```

## Error Handling

Database hatalarını yönetmek için:

### Error Types

* **Connection Error**: Bağlantı hataları
* **Query Error**: Sorgu hataları
* **Timeout Error**: Zaman aşımı hataları
* **Constraint Error**: Kısıtlama hataları

### Error Handling Stratejileri

* **Retry**: Yeniden deneme
* **Fallback**: Alternatif sorgu
* **Log**: Hata loglama
* **Alert**: Hata bildirimi

## Best Practices

### Güvenlik

* **Parameterized Queries**: Parametreli sorgular kullanın
* **Input Validation**: Girdi doğrulaması yapın
* **Least Privilege**: Minimum yetki prensibi
* **SQL Injection Prevention**: SQL injection önleme

### Performance

* **Index Usage**: Index'leri kullanın
* **Query Optimization**: Sorguları optimize edin
* **Connection Pooling**: Connection pooling kullanın
* **Batch Operations**: Batch işlemler yapın

### Reliability

* **Error Handling**: Hata yönetimi yapın
* **Transaction Management**: Transaction yönetimi yapın
* **Connection Management**: Bağlantı yönetimi yapın
* **Monitoring**: İzleme yapın

## Örnek Senaryolar

### Senaryo 1: Kullanıcı Bilgilerini Çekme

```
Task: Get User
Query Type: SELECT
Query: SELECT * FROM users WHERE id = ?
Parameters: [${userId}]
Output: ${userData}
```

### Senaryo 2: Kullanıcı Oluşturma

```
Task: Create User
Query Type: INSERT
Query: INSERT INTO users (name, email) VALUES (?, ?)
Parameters: [${userName}, ${userEmail}]
Output: ${newUserId}
```

### Senaryo 3: Toplu Güncelleme

```
Task: Update Users Status
Query Type: UPDATE (Batch)
Query: UPDATE users SET status = ? WHERE id = ?
Batch Data: ${userUpdates}
```

## Sonraki Adımlar

<CardGroup cols={2}>
  <Card title="Connection Management" icon="plug" href="/tr/entegrasyon-otomasyon/baglanti-yonetimi/database-connections">
    Veritabanı bağlantı yönetimi
  </Card>
  <Card title="Task Flow Tasarımı" icon="palette" href="/tr/entegrasyon-otomasyon/task-flow-tasarimi">
    Task Flow tasarım rehberi
  </Card>
  <Card title="Error Handling" icon="shield" href="/tr/entegrasyon-otomasyon/error-handling-retries">
    Hata yönetimi
  </Card>
  <Card title="Performance Optimization" icon="gauge" href="/tr/entegrasyon-otomasyon/performance-optimization">
    Performans optimizasyonu
  </Card>
</CardGroup>
