---
title: 'Database Connector'
description: 'Veritabanı bağlantıları, SQL sorguları, stored procedure çalıştırma ve veri işleme'
---

Database Connector, Task Flow'larda veritabanı işlemleri yapmanızı sağlar. SQL sorguları çalıştırabilir, stored procedure'ları çağırabilir ve veritabanından veri okuyup yazabilirsiniz.

## Genel Bakış

Database Connector özellikleri:

* **SQL Execution**: SQL sorguları çalıştırma
* **Stored Procedures**: Stored procedure çağırma
* **Transaction Support**: Transaction desteği
* **Multiple Database Support**: Çoklu veritabanı desteği

<CardGroup cols={2}>
  <Card title="SQL Queries" icon="database">
    SELECT, INSERT, UPDATE, DELETE sorguları
  </Card>
  <Card title="Stored Procedures" icon="code">
    Stored procedure çağırma
  </Card>
  <Card title="Transactions" icon="arrows-rotate">
    Transaction yönetimi
  </Card>
  <Card title="Multiple Databases" icon="server">
    MySQL, PostgreSQL, Oracle, MSSQL, DB2
  </Card>
</CardGroup>

## Desteklenen Veritabanları

Database Connector şu veritabanlarını destekler:

* **MySQL**: MySQL veritabanları
* **PostgreSQL**: PostgreSQL veritabanları
* **Oracle**: Oracle veritabanları
* **Microsoft SQL Server**: MSSQL veritabanları
* **IBM DB2**: DB2 veritabanları

## Connection Configuration

### Database Connection

Database Connector kullanmak için önce bir Database Connection oluşturmanız gerekir:

1. **Connection Management** sayfasına gidin
2. **Database Connections** sekmesine tıklayın
3. **New Connection** butonuna tıklayın
4. Bağlantı bilgilerini girin:
   * **Name**: Bağlantı adı
   * **Database Type**: Veritabanı tipi
   * **Host**: Sunucu adresi
   * **Port**: Port numarası
   * **Database Name**: Veritabanı adı
   * **Username**: Kullanıcı adı
   * **Password**: Şifre (Secret Manager'da saklanır)
   * **Connection Pool Settings**: Bağlantı havuzu ayarları

Daha fazla bilgi için [Database Connections](/tr/entegrasyon-otomasyon/baglanti-yonetimi/database-connections) sayfasına bakın.

## SQL Query Execution

### SELECT Queries

Veri okuma sorguları:

**Basit SELECT:**
```sql
SELECT * FROM customers WHERE status = 'active'
```

**Parametreli SELECT:**
```sql
SELECT * FROM orders WHERE customer_id = :customerId AND order_date > :startDate
```

**JOIN ile SELECT:**
```sql
SELECT o.order_id, c.customer_name, o.total_amount
FROM orders o
JOIN customers c ON o.customer_id = c.customer_id
WHERE o.status = 'pending'
```

### INSERT Queries

Veri ekleme sorguları:

**Basit INSERT:**
```sql
INSERT INTO customers (name, email, status) 
VALUES ('John Doe', 'john@example.com', 'active')
```

**Parametreli INSERT:**
```sql
INSERT INTO orders (customer_id, product_id, quantity, total_amount)
VALUES (:customerId, :productId, :quantity, :totalAmount)
```

**Bulk INSERT:**
```sql
INSERT INTO products (name, price, category)
VALUES 
  ('Product 1', 100.00, 'Category A'),
  ('Product 2', 200.00, 'Category B'),
  ('Product 3', 300.00, 'Category A')
```

### UPDATE Queries

Veri güncelleme sorguları:

**Basit UPDATE:**
```sql
UPDATE customers SET status = 'inactive' WHERE last_login < DATE_SUB(NOW(), INTERVAL 1 YEAR)
```

**Parametreli UPDATE:**
```sql
UPDATE orders SET status = :status, updated_at = NOW() WHERE order_id = :orderId
```

### DELETE Queries

Veri silme sorguları:

**Basit DELETE:**
```sql
DELETE FROM temp_data WHERE created_at < DATE_SUB(NOW(), INTERVAL 7 DAY)
```

**Parametreli DELETE:**
```sql
DELETE FROM order_items WHERE order_id = :orderId
```

## Stored Procedure Execution

### Calling Stored Procedures

Stored procedure çağırma:

**Basit Stored Procedure:**
```sql
CALL get_customer_orders(:customerId)
```

**Stored Procedure with Output:**
```sql
CALL calculate_order_total(:orderId, @total)
SELECT @total as total_amount
```

**Stored Procedure with Multiple Parameters:**
```sql
CALL create_order(:customerId, :productId, :quantity, @orderId)
SELECT @orderId as new_order_id
```

## Parameter Binding

### Input Parameters

Girdi parametreleri:

* **Named Parameters**: İsimli parametreler (`:paramName`)
* **Positional Parameters**: Pozisyonel parametreler (`?`)
* **Variable Binding**: Task Flow değişkenlerinden bağlama

**Örnek:**
```sql
SELECT * FROM orders 
WHERE customer_id = :customerId 
  AND order_date BETWEEN :startDate AND :endDate
```

Task Flow değişkenlerinden:
- `customerId` → `:customerId`
- `startDate` → `:startDate`
- `endDate` → `:endDate`

### Output Parameters

Çıktı parametreleri:

* **Result Set**: Sorgu sonuçları
* **Output Variables**: Çıktı değişkenleri
* **Return Values**: Dönüş değerleri

## Transaction Management

### Transaction Support

Transaction desteği:

* **Auto Commit**: Otomatik commit (varsayılan)
* **Manual Transaction**: Manuel transaction yönetimi
* **Rollback on Error**: Hata durumunda rollback

### Transaction Example

```sql
BEGIN TRANSACTION;

INSERT INTO orders (customer_id, total_amount) VALUES (:customerId, :amount);
SET @orderId = LAST_INSERT_ID();

INSERT INTO order_items (order_id, product_id, quantity) 
VALUES (@orderId, :productId, :quantity);

COMMIT;
```

## Result Handling

### Single Row Results

Tek satır sonuçları:

* **Result as Object**: Sonuç nesne olarak
* **Field Mapping**: Alan eşleştirme
* **Variable Assignment**: Değişkene atama

### Multiple Row Results

Çoklu satır sonuçları:

* **Result as Array**: Sonuç dizi olarak
* **Row Iteration**: Satır iterasyonu
* **Batch Processing**: Toplu işleme

### Result Mapping

Sonuç eşleştirme:

* **Field Mapping**: Alan eşleştirme
* **Type Conversion**: Tip dönüştürme
* **Data Transformation**: Veri dönüştürme

## Error Handling

### Database Errors

Veritabanı hataları:

* **Connection Errors**: Bağlantı hataları
* **SQL Errors**: SQL hataları
* **Constraint Violations**: Kısıt ihlalleri
* **Timeout Errors**: Zaman aşımı hataları

### Error Handling Strategies

Hata yönetimi stratejileri:

* **Retry on Transient Errors**: Geçici hatalarda yeniden deneme
* **Log Errors**: Hataları loglama
* **Fallback Actions**: Yedek eylemler
* **Error Notification**: Hata bildirimi

## Performance Optimization

### Query Optimization

Sorgu optimizasyonu:

* **Index Usage**: İndeks kullanımı
* **Query Tuning**: Sorgu ayarlama
* **Batch Operations**: Toplu işlemler
* **Connection Pooling**: Bağlantı havuzlama

### Best Practices

En iyi uygulamalar:

* **Use Parameters**: Parametreli sorgular kullanın
* **Avoid SELECT ***: Gereksiz alanları seçmeyin
* **Use Transactions**: Uygun yerlerde transaction kullanın
* **Connection Pooling**: Bağlantı havuzlama kullanın
* **Query Timeout**: Sorgu zaman aşımı ayarlayın

## Security Considerations

### SQL Injection Prevention

SQL injection önleme:

* **Parameter Binding**: Parametre bağlama kullanın
* **Input Validation**: Girdi doğrulama
* **Least Privilege**: Minimum yetki prensibi
* **Prepared Statements**: Hazırlanmış ifadeler

### Credential Management

Kimlik bilgisi yönetimi:

* **Secret Manager**: Şifreleri Secret Manager'da saklayın
* **Encrypted Connections**: Şifreli bağlantılar
* **Access Control**: Erişim kontrolü

## Usage Examples

### Example 1: Read Customer Data

```
Database Connector:
- Connection: Production DB
- Query Type: SELECT
- SQL: SELECT * FROM customers WHERE customer_id = :customerId
- Input: customerId (from Task Flow variable)
- Output: customerData (to Task Flow variable)
```

### Example 2: Create Order

```
Database Connector:
- Connection: Production DB
- Query Type: INSERT
- SQL: INSERT INTO orders (customer_id, total_amount, status) 
       VALUES (:customerId, :totalAmount, 'pending')
- Input: customerId, totalAmount
- Output: orderId (LAST_INSERT_ID())
```

### Example 3: Call Stored Procedure

```
Database Connector:
- Connection: Production DB
- Query Type: Stored Procedure
- SQL: CALL process_order(:orderId, @result)
       SELECT @result as processResult
- Input: orderId
- Output: processResult
```

## Sonraki Adımlar

<CardGroup cols={2}>
  <Card title="Database Connections" icon="plug" href="/tr/entegrasyon-otomasyon/baglanti-yonetimi/database-connections">
    Veritabanı bağlantıları yapılandırması
  </Card>
  <Card title="HTTP/REST Connector" icon="globe" href="/tr/entegrasyon-otomasyon/konnektorler/http-rest-connector">
    HTTP/REST API çağrıları
  </Card>
  <Card title="Task Flow Tasarımı" icon="diagram-project" href="/tr/entegrasyon-otomasyon/task-flow-tasarimi">
    Task Flow tasarımı hakkında bilgi
  </Card>
  <Card title="Error Handling & Retries" icon="exclamation-triangle" href="/tr/entegrasyon-otomasyon/error-handling-retries">
    Hata yönetimi ve retry mekanizmaları
  </Card>
</CardGroup>
