---
title: 'Database Connector'
description: 'Veritabanlarına bağlanın, SQL sorguları çalıştırın, stored procedure\'ları çağırın ve Task Flow\'larda veritabanı işlemleri gerçekleştirin'
---

Database Connector, çeşitli veritabanı sistemlerine bağlanmanıza ve Task Flow'lar içinde SQL sorguları, stored procedure'lar ve diğer veritabanı işlemlerini çalıştırmanıza olanak tanır.

## Genel Bakış

Database Connector, MySQL, PostgreSQL, Oracle, Microsoft SQL Server, DB2 ve diğer JDBC uyumlu veritabanları dahil olmak üzere ilişkisel veritabanlarına bağlantı sağlar.

<CardGroup cols={2}>
  <Card title="SQL Çalıştırma" icon="database">
    SQL sorguları ve ifadeleri çalıştırın
  </Card>
  <Card title="Stored Procedures" icon="code">
    Stored procedure ve fonksiyonları çağırın
  </Card>
  <Card title="Transaction Desteği" icon="arrows-rotate">
    Transaction desteği
  </Card>
  <Card title="Connection Pooling" icon="layer-group">
    Verimli bağlantı yönetimi
  </Card>
</CardGroup>

## Desteklenen Veritabanları

Database Connector aşağıdaki veritabanlarını destekler:

* **MySQL**: MySQL 5.7+, MySQL 8.0+
* **PostgreSQL**: PostgreSQL 9.6+
* **Oracle**: Oracle 11g+, Oracle 12c+, Oracle 19c+
* **Microsoft SQL Server**: SQL Server 2012+
* **DB2**: DB2 10.5+
* **Diğer JDBC Veritabanları**: JDBC uyumlu herhangi bir veritabanı

## Yapılandırma

### Bağlantı Seçimi

Veritabanı bağlantısı seçin veya oluşturun:

1. **Mevcut Bağlantıyı Seç**: Yapılandırılmış veritabanı bağlantılarından seçin
2. **Yeni Bağlantı Oluştur**: Yeni bir veritabanı bağlantısı oluşturun
3. **Bağlantı Özellikleri**: Bağlantı özelliklerini yapılandırın

**Bağlantı Özellikleri:**

* **Bağlantı Adı**: Bağlantı için benzersiz ad
* **Veritabanı Türü**: Veritabanı satıcısı (MySQL, PostgreSQL, vb.)
* **Host**: Veritabanı sunucu hostname'i veya IP
* **Port**: Veritabanı sunucu portu
* **Veritabanı Adı**: Veritabanının adı
* **Kullanıcı Adı**: Veritabanı kullanıcı adı
* **Şifre**: Veritabanı şifresi
* **Connection Pool**: Bağlantı havuzu yapılandırması

### Eylem Türleri

Database Connector çeşitli eylem türlerini destekler:

**Sorgu Eylemleri:**

* **Execute Query**: SELECT sorgularını çalıştırın
* **Execute Update**: INSERT, UPDATE, DELETE ifadelerini çalıştırın
* **Execute Batch**: Batch işlemlerini çalıştırın
* **Call Stored Procedure**: Stored procedure veya fonksiyonları çağırın

## Execute Query

Veritabanından veri almak için SELECT sorgularını çalıştırın.

### Yapılandırma

**Sorgu Yapılandırması:**

* **SQL Query**: SQL SELECT ifadesi
* **Parameters**: Sorgu parametreleri (isimli veya konumsal)
* **Result Mapping**: Sorgu sonuçlarını değişkenlere eşleyin
* **Timeout**: Sorgu çalıştırma zaman aşımı

**Örnek Sorgu:**

```sql
SELECT id, name, email, status
FROM customers
WHERE status = :status
  AND created_date >= :startDate
ORDER BY created_date DESC
LIMIT :limit
```

### Parametre Bağlama

Sorgulara parametre bağlayın:

**İsimli Parametreler:**

```sql
SELECT * FROM orders WHERE customer_id = :customerId
```

**Parametre Değerleri:**

```json
{
  "customerId": "${customerId}"
}
```

**Konumsal Parametreler:**

```sql
SELECT * FROM orders WHERE customer_id = ? AND status = ?
```

**Parametre Değerleri:**

```json
{
  "parameters": ["${customerId}", "active"]
}
```

### Sonuç Eşleme

Sorgu sonuçlarını Task Flow değişkenlerine eşleyin:

**Tek Satır Sonucu:**

```json
{
  "customer": "${result[0]}"
}
```

**Çoklu Satır Sonucu:**

```json
{
  "customers": "${result}"
}
```

**Belirli Sütunlar:**

```json
{
  "customerId": "${result[0].id}",
  "customerName": "${result[0].name}",
  "customerEmail": "${result[0].email}"
}
```

### Sonuç Formatı

Sorgu sonuçları nesne dizileri olarak döndürülür:

**Örnek Sonuç:**

```json
[
  {
    "id": "123",
    "name": "John Doe",
    "email": "john@example.com",
    "status": "active"
  },
  {
    "id": "456",
    "name": "Jane Smith",
    "email": "jane@example.com",
    "status": "active"
  }
]
```

## Execute Update

INSERT, UPDATE veya DELETE ifadelerini çalıştırın.

### Yapılandırma

**Update Yapılandırması:**

* **SQL Statement**: INSERT, UPDATE veya DELETE ifadesi
* **Parameters**: İfade parametreleri
* **Result Mapping**: Çalıştırma sonuçlarını değişkenlere eşleyin

**Örnek INSERT:**

```sql
INSERT INTO customers (name, email, status)
VALUES (:name, :email, :status)
```

**Örnek UPDATE:**

```sql
UPDATE customers
SET status = :status, updated_date = NOW()
WHERE id = :customerId
```

**Örnek DELETE:**

```sql
DELETE FROM customers
WHERE id = :customerId
```

### Parametre Bağlama

Update ifadelerine parametre bağlayın:

**Örnek:**

```json
{
  "name": "${customer.name}",
  "email": "${customer.email}",
  "status": "active",
  "customerId": "${customerId}"
}
```

### Sonuç Eşleme

Update sonuçlarını eşleyin:

**Etkilenen Satırlar:**

```json
{
  "affectedRows": "${result.affectedRows}",
  "insertId": "${result.insertId}"
}
```

## Execute Batch

Daha iyi performans için birden fazla ifadeyi batch'te çalıştırın.

### Yapılandırma

**Batch Yapılandırması:**

* **SQL Statement**: SQL ifade şablonu
* **Batch Data**: Parametre setleri dizisi
* **Batch Size**: Batch başına ifade sayısı

**Örnek:**

```sql
INSERT INTO orders (customer_id, product_id, quantity, price)
VALUES (:customerId, :productId, :quantity, :price)
```

**Batch Data:**

```json
{
  "batchData": [
    {
      "customerId": "123",
      "productId": "P001",
      "quantity": 2,
      "price": 99.99
    },
    {
      "customerId": "123",
      "productId": "P002",
      "quantity": 1,
      "price": 149.99
    }
  ]
}
```

### Faydalar

* **Performans**: Bireysel insert'lerden daha hızlı
* **Transaction**: Tüm ifadeler aynı transaction'da
* **Verimlilik**: Azaltılmış ağ round trip'leri

## Call Stored Procedure

Stored procedure veya fonksiyonları çağırın.

### Yapılandırma

**Stored Procedure Yapılandırması:**

* **Procedure Name**: Stored procedure adı
* **Parameters**: Girdi ve çıktı parametreleri
* **Result Mapping**: Procedure sonuçlarını eşleyin

**Örnek:**

```sql
CALL get_customer_orders(:customerId, :startDate, :endDate)
```

**Parametre Yapılandırması:**

```json
{
  "inputParameters": {
    "customerId": "${customerId}",
    "startDate": "${startDate}",
    "endDate": "${endDate}"
  },
  "outputParameters": {
    "orderCount": "OUT",
    "totalAmount": "OUT"
  }
}
```

### Sonuç Eşleme

Stored procedure sonuçlarını eşleyin:

```json
{
  "orderCount": "${result.orderCount}",
  "totalAmount": "${result.totalAmount}",
  "orders": "${result.resultSet}"
}
```

## Transactions

### Transaction Desteği

Database Connector transaction'ları destekler:

**Transaction Yapılandırması:**

* **Auto Commit**: Auto-commit'i etkinleştirin veya devre dışı bırakın
* **Transaction Isolation**: İzolasyon seviyesini ayarlayın
* **Rollback on Error**: Hata durumunda otomatik rollback

**Transaction Akışı:**

```
Begin Transaction
  ├─ Execute Query 1
  ├─ Execute Update 1
  ├─ Execute Update 2
  └─ Commit Transaction
```

### Manuel Transaction Kontrolü

Transaction'ları manuel olarak kontrol edin:

**Transaction Başlat:**

```javascript
// Transaction başlat
beginTransaction();
```

**Transaction Commit:**

```javascript
// Transaction commit et
commitTransaction();
```

**Transaction Rollback:**

```javascript
// Transaction rollback et
rollbackTransaction();
```

## Connection Pooling

### Havuz Yapılandırması

Daha iyi performans için bağlantı havuzlarını yapılandırın:

**Havuz Ayarları:**

* **Min Pool Size**: Minimum bağlantı sayısı
* **Max Pool Size**: Maksimum bağlantı sayısı
* **Connection Timeout**: Bağlantı edinme zaman aşımı
* **Idle Timeout**: Boşta bağlantı zaman aşımı
* **Validation Query**: Bağlantıları doğrulamak için sorgu

**Faydalar:**

* **Performans**: Bağlantıları yeniden kullanın
* **Verimlilik**: Azaltılmış bağlantı overhead'i
* **Ölçeklenebilirlik**: Eşzamanlı istekleri yönetin

## Hata Yönetimi

### Veritabanı Hataları

Veritabanına özel hataları yönetin:

**Hata Türleri:**

* **Bağlantı Hataları**: Veritabanına bağlanılamadı
* **SQL Hataları**: SQL sözdizimi veya çalıştırma hataları
* **Kısıtlama Hataları**: Veritabanı kısıtlamalarının ihlali
* **Zaman Aşımı Hataları**: Sorgu çalıştırma zaman aşımı

**Hata Yönetimi:**

* **Retry Logic**: Bağlantı hatalarında retry
* **Error Logging**: Hata detaylarını loglayın
* **Fallback**: Fallback mekanizmaları sağlayın

## En İyi Uygulamalar

<CardGroup cols={2}>
  <Card title="Parametreli Sorgular Kullanın" icon="shield-halved">
    SQL injection'ı önlemek için her zaman parametre kullanın
  </Card>
  <Card title="Sorguları Optimize Edin" icon="gauge">
    Uygun index'lerle verimli SQL sorguları yazın
  </Card>
  <Card title="Connection Pooling Kullanın" icon="layer-group">
    Daha iyi performans için bağlantı havuzlarını yapılandırın
  </Card>
  <Card title="Hataları Yönetin" icon="exclamation-triangle">
    Uygun hata yönetimi ve retry mantığı uygulayın
  </Card>
  <Card title="Transaction Kullanın" icon="arrows-rotate">
    İlgili işlemler için transaction kullanın
  </Card>
  <Card title="Sonuç Setlerini Sınırlayın" icon="list">
    Sonuç seti boyutlarını sınırlamak için LIMIT clause'ları kullanın
  </Card>
  <Card title="Performansı İzleyin" icon="chart-line">
    Sorgu çalıştırma sürelerini izleyin
  </Card>
  <Card title="Sorguları Test Edin" icon="flask">
    Production'a dağıtmadan önce sorguları test edin
  </Card>
</CardGroup>

## Yaygın Desenler

### Lookup Pattern

Veritabanından veri arayın:

```sql
SELECT * FROM customers WHERE id = :customerId
```

### Insert Pattern

Yeni kayıtlar ekleyin:

```sql
INSERT INTO orders (customer_id, total, status)
VALUES (:customerId, :total, 'pending')
```

### Update Pattern

Mevcut kayıtları güncelleyin:

```sql
UPDATE orders
SET status = :status, updated_date = NOW()
WHERE id = :orderId
```

### Batch Insert Pattern

Birden fazla kayıt ekleyin:

```sql
INSERT INTO order_items (order_id, product_id, quantity)
VALUES (:orderId, :productId, :quantity)
```

## Güvenlik Düşünceleri

### SQL Injection Önleme

* Her zaman parametreli sorgular kullanın
* Kullanıcı girdisini SQL'e asla birleştirmeyin
* Girdi parametrelerini doğrulayın
* Uygun olduğunda stored procedure'ları kullanın

### Bağlantı Güvenliği

* Şifreli bağlantılar kullanın (SSL/TLS)
* Kimlik bilgilerini güvenli bir şekilde saklayın
* Connection pooling kullanın
* Veritabanı kullanıcı izinlerini sınırlayın

## İlgili Konular

<CardGroup cols={2}>
  <Card title="Database Connections" icon="plug" href="/tr/entegrasyon-otomasyon/baglanti-yonetimi/database-connections">
    Veritabanı bağlantılarını yapılandırın
  </Card>
  <Card title="Task Flow Tasarımı" icon="diagram-project" href="/tr/entegrasyon-otomasyon/task-flow-tasarimi">
    Task Flow tasarımını öğrenin
  </Card>
  <Card title="Error Handling & Retries" icon="rotate-right" href="/tr/entegrasyon-otomasyon/error-handling-retries">
    Task Flow'larda hataları yönetin
  </Card>
  <Card title="Performance Optimization" icon="gauge" href="/tr/entegrasyon-otomasyon/performance-optimization">
    Task Flow performansını optimize edin
  </Card>
</CardGroup>
