---
title: 'Error Handling & Retries'
description: 'Task Flow\'larda hata yönetimi, retry mekanizmaları ve fallback stratejileri nasıl yapılandırılır'
---

Task Flow'larda hata yönetimi ve retry mekanizmaları, entegrasyon senaryolarınızın güvenilirliğini ve dayanıklılığını artırır. Doğru yapılandırılmış hata yönetimi sayesinde geçici hataları otomatik olarak yönetebilir ve kritik hatalarda uygun aksiyonlar alabilirsiniz.

## Genel Bakış

Hata yönetimi ve retry mekanizmaları sayesinde:

* Geçici hataları otomatik olarak yönetebilirsiniz
* Kritik hatalarda uygun aksiyonlar alabilirsiniz
* Task Flow'ların güvenilirliğini artırabilirsiniz
* Hata durumlarını izleyebilir ve analiz edebilirsiniz

<CardGroup cols={2}>
  <Card title="Try-Catch Blokları" icon="shield-halved">
    Hata yakalama ve yönetimi
  </Card>
  <Card title="Retry Mekanizması" icon="repeat">
    Otomatik yeniden deneme
  </Card>
  <Card title="Fallback Stratejileri" icon="arrow-down">
    Alternatif akışlar
  </Card>
  <Card title="Hata Bildirimleri" icon="bell">
    Hata durumunda bildirim
  </Card>
</CardGroup>

## Hata Türleri

Task Flow'larda karşılaşabileceğiniz hata türleri:

### Connection Errors (Bağlantı Hataları)

Dış sistemlere bağlantı kurulamadığında:

* **Network Timeout**: Ağ zaman aşımı
* **Connection Refused**: Bağlantı reddedildi
* **DNS Resolution Failed**: DNS çözümleme hatası
* **SSL/TLS Error**: SSL/TLS hatası

### Timeout Errors (Zaman Aşımı Hataları)

İşlem belirlenen sürede tamamlanmadığında:

* **Task Timeout**: Task zaman aşımı
* **Connection Timeout**: Bağlantı zaman aşımı
* **Read Timeout**: Okuma zaman aşımı
* **Write Timeout**: Yazma zaman aşımı

### Validation Errors (Doğrulama Hataları)

Veri doğrulama başarısız olduğunda:

* **Required Field Missing**: Zorunlu alan eksik
* **Invalid Format**: Geçersiz format
* **Value Out of Range**: Değer aralık dışı
* **Type Mismatch**: Tür uyumsuzluğu

### Business Logic Errors (İş Mantığı Hataları)

İş kuralları ihlal edildiğinde:

* **Business Rule Violation**: İş kuralı ihlali
* **Invalid State**: Geçersiz durum
* **Permission Denied**: İzin reddedildi
* **Resource Not Found**: Kaynak bulunamadı

## Try-Catch Blokları

Try-Catch blokları ile hataları yakalayıp yönetebilirsiniz.

### Try-Catch Yapısı

```
Try Block
├─→ Task 1
├─→ Task 2
└─→ Task 3
    ↓ (Hata oluşursa)
Catch Block
├─→ Error Handler Task
└─→ Notification Task
```

### Try-Catch Yapılandırması

Try-Catch bloğu oluşturmak için:

1. **Try** kontrol elemanını ekleyin
2. Hata oluşabilecek task'ları Try bloğuna ekleyin
3. **Catch** bloğunu ekleyin
4. Hata durumunda yapılacak işlemleri tanımlayın

### Catch Blok Yapılandırması

Catch bloğunda şu bilgilere erişebilirsiniz:

* **Error Type**: Hata türü
* **Error Message**: Hata mesajı
* **Error Code**: Hata kodu
* **Task Name**: Hata oluşan task adı
* **Stack Trace**: Hata yığın izi

### Örnek Kullanım

```
Try
├─→ Database Connector (Veri çekme)
├─→ Script Task (Veri işleme)
└─→ HTTP Connector (API çağrısı)
Catch
├─→ Log Error (Logback Connector)
├─→ Send Notification (Email Connector)
└─→ Fallback Task (Alternatif işlem)
```

## Retry Mekanizması

Retry mekanizması, başarısız task'ları otomatik olarak yeniden dener.

### Retry Yapılandırması

Task özelliklerinde retry ayarları:

1. Task özelliklerinde **Retry** sekmesine gidin
2. **Enable Retry** seçeneğini açın
3. Retry parametrelerini ayarlayın:
   * **Max Retries**: Maksimum deneme sayısı
   * **Retry Interval**: Denemeler arası bekleme süresi
   * **Retry Strategy**: Retry stratejisi (Fixed, Exponential, Custom)

### Retry Stratejileri

#### Fixed Interval (Sabit Aralık)

Her denemede aynı süre bekler:

```
Retry 1: 5 saniye bekle
Retry 2: 5 saniye bekle
Retry 3: 5 saniye bekle
```

**Yapılandırma:**
* **Interval**: 5 saniye
* **Max Retries**: 3

#### Exponential Backoff (Üstel Geri Çekilme)

Her denemede bekleme süresi artar:

```
Retry 1: 2 saniye bekle
Retry 2: 4 saniye bekle
Retry 3: 8 saniye bekle
Retry 4: 16 saniye bekle
```

**Yapılandırma:**
* **Initial Interval**: 2 saniye
* **Multiplier**: 2
* **Max Interval**: 60 saniye
* **Max Retries**: 4

#### Custom Strategy (Özel Strateji)

Özel retry stratejisi tanımlayın:

```javascript
// Script ile özel retry mantığı
var retryCount = variables.get("retryCount") || 0;
var maxRetries = 3;

if (retryCount < maxRetries) {
    var waitTime = Math.pow(2, retryCount) * 1000; // Exponential
    variables.set("retryCount", retryCount + 1);
    // Retry logic
} else {
    // Max retries reached, fail
    throw new Error("Max retries exceeded");
}
```

### Retry Koşulları

Hangi hatalarda retry yapılacağını belirleyin:

* **All Errors**: Tüm hatalarda retry
* **Specific Error Types**: Belirli hata türlerinde retry
* **Error Codes**: Belirli hata kodlarında retry
* **Custom Condition**: Özel koşul ile retry

### Retry Örnekleri

#### HTTP Connector Retry

```yaml
Retry Configuration:
  Enabled: true
  Max Retries: 3
  Strategy: Exponential Backoff
  Initial Interval: 2 seconds
  Multiplier: 2
  Max Interval: 30 seconds
  Retry On:
    - Connection Errors
    - Timeout Errors
    - 5xx Server Errors
```

#### Database Connector Retry

```yaml
Retry Configuration:
  Enabled: true
  Max Retries: 5
  Strategy: Fixed Interval
  Interval: 3 seconds
  Retry On:
    - Connection Errors
    - Timeout Errors
```

## Fallback Stratejileri

Fallback stratejileri, hata durumunda alternatif akışlar sağlar.

### Fallback Task

Fallback task tanımlamak için:

1. **Fallback** task'ını ekleyin
2. Alternatif işlemleri tanımlayın
3. Hata durumunda fallback task'a yönlendirin

### Fallback Senaryoları

#### Senaryo 1: Alternatif Veri Kaynağı

```
Try
└─→ Primary Database Connector
Catch
└─→ Fallback Database Connector (Alternatif DB)
```

#### Senaryo 2: Cache Kullanımı

```
Try
└─→ HTTP API Call
Catch
└─→ Cache Lookup (Cache'den veri al)
```

#### Senaryo 3: Varsayılan Değer

```
Try
└─→ External Service Call
Catch
└─→ Default Value Task (Varsayılan değer kullan)
```

### Conditional Fallback

Koşullu fallback kullanımı:

```
Decision: Error Type?
├─→ Connection Error → Fallback Task 1
├─→ Timeout Error → Fallback Task 2
└─→ Validation Error → Fallback Task 3
```

## Hata Bildirimleri

Hata durumunda bildirim gönderebilirsiniz.

### Bildirim Kanalları

* **Email**: E-posta bildirimi
* **SMS**: SMS bildirimi
* **Webhook**: Webhook bildirimi
* **Notification Connector**: Bildirim konnektörü
* **SNMP Trap**: SNMP trap gönderme
* **Syslog**: Syslog mesajı gönderme

### Bildirim Yapılandırması

Hata bildirimi yapılandırmak için:

1. **Error Handler** task'ını ekleyin
2. Bildirim kanalını seçin
3. Bildirim içeriğini yapılandırın
4. Bildirim koşullarını tanımlayın

### Bildirim Örneği

```
Catch Block
├─→ Error Handler Task
│   ├─→ Email Connector (E-posta gönder)
│   ├─→ Webhook Connector (Webhook gönder)
│   └─→ Logback Connector (Log kaydet)
```

## Hata Loglama

Hataları loglamak için:

### Log Seviyeleri

* **ERROR**: Kritik hatalar
* **WARN**: Uyarılar
* **INFO**: Bilgilendirme
* **DEBUG**: Debug bilgileri

### Log Yapılandırması

```javascript
// Script Task içinde
logger.error("Error occurred", {
    taskName: "Database Connector",
    errorType: error.type,
    errorMessage: error.message,
    stackTrace: error.stack
});
```

## Hata Analizi

Hataları analiz etmek için:

### Hata Metrikleri

* **Error Rate**: Hata oranı
* **Error Types**: Hata türleri dağılımı
* **Error Frequency**: Hata sıklığı
* **Error Trends**: Hata trendleri

### Hata Raporlama

TaskFlow Monitor'da hata raporları:

* **Error Dashboard**: Hata dashboard'u
* **Error Logs**: Hata logları
* **Error Trends**: Hata trendleri
* **Error Analysis**: Hata analizi

## En İyi Uygulamalar

### Hata Yönetimi Stratejisi

* **Comprehensive Error Handling**: Kapsamlı hata yönetimi yapın
* **Error Classification**: Hataları sınıflandırın
* **Appropriate Actions**: Uygun aksiyonlar alın
* **Error Monitoring**: Hataları izleyin

### Retry Stratejisi

* **Retryable Errors**: Sadece retry edilebilir hatalarda retry yapın
* **Retry Limits**: Retry limitlerini ayarlayın
* **Backoff Strategy**: Uygun backoff stratejisi kullanın
* **Timeout Management**: Timeout yönetimi yapın

### Fallback Stratejisi

* **Alternative Paths**: Alternatif yollar tanımlayın
* **Graceful Degradation**: Zarif bozulma sağlayın
* **Default Values**: Varsayılan değerler kullanın
* **Cache Strategy**: Cache stratejisi kullanın

### Bildirim Stratejisi

* **Critical Errors**: Kritik hatalarda bildirim gönderin
* **Error Aggregation**: Hata toplama yapın
* **Notification Channels**: Uygun bildirim kanalları kullanın
* **Notification Content**: Bildirim içeriğini optimize edin

## Sonraki Adımlar

<CardGroup cols={2}>
  <Card title="Monitoring & Debugging" icon="bug" href="/tr/entegrasyon-otomasyon/monitoring-debugging">
    Monitoring ve debugging özelliklerini öğrenin
  </Card>
  <Card title="TaskFlow Monitor" icon="eye" href="/tr/entegrasyon-otomasyon/taskflow-monitor">
    TaskFlow Monitor ile izleme yapın
  </Card>
  <Card title="Performance Optimization" icon="gauge" href="/tr/entegrasyon-otomasyon/performance-optimization">
    Performans optimizasyonu tekniklerini öğrenin
  </Card>
  <Card title="Task Flow Tasarımı" icon="diagram-project" href="/tr/entegrasyon-otomasyon/task-flow-tasarimi">
    Task Flow tasarımı hakkında bilgi edinin
  </Card>
</CardGroup>
