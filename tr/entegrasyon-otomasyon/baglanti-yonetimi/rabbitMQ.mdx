---
title: "RabbitMQ Queue Connections"
description: "RabbitMQ Queue Connections yapılandırması yapmanızı ve kullanmanızı sağlar. AMQP protokolü ile mesaj kuyruğu yönetimi ve cluster desteğiyle güvenli mesajlaşma gerçekleştirebilirsiniz"
---
 

## Genel Bakış

<AccordionGroup>
  <Accordion title="Amacı Nedir?">
    <CardGroup cols={1}>
      <Card title="AMQP Mesaj Yayınlama" icon="send">
        Apinizer içindeki Integration Flow adımlarının AMQP üzerinden güvenilir biçimde mesaj yayınlamasını sağlar
      </Card>
      <Card title="Yüksek Erişilebilirlik" icon="activity">
        Birden fazla host/port tanımlayarak cluster içindeki brokerlar arasında yüksek erişilebilirlik sağlar
      </Card>
      <Card title="Esnek Mesaj Formatı" icon="file-text">
        Sanal host ve basic properties alanlarıyla log mesajlarını, telemetriyi veya iş verilerini hedef kuyruğa uygun formatta iletir
      </Card>
      <Card title="Güvenli Mesajlaşma" icon="shield">
        İsteğe bağlı Authentication ve SSL/TLS desteğiyle güvenli mesajlaşmayı garanti eder
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Çalışma Prensibi">
    <CardGroup cols={2}>
      <Card title="Bağlantı Başlatma" icon="play">
        Integration Flow veya Connector içerisinden RabbitMQ Connection bağlantısı talep edildiğinde, sistem yapılandırılmış connection parametrelerini okur
      </Card>
      <Card title="Connection Pool Yönetimi" icon="database">
        Tanımlı hostPortList'e göre round-robin stratejisiyle broker seçilir, mevcut açık bağlantı yoksa pool'da yeni AMQP bağlantısı oluşturulur
      </Card>
      <Card title="Kimlik Doğrulama" icon="lock">
        Authentication toggle'ı aktifleştirildiyse kullanıcı adı/şifre ile, SSL/TLS etkinse sertifika zinciri doğrulanarak hedef sisteme kimlik doğrulaması yapılır
      </Card>
      <Card title="Veri İletişimi" icon="send">
        AMQP protokolü üzerinden channel açılır, channelExchange ve channelRoutingKey parametreleriyle mesaj yayınlanır; basic properties alanları mesaj meta verisini taşır
      </Card>
      <Card title="Bağlantı Yönetimi" icon="settings">
        İşlem tamamlandıktan sonra bağlantı pool'a geri döner; idle süre aşıldığında otomatik olarak kapatılır
      </Card>
      <Card title="Hata Yönetimi" icon="alert-circle">
        Bağlantı hatası, timeout veya authentication hatası durumunda retry ve fallback host denemesi, uyarı logları ve kullanıcıya detaylı hata mesajı iletilir
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Kullanım Alanları">
    <CardGroup cols={2}>
      <Card title="Log ve Audit" icon="file-text">
        Log, audit ve izleme olaylarının RabbitMQ bazlı merkezi kuyruğa gönderilmesi
      </Card>
      <Card title="Event Tetikleme" icon="zap">
        Dış sistemlere komut veya event tetiklemek için AMQP topic/queue entegrasyonları
      </Card>
      <Card title="Mikroservis Mesajlaşma" icon="workflow">
        Yüksek hacimli veri işleme pipeline'larında dağıtık mikroservisler arasında mesajlaşma
      </Card>
      <Card title="Yönetilen RabbitMQ Entegrasyonu" icon="cloud">
        Üçüncü taraf Message Queue altyapılarına (ör. yönetilen RabbitMQ) güvenli bağlantı
      </Card>
    </CardGroup>
  </Accordion>
</AccordionGroup>

## Teknik Özellikler ve Yetenekler

### Temel Özellikler

**Çoklu Host/Port Tanımı:** Birden fazla broker adresi eklenerek otomatik failover sağlanır.

**Sanal Host Yönetimi:** connectionFactoryVirtualHost alanı ile tenant bazlı izolasyon desteklenir.

**AMQP Basic Properties Şablonu:** AppId, ContentType, Priority gibi alanlar önceden tanımlanarak mesaj formatı standardize edilir.

**Ortam Bazlı Yapılandırma:** Her ortam (Development, Test, Production) için ayrı connection parametreleri tanımlama imkanı.

**Enable/Disable Kontrolü:** Connection'ı aktif veya pasif hale getirme (enable/disable toggle). Pasif durumda bağlantı kullanılamaz ancak yapılandırması saklanır.

### İleri Düzey Özellikler

**Authentication Toggle:** Kimlik doğrulama gerekmeyen brokerlarda devre dışı bırakılabilir, gerektiğinde kullanıcı adı/şifre zorunlu olur.

**SSL/TLS Protokol Seçimi:** TLS sürümü serbestçe yazılabilir, self-signed sertifikalar development ortamında test edilebilir.

**Heartbeat ve Channel Limitleri:** RequestedChannelMax, RequestedFrameMax ve RequestedHeartbeat değerleri ile broker kapasitesine uyum sağlanır.

**Connection Test Özelliği:** "Test Connection" butonu ile bağlantı parametrelerini kaydetmeden önce doğrulama imkanı.

**Export/Import Özelliği:** Connection yapılandırmasını ZIP dosyası olarak export etme. Farklı ortamlara (Development, Test, Production) import etme. Versiyon kontrolü ve yedekleme imkanı.

**Connection Monitoring:** Bağlantı sağlığı, pool durumu ve performans metriklerini izleme.

## Connection Parametreleri

<AccordionGroup>
  <Accordion title="Zorunlu Parametreler">
    <CardGroup cols={1}>
      <Card title="Name" icon="tag">
        **Açıklama:** Connection adı (benzersiz olmalı)  
        **Örnek Değer:** `Production_RabbitMQ`  
        **Notlar:** Boşlukla başlamaz, özel karakterler kullanılmamalı
      </Card>
      <Card title="Host/Port Listesi" icon="server">
        **Açıklama:** Her broker için host ve port çifti  
        **Örnek Değer:** `mq1.internal.local:5672`  
        **Notlar:** En az bir satır zorunlu; tüm satırlarda host ve port doldurulmalı
      </Card>
      <Card title="Connection Factory Virtual Host" icon="layers">
        **Açıklama:** AMQP sanal host adı  
        **Örnek Değer:** `/apinizer`  
        **Notlar:** RabbitMQ yönetim konsolundaki vhost adıyla eşleşmeli
      </Card>
      <Card title="Connection Factory Connection Timeout" icon="clock">
        **Açıklama:** AMQP bağlantısı kurulana kadar beklenecek süre  
        **Örnek Değer:** `60000`  
        **Notlar:** ms cinsinden; 0 değeri sınırsız bekleme anlamına gelir
      </Card>
      <Card title="Requested Channel Max" icon="maximize">
        **Açıklama:** Her bağlantı için maksimum channel sayısı  
        **Örnek Değer:** `2047`  
        **Notlar:** Broker limitini aşmamalı
      </Card>
      <Card title="Requested Frame Max" icon="maximize-2">
        **Açıklama:** AMQP frame boyutu limiti  
        **Örnek Değer:** `0`  
        **Notlar:** 0 değeri broker varsayılanını kullanır
      </Card>
      <Card title="Requested Heartbeat" icon="heart">
        **Açıklama:** Broker ile heartbeat aralığı  
        **Örnek Değer:** `60`  
        **Notlar:** Saniye cinsinden; 0 -> heartbeat devre dışı
      </Card>
      <Card title="Channel Routing Key" icon="key">
        **Açıklama:** Mesajın yönlendirileceği queue veya topic anahtarı  
        **Örnek Değer:** `apinizer.audit.queue`  
        **Notlar:** Queue adıyla aynı tutulması önerilir
      </Card>
      <Card title="Basic Properties AppId" icon="code">
        **Açıklama:** Mesajı oluşturan uygulama kimliği  
        **Örnek Değer:** `apinizer`  
        **Notlar:** API loglarında izlenebilir
      </Card>
      <Card title="Basic Properties ContentType" icon="file-text">
        **Açıklama:** Mesaj gövde formatı  
        **Örnek Değer:** `application/json`  
        **Notlar:** application/xml vb. değerler desteklenir
      </Card>
      <Card title="Basic Properties ContentEncoding" icon="type">
        **Açıklama:** İçerik karakter seti  
        **Örnek Değer:** `UTF-8`  
        **Notlar:** Broker ve tüketici aynı encoding'i kullanmalı
      </Card>
      <Card title="Basic Properties DeliveryMode" icon="send">
        **Açıklama:** 1 (geçici) veya 2 (kalıcı) teslim modu  
        **Örnek Değer:** `2`  
        **Notlar:** Kalıcılık için 2 seçilmelidir
      </Card>
      <Card title="Basic Properties Priority" icon="arrow-up">
        **Açıklama:** Mesaj önceliği (0-9)  
        **Örnek Değer:** `5`  
        **Notlar:** Kuyruk önceliği etkin olmalıdır
      </Card>
      <Card title="Basic Properties ReplyTo" icon="reply">
        **Açıklama:** Yanıtın döneceği queue  
        **Örnek Değer:** `apinizer.reply`  
        **Notlar:** Request/Reply desenlerinde zorunlu
      </Card>
      <Card title="Basic Properties Expiration" icon="clock">
        **Açıklama:** Mesajın TTL değeri (ms)  
        **Örnek Değer:** `60000`  
        **Notlar:** Kuyruk politikasını aşmamalı
      </Card>
      <Card title="Basic Properties Type" icon="tag">
        **Açıklama:** Mesaj tipini tanımlar  
        **Örnek Değer:** `apinizer-log-type`  
        **Notlar:** Tüketicide filtreleme için kullanılır
      </Card>
      <Card title="Basic Properties UserId" icon="user">
        **Açıklama:** RabbitMQ kullanıcı kimliği  
        **Örnek Değer:** `guest`  
        **Notlar:** Authentication etkinse broker doğrular
      </Card>
      <Card title="Basic Properties ClusterId" icon="network">
        **Açıklama:** Broker cluster kimliği  
        **Örnek Değer:** `cluster-eu-central`  
        **Notlar:** Cluster izlenebilirlik raporlarında kullanılır
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="İsteğe Bağlı Parametreler">
    <CardGroup cols={1}>
      <Card title="Description" icon="file-text">
        **Açıklama:** Connection amacı hakkında açıklama  
        **Varsayılan Değer:** -  
        **Önerilen Değer:** Süreç veya proje adını belirtin
      </Card>
      <Card title="Channel Exchange" icon="repeat">
        **Açıklama:** Mesajın yayınlanacağı exchange adı  
        **Varsayılan Değer:** ""  
        **Önerilen Değer:** apinizer.audit.exchange
      </Card>
      <Card title="Authentication Enabled" icon="lock">
        **Açıklama:** Kimlik doğrulama gerekliliği toggle'ı  
        **Varsayılan Değer:** false  
        **Önerilen Değer:** Production ortamında true
      </Card>
      <Card title="Connection Factory Username" icon="user">
        **Açıklama:** Authentication etkinse kullanıcı adı  
        **Varsayılan Değer:** guest  
        **Önerilen Değer:** Ayrı bir servis hesabı kullanın
      </Card>
      <Card title="Connection Factory Password" icon="key">
        **Açıklama:** Kullanıcı için şifre  
        **Varsayılan Değer:** guest  
        **Önerilen Değer:** Secret Manager üzerinden yönetilen güçlü parola
      </Card>
      <Card title="Connection Factory Use SSL Protocol" icon="shield">
        **Açıklama:** SSL/TLS kullanım durumu  
        **Varsayılan Değer:** false  
        **Önerilen Değer:** Production'da true
      </Card>
      <Card title="Connection Factory SSL Protocol" icon="shield-check">
        **Açıklama:** Kullanılacak TLS sürümü  
        **Varsayılan Değer:** TLSv1.2  
        **Önerilen Değer:** Broker desteğine göre TLSv1.3
      </Card>
      <Card title="Channel Exchange Binding" icon="link">
        **Açıklama:** Exchange ile routing key ilişkisi notu  
        **Varsayılan Değer:** -  
        **Önerilen Değer:** Ortam bazlı tablo tutun
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Timeout ve Connection Pool Parametreleri">
    <CardGroup cols={2}>
      <Card title="Connection Timeout" icon="clock">
        **Açıklama:** Bağlantı kurulması için maksimum bekleme süresi  
        **Varsayılan:** 60000 ms  
        **Min:** 1000 ms | **Max:** 300000 ms
      </Card>
      <Card title="Request Timeout" icon="hourglass">
        **Açıklama:** Mesaj gönderiminin yanıt bekleme süresi  
        **Varsayılan:** 30000 ms  
        **Min:** 5000 ms | **Max:** 120000 ms
      </Card>
      <Card title="Pool Size" icon="database">
        **Açıklama:** Connection pool'daki maksimum bağlantı sayısı  
        **Varsayılan:** 10  
        **Min:** 1 | **Max:** 100
      </Card>
      <Card title="Heartbeat Interval" icon="heart">
        **Açıklama:** Broker ile heartbeat süresi  
        **Varsayılan:** 60 saniye  
        **Min:** 0 | **Max:** 300 saniye
      </Card>
    </CardGroup>
  </Accordion>
</AccordionGroup>

## Kullanım Senaryoları

<CardGroup cols={2}>
  <Card title="Log Streaming" icon="file-text">
    **Durum:** Gateway loglarını merkezi kuyruğa aktarma  
    **Çözüm:** channelRoutingKey=apinizer.logs, deliveryMode=2  
    **Beklenen Sonuç:** Tüm log mesajları kalıcı kuyrukta toplanır
  </Card>
  <Card title="Audit Trail" icon="shield">
    **Durum:** Yetkili işlemleri izleme  
    **Çözüm:** basicPropertiesType=audit, SSL aktif  
    **Beklenen Sonuç:** Güvenli audit mesajları tüketici servise ulaşır
  </Card>
  <Card title="Event Fan-out" icon="send">
    **Durum:** Birden fazla tüketiciye yayımlama  
    **Çözüm:** channelExchange=apinizer.events, topic exchange  
    **Beklenen Sonuç:** Tüm aboneler routing key desenine göre mesaj alır
  </Card>
  <Card title="Failover Cluster" icon="activity">
    **Durum:** Bir broker düştüğünde süreklilik  
    **Çözüm:** hostPortList'e en az 3 node ekleme  
    **Beklenen Sonuç:** Bağlantı otomatik olarak diğer node'a geçer
  </Card>
  <Card title="Uzun Kuyruk TTL" icon="clock">
    **Durum:** Zamana duyarlı görevler  
    **Çözüm:** basicPropertiesExpiration=120000, priority düşürme  
    **Beklenen Sonuç:** Mesajlar 2 dakika sonra otomatik silinir
  </Card>
  <Card title="Düşük Gecikme İşleri" icon="zap">
    **Durum:** Hızlı komut iletimi  
    **Çözüm:** connectionFactoryRequestedHeartbeat=30, pool size=20  
    **Beklenen Sonuç:** Gecikme azalır, throughput artar
  </Card>
</CardGroup>

## Connection Yapılandırma

Bu adımda, kullanıcı yeni bir connection oluşturabilir ya da mevcut connection parametrelerini yapılandırarak bağlantı kurallarını belirleyebilir. Tanımlanan parametreler, connection'ın çalışma şeklini doğrudan etkiler ve Integration Flow veya Connector adımlarında kullanılabilir hale gelir.

### Yeni RabbitMQ Bağlantısı Oluşturma
<img
    src="/images/yonetici/baglantilar/rabbit.png"
    alt="Image 2024 9 9 15 35 35 Pn"
    width="1000"
    className="mr-auto"
/>

<Steps>
<Step title="Oluşturma Sayfasına Gitme">

Sol menüden **Connection → RabbitMQ Bağlantısı** bölümüne gidin.

Sağ üstteki **[+ Create]** butonuna tıklayın.

</Step>

<Step title="Temel Bilgileri Girme">

**Enable Status (Aktif Durumu):** Toggle ile aktif/pasif durumu ayarlayın. Yeni connection'lar varsayılan olarak aktiftir.

**Name (İsim) Zorunlu:**

Örnek: `Production_RabbitMQ`

- Benzersiz isim girin, boşlukla başlamaz.
- Sistem otomatik kontrol eder. Yeşil tik: kullanılabilir. Kırmızı çarpı: mevcut isim.

**Description (Açıklama):**

Örnek: "RabbitMQ log publishing connection"

- Maks. 1000 karakter.
- Connection'ın amacını açıklayın.

</Step>

<Step title="Environment (Ortam) Seçimi">

Dropdown menüden ortam seçin: **Development**, **Test**, veya **Production**.

Her ortam için farklı connection parametreleri tanımlanabilir.

</Step>

<Step title="Host ve Virtual Host Parametreleri">

**Add Host** butonuyla broker adresleri ekleyin.

Her satırda host ve port alanları dolu olmalıdır.

**Connection Factory Virtual Host** alanına broker'daki vhost değerini yazın.

</Step>

<Step title="Kanal ve Mesaj Parametreleri">

**Channel Exchange** değerini (varsa) girin.

**Channel Routing Key**, **Basic Properties** alanlarını RabbitMQ tüketici gereksinimlerine göre doldurun.

Teslim modunu (1/2) ve önceliği belirleyin.

</Step>

<Step title="Timeout ve Connection Pool Ayarları">

**Connection Timeout**, **Requested Frame/Channel Max**, **Requested Heartbeat** alanlarını trafik hacmine göre ayarlayın.

Kurumsal standartlara göre Pool Size yönetim ekranından güncellenir.

</Step>

<Step title="Güvenlik ve Authentication Ayarları">

**Authentication Enabled** toggle'ını aktif edin.

Username/Password alanlarını doldurun.

SSL gerekiyorsa **Use SSL Protocol** toggle'ını açın ve TLS sürümünü belirtin.

</Step>

<Step title="Test Connection">

**[Test Connection]** butonuna tıklayın.

Bağlantı parametrelerinin doğru olup olmadığını test edin.

Başarılı: Yeşil onay mesajı, Başarısız: Hata detayları gösterilir.

</Step>

<Step title="Kaydetme">

Sağ üstteki **[Save and Deploy]** butonuna tıklayın.

**Kontrol Listesi:** Benzersiz isim. Zorunlu alanlar dolu. Test connection başarılı (önerilir)

**Sonuç:**

- Connection listeye eklenir.
- Integration Flow ve Connector adımlarında kullanılabilir hale gelir.
- Ortama göre aktif olur.

</Step>
</Steps>

### Connection'ı Silme

<AccordionGroup>
  <Accordion title="Silme İşlemi">
    <CardGroup cols={1}>
      <Card title="Silme Yöntemleri" icon="trash-2">
        Satır sonundaki **⋮** menüsünden **Delete** seçin veya connection detay sayfasında **[Delete]** butonuna tıklayın
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Silme İpuçları">
    <CardGroup cols={1}>
      <Card title="Silmeden Önce Kontrol Edin" icon="alert-circle">
        Integration Flow veya Connector adımlarında kullanılıyor olabilir. Gerekirse alternatif bir connection atayın. Silmeden önce **Export** ile yedek alın
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Alternatif: Deaktif Etme">
    <CardGroup cols={1}>
      <Card title="Disable Seçeneği" icon="power">
        Silmek yerine **Disable** seçeneğini kullanın. Connection pasif olur ancak silinmez. Gerektiğinde yeniden etkinleştirilebilir
      </Card>
    </CardGroup>
  </Accordion>
</AccordionGroup>

### Connection'ı Dışa/İçe Aktarma

<AccordionGroup>
  <Accordion title="Dışa Aktarma (Export)">
    <CardGroup cols={2}>
      <Card title="Yöntem 1" icon="download">
        Eylem menüsünden **⋮ → Export** seçin. ZIP dosyası otomatik indirilir
      </Card>
      <Card title="Yöntem 2" icon="download">
        Connection detay sayfasında **[Export]** butonuna tıklayın. ZIP dosyası indirilir
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Dosya Formatı">
    <CardGroup cols={1}>
      <Card title="Format" icon="file">
        Format: Tarih-connection-ConnectionName-export.zip  
        **Örnek:** `13 Nov 2025-connection-Production_RabbitMQ-export.zip`
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="ZIP İçeriği">
    <CardGroup cols={1}>
      <Card title="İçerik" icon="archive">
        - Connection JSON dosyası  
        - Metadata bilgileri  
        - Bağımlılık bilgileri (örneğin sertifikalar, key store)
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Kullanım Alanları">
    <CardGroup cols={2}>
      <Card title="Yedekleme" icon="save">
        Connection yapılandırmalarını yedekleme
      </Card>
      <Card title="Ortamlar Arası Taşıma" icon="move">
        Test → Prod ortamları arasında taşıma
      </Card>
      <Card title="Versiyonlama" icon="git-branch">
        Versiyon kontrolü ve yedekleme
      </Card>
      <Card title="Paylaşım" icon="share-2">
        Ekip veya proje bazlı paylaşım
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="İçe Aktarma (Import)">
    <CardGroup cols={1}>
      <Card title="Import Adımları" icon="upload">
        1. Ana listede **[Import RabbitMQ Bağlantısı]** butonuna tıklayın  
        2. İndirilen ZIP dosyasını seçin  
        3. Sistem kontrolleri: Format geçerli mi? İsim çakışması var mı? Bağımlılıklar mevcut mu?  
        4. Ardından **[Import]** butonuna tıklayın
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="İçe Aktarma Senaryoları">
    <CardGroup cols={2}>
      <Card title="Senaryo 1: İsim Çakışması" icon="alert-triangle">
        Eski connection'ın üzerine yazın veya yeni bir isimle oluşturun
      </Card>
      <Card title="Senaryo 2: Eksik Bağımlılıklar" icon="alert-circle">
        Eksik sertifikaları veya key store'ları önce oluşturun veya import sırasında çıkarın
      </Card>
    </CardGroup>
  </Accordion>
</AccordionGroup>

## Connection'ın Kullanım Alanları

<CardGroup cols={2}>
  <Card title="Connection Oluşturma ve Aktif Etme" icon="plus-circle">
    **Adımlar:**  
    1. Connection'ı oluşturun  
    2. **Test Connection** ile bağlantıyı doğrulayın  
    3. **Save and Deploy** ile kaydedin ve etkinleştirin  
    4. Connection'ın **Enabled** durumda olduğundan emin olun
  </Card>
  <Card title="Integration / Connector Adımlarında Kullanım" icon="workflow">
    Mesaj kuyruğu (queue), topic, e-posta, FTP/SFTP, LDAP veya benzeri dış sistemlerle iletişim isteyen adımlarda connection seçilir. Örnek: "Send Message", "Consume Message", "Upload File", "Read Directory" gibi adımlar. Bağlantı seçimi bu adımların yapılandırmasında yer alan Connection alanından yapılır
  </Card>
  <Card title="Scheduled Job Kullanımı" icon="clock">
    Zamanlanmış görevlerde (ör. belirli aralıklarla mesaj gönderme, dosya işleme vb.) bağlantı seçilerek dış sistemlere erişim sağlanır. Connection değiştiğinde, job çalışma davranışı da buna göre güncellenir
  </Card>
  <Card title="Test Amaçlı Kullanım" icon="check-circle">
    Connection Test özelliği ile bağlantının doğruluğu Integration Flow'dan bağımsız olarak kontrol edilebilir. Bu test hata ayıklama sürecinde kritik önem taşır
  </Card>
</CardGroup>

## Best Practices

<AccordionGroup>
  <Accordion title="Yapılması Gerekenler ve En İyi Uygulamalar">
    <CardGroup cols={2}>
      <Card title="Cluster Ulaşılabilirliği" icon="activity">
        **Kötü:** Tek host tanımlamak  
        **İyi:** İki host eklemek  
        **En İyi:** Tüm broker nodelarını hostPortList'e ekleyip health check sonuçlarına göre sıralamak
      </Card>
      <Card title="Routing Key Yönetimi" icon="key">
        **Kötü:** Rastgele routing key kullanmak  
        **İyi:** Queue adını routing key olarak kullanmak  
        **En İyi:** `domain.context.event` formatında isimlendirme yaparak bakım kolaylığı sağlamak
      </Card>
      <Card title="Mesaj TTL Stratejisi" icon="clock">
        **Kötü:** Expiration alanını boş bırakmak  
        **İyi:** Varsayılan 60 saniye tanımlamak  
        **En İyi:** İş gereksinimine göre ortam bazlı TTL setleri oluşturmak
      </Card>
      <Card title="Authentication Stratejisi" icon="lock">
        **Kötü:** `guest/guest` kimlik bilgilerini tüm ortamlarda kullanmak  
        **İyi:** Production için farklı kullanıcı oluşturmak  
        **En İyi:** Sadece gerekli izinlere sahip servis hesapları ve secret rotation politikası uygulamak
      </Card>
      <Card title="Ortam Yönetimi" icon="layers">
        **Kötü:** Tüm ortamlarda aynı connection parametrelerini kullanmak  
        **İyi:** Her ortam için ayrı connection oluşturmak  
        **En İyi:** Environment seçeneğini kullanarak tek connection'da tüm ortamları yönetmek, ortamlar arası geçişte sadece environment değiştirmek
      </Card>
      <Card title="Connection Test" icon="check-circle">
        **Kötü:** Connection'ı test etmeden kaydetmek ve deploy etmek  
        **İyi:** Kaydetmeden önce Test Connection ile doğrulamak  
        **En İyi:** Her parametre değişikliğinden sonra test etmek, production'a geçmeden önce test ortamında tam entegrasyon testi yapmak
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Güvenlik En İyi Uygulamaları">
    <CardGroup cols={2}>
      <Card title="RabbitMQ Kullanıcı Yetkileri" icon="user-check">
        Kullanıcıya yalnızca gerekli vhost ve queue izinlerini verin; configure/write/read izinlerini ayrı ayrı yönetin
      </Card>
      <Card title="AMQP Sertifika Yönetimi" icon="shield">
        SSL/TLS etkinse broker sertifikalarını keystore'a ekleyin, expiration tarihlerini izleyin, yenilemeyi önceden planlayın
      </Card>
      <Card title="Audit ve Loglama" icon="file-text">
        Authentication hatalarını ve SSL negotiation loglarını merkezi log havuzuna gönderin, SIEM üzerinden alarm üretin
      </Card>
      <Card title="Kimlik Bilgileri Yönetimi" icon="key">
        Kullanıcı adı ve şifre gibi hassas bilgileri environment variable veya secret manager kullanarak saklayın. Kimlik bilgilerini kod veya konfigürasyon dosyalarına hardcode etmeyin. Periyodik olarak şifreleri güncelleyin
      </Card>
      <Card title="SSL/TLS Kullanımı" icon="shield-check">
        Production ortamında mutlaka SSL/TLS aktif edin. Self-signed sertifikalar sadece development ortamında kullanın. Sertifika expiration tarihlerini takip edin ve zamanında yenileyin
      </Card>
      <Card title="Erişim Kontrolü" icon="lock">
        Connection yapılandırmasını sadece yetkili kullanıcıların değiştirmesine izin verin. Connection değişiklik loglarını saklayın. Kritik connection'lar için değişiklik approval süreci uygulayın
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Kaçınılması Gerekenler">
    <CardGroup cols={2}>
      <Card title="Tek Kuyruğa Aşırı Yükleme" icon="alert-triangle">
        **Neden kaçınılmalı:** Tek routing key tüm mesajları aynı kuyruğa yönlendirir, darboğaz oluşur  
        **Alternatif:** Mesaj tipine göre farklı routing key tanımlayın
      </Card>
      <Card title="Heartbeat'i 0 Yapmak" icon="alert-triangle">
        **Neden kaçınılmalı:** Broker bağlantı kopmalarını tespit edemez  
        **Alternatif:** En az 30 saniyelik heartbeat kullanın
      </Card>
      <Card title="SSL Sertifikasını Paylaşmak" icon="alert-triangle">
        **Neden kaçınılmalı:** Sertifikanın kopyalanması güvenlik açığı yaratır  
        **Alternatif:** Her ortam için ayrı sertifika/credential kullanın
      </Card>
      <Card title="Production Connection'ı Test Ortamında Kullanma" icon="alert-triangle">
        **Neden kaçınılmalı:** Test verileri production sistemine yazılabilir, gerçek kullanıcılar etkilenebilir, güvenlik riski oluşur  
        **Alternatif:** Her ortam için ayrı connection oluşturun, environment parametresini kullanın, connection isimlerini ortama göre prefix ekleyerek ayırın (Test_, Prod_)
      </Card>
      <Card title="Çok Düşük Timeout Değerleri" icon="alert-triangle">
        **Neden kaçınılmalı:** Ağ gecikmelerinde connection sürekli timeout olur, Entegrasyon adımları başarısız olur  
        **Alternatif:** Gerçek kullanım senaryolarına göre timeout değerlerini ayarlayın, network latency'yi ölçün ve timeout'ları buna göre belirleyin
      </Card>
      <Card title="Connection Pool Kullanmama" icon="alert-triangle">
        **Neden kaçınılmalı:** Her istekte yeni bağlantı açılır, performans düşer, kaynak tüketimi artar, hedef sistem yükü artar  
        **Alternatif:** Connection pool aktif edin, pool size'ı trafik hacmine göre ayarlayın, pool monitoring kurun
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Performans İpuçları">
    <CardGroup cols={2}>
      <Card title="Mesaj Boyutu Yönetimi" icon="file">
        **Öneri:** 128 KB üzeri mesajları parçalayın veya gzip kullanın  
        **Etki:** FrameMax sınırına takılma riski azalır, throughput artar
      </Card>
      <Card title="Routing Key Şablonları" icon="key">
        **Öneri:** `service.region.event` kalıbı kullanın  
        **Etki:** Tüketiciler pattern ile kolay filtreleme yapar, subscription sayısı düşer
      </Card>
      <Card title="Heartbeat Ayarı" icon="heart">
        **Öneri:** WAN bağlantılarında 60 sn, LAN'de 30 sn heartbeat kullanın  
        **Etki:** Kopmalar hızlı tespit edilir, gereksiz reconnect önlenir
      </Card>
      <Card title="Connection Pool Optimizasyonu" icon="database">
        **Öneri:** Pool size'ı peak trafiğe göre ayarlayın (önerilen: eşzamanlı istek sayısı × 1.5), idle connection timeout'ları belirleyin, pool health check yapın  
        **Etki:** Bağlantı açma maliyeti %80 azalır, yanıt süreleri düşer, kaynak kullanımı optimize edilir
      </Card>
      <Card title="Timeout Değerleri Optimizasyonu" icon="hourglass">
        **Öneri:** Gerçek network latency'yi ölçün, timeout değerlerini buna göre ayarlayın, çok düşük veya çok yüksek timeout'lardan kaçının  
        **Etki:** Gereksiz beklemeler önlenir, hızlı fail-over sağlanır, kullanıcı deneyimi iyileşir
      </Card>
      <Card title="Connection Monitoring" icon="activity">
        **Öneri:** Connection pool kullanımını izleyin, timeout oranlarını takip edin, connection health check yapın, alerting kurun  
        **Etki:** Sorunlar proaktif tespit edilir, performans darboğazları erken belirlenir, kesinti süresi azalır
      </Card>
    </CardGroup>
  </Accordion>
</AccordionGroup>

## Sorun Giderme (Troubleshooting)

<AccordionGroup>
  <Accordion title="Message Rejected by Broker">
    <CardGroup cols={1}>
      <Card title="Olası Nedenler" icon="alert-circle">
        - Yanlış routing key  
        - Exchange binding yok  
        - Kullanıcının write izni yok
      </Card>
      <Card title="Çözüm Adımları" icon="check-circle">
        1. Exchange/queue binding'lerini kontrol edin  
        2. Routing key'i broker üzerinden test edin  
        3. Kullanıcı izinlerini güncelleyin
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="SSL Handshake Failure">
    <CardGroup cols={1}>
      <Card title="Olası Nedenler" icon="alert-circle">
        - Yanlış TLS sürümü  
        - Sertifika zinciri eksik  
        - Self-signed sertifika Production'da kullanılıyor
      </Card>
      <Card title="Çözüm Adımları" icon="check-circle">
        1. Broker desteklediği TLS sürümünü doğrulayın  
        2. Sertifikayı keystore'a yeniden yükleyin  
        3. Production'da CA imzalı sertifika kullanın
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Connection Timeout">
    <CardGroup cols={1}>
      <Card title="Olası Nedenler" icon="alert-circle">
        - Network gecikmesi  
        - Hedef sistem yavaş yanıt veriyor  
        - Timeout değeri çok düşük
      </Card>
      <Card title="Çözüm Adımları" icon="check-circle">
        1. Network connectivity kontrol edin  
        2. Hedef sistem sağlığını kontrol edin  
        3. Timeout değerlerini artırın  
        4. Connection loglarını inceleyin
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Authentication Failed">
    <CardGroup cols={1}>
      <Card title="Olası Nedenler" icon="alert-circle">
        - Yanlış kullanıcı adı/şifre  
        - Expired credentials  
        - Yetki problemi
      </Card>
      <Card title="Çözüm Adımları" icon="check-circle">
        1. Kimlik bilgilerini doğrulayın  
        2. Hedef sistemde kullanıcının aktif olduğunu kontrol edin  
        3. Gerekli yetkilerin verildiğini kontrol edin  
        4. SSL/TLS sertifikalarını kontrol edin
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Pool Exhausted">
    <CardGroup cols={1}>
      <Card title="Olası Nedenler" icon="alert-circle">
        - Pool size çok düşük  
        - Connection leak var  
        - Trafik çok yüksek
      </Card>
      <Card title="Çözüm Adımları" icon="check-circle">
        1. Pool size'ı artırın  
        2. Connection'ların düzgün kapatıldığını kontrol edin  
        3. Idle connection timeout'ları ayarlayın  
        4. Connection kullanım metriklerini izleyin
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Connection Test Başarılı Ama Entegrasyon Akışı Hata Veriyor">
    <CardGroup cols={1}>
      <Card title="Olası Nedenler" icon="alert-circle">
        - Integration/Connector adımında farklı connection seçili olabilir  
        - Adım yanlış yapılandırılmış olabilir  
        - Flow/Job redeploy edilmemiş olabilir
      </Card>
      <Card title="Çözüm Adımları" icon="check-circle">
        1. Connection'ın enable toggle'ının aktif olduğunu kontrol edin  
        2. Integration Flow'da doğru connection'ın seçildiğini doğrulayın  
        3. Connection'ı tekrar deploy edin  
        4. Integration Flow veya Job'ı redeploy edin  
        5. Gateway loglarını kontrol edin
      </Card>
    </CardGroup>
  </Accordion>
</AccordionGroup>

## Sık Sorulan Sorular (SSS)

<AccordionGroup>
  <Accordion title="Aynı RabbitMQ Bağlantısı ile hem log hem de iş verisi gönderebilir miyim?">
    <CardGroup cols={1}>
      <Card title="Cevap" icon="info">
        Evet, ancak routing key ve basic properties alanlarını farklı Integration Flow adımlarında özelleştirmek gerekir
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Host listesinde IP yerine DNS kullanmak zorunda mıyım?">
    <CardGroup cols={1}>
      <Card title="Cevap" icon="info">
        Hayır, IP de kullanılabilir fakat DNS kullanımı node değişikliklerinde bakım maliyetini düşürür
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Heartbeat değerini nasıl seçmeliyim?">
    <CardGroup cols={1}>
      <Card title="Cevap" icon="info">
        WAN ortamlarında 60 sn, LAN'de 30 sn önerilir; broker ve client aynı değeri kullanmalıdır
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="TLSv1.3 destekleniyor mu?">
    <CardGroup cols={1}>
      <Card title="Cevap" icon="info">
        Broker ve JVM sürümünüz destekliyorsa connectionFactorySslProtocol alanına `TLSv1.3` yazabilirsiniz
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Mesaj TTL'ini ortam bazlı farklılaştırabilir miyim?">
    <CardGroup cols={1}>
      <Card title="Cevap" icon="info">
        Evet, Environment seçimi sonrası basicPropertiesExpiration değerini ortam için güncelleyebilirsiniz
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Aynı connection'ı birden fazla Integration Flow'da kullanabilir miyim?">
    <CardGroup cols={1}>
      <Card title="Cevap" icon="info">
        Evet, aynı connection birden fazla Integration Flow veya Connector adımında kullanılabilir. Bu merkezi yönetim sağlar ve konfigürasyon tutarlılığını garanti eder. Ancak connection'da yapılan değişiklikler tüm kullanım yerlerini etkileyeceği için dikkatli olunmalıdır
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Connection pool kullanmak zorunlu mudur?">
    <CardGroup cols={1}>
      <Card title="Cevap" icon="info">
        Connection pool kullanımı zorunlu değildir ancak yüksek trafikli sistemlerde şiddetle önerilir. Her istekte yeni bağlantı açmak yerine mevcut bağlantıları yeniden kullanmak performansı önemli ölçüde artırır
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Test ve Production için farklı connection'lar mı oluşturmalıyım?">
    <CardGroup cols={1}>
      <Card title="Cevap" icon="info">
        Evet, her ortam için ayrı connection oluşturmanız önerilir. Alternatif olarak environment parametresini kullanarak tek connection içinde tüm ortamları yönetebilirsiniz. Bu yaklaşım daha kolay yönetim ve daha az hata riski sağlar
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Test Connection başarılı ama Integration Flow'da çalışmıyor, neden?">
    <CardGroup cols={1}>
      <Card title="Cevap" icon="info">
        Birkaç neden olabilir: 1) Connection enable toggle'ı pasif olabilir, 2) Integration adımında farklı bir connection seçili olabilir, 3) Connection deploy edilmemiş olabilir, 4) Integration Flow henüz redeploy edilmemiş olabilir
      </Card>
    </CardGroup>
  </Accordion>
</AccordionGroup>
