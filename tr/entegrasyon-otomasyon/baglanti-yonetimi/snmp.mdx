---
title: 'SNMP'
description: 'SNMP trap ve inform mesajlarını güvenli şekilde gönderen bağlantı tanımı'
---

**Son Güncelleme:** 15 Kasım 2025

**Hedef Kitle:** Sistem Yöneticileri, Backend Geliştiriciler, DevOps Mühendisleri, Entegrasyon Uzmanları

| Alan | Değer |
|------|-------|
| Connection Adı | SNMP |
| Özet | SNMP trap ve inform mesajlarını güvenli şekilde gönderen bağlantı tanımı. |
| Kategori | External API |
| Protocol | SNMP/UDP |
| Desteklenen Ortamlar | Development, Test, Production |

## Genel Bakış

### Amacı Nedir?

SNMP Connection (Bağlantı), ağ ve altyapı cihazlarından gelen SNMP trap/inform mesajlarını Apinizer Integration Flow bileşenleriyle eşleştirmek için kullanılır.

Aynı connection üzerinden birden fazla mesaj tipini yönlendirerek operasyon ekiplerinin alarm yönetimini kolaylaştırır.

SNMP v1, v2c ve v3 destekleri sayesinde farklı güvenlik seviyelerine sahip cihazlarla tutarlı iletişim kurulmasını sağlar.

Proje bazlı yetkilendirme ve export/import desteği ile bağlantı yapılandırmalarının ortamlara taşınmasını hızlandırır.

### Çalışma Prensibi

**Bağlantı Başlatma:** Integration Flow veya Connector içerisinden SNMP bağlantısı talep edildiğinde, sistem yapılandırılmış connection parametrelerini okur.

**Connection Pool Yönetimi:** Hafif UDP oturumları için mantıksal bir connection pool tutulur; aktif soket varsa yeniden kullanılır, yoksa yeni SNMP oturumu açılır.

**Kimlik Doğrulama:** SNMP v1/v2c için community string, SNMP v3 için USM tabanlı Authentication mekanizması devreye alınır.

**Veri İletişimi:** Tanımlanan message type'a göre UDP 161/162 portları üzerinden trap, inform veya get istekleri gönderilip cevaplar okunur.

**Bağlantı Yönetimi:** İşlem tamamlandıktan sonra bağlantı pool'a geri döner; sürekli trap dinlemede soket açık tutulur.

**Hata Yönetimi:** Bağlantı hatası, timeout veya authentication hatası durumunda retryCount değeri kadar tekrar denenir, ardından hata loglanıp kullanıcıya iletilir.

### Kullanım Alanları

* Ağ cihazlarından gelen trap'leri olay yönetim sistemine aktarmak
* Veri merkezindeki enerji ve iklimlendirme ekipmanlarını SNMP OID değerleriyle izlemek
* Güvenlik cihazlarından gelen SNMP inform mesajlarını SIEM entegrasyonuna yönlendirmek
* Donanım üreticilerinin sunduğu SNMP tabanlı REST API köprüleriyle iletişim kurmak

## Teknik Özellikler ve Yetenekler

### Temel Özellikler

**Çoklu SNMP Versiyon Desteği:** V1, V2c ve V3 seçimleriyle hem legacy hem de güvenli USM tabanlı cihazlara bağlanılabilir.

**Mesaj Tipi Esnekliği:** Trap, Inform veya Get istekleri seçilerek farklı alarm senaryoları tek connection'dan yönetilir.

**Dinamik PDU OID Yönetimi:** PDU OID for Message/Time alanları ve PDU Variable Map sayesinde cihaz spesifik alanlar kolayca eşlenir.

**Ortam Bazlı Yapılandırma:** Her ortam (Development, Test, Production) için ayrı connection parametreleri tanımlama imkanı.

**Enable/Disable Kontrolü:** Connection'ı aktif veya pasif hale getirme (enable/disable toggle). Pasif durumda bağlantı kullanılamaz ancak yapılandırması saklanır.

### İleri Düzey Özellikler

**PDU Variable Map Düzenleyicisi:** Key/value tablosu ile SNMP payload'ındaki OID'ler iş kurallarına göre yeniden adlandırılır.

**USM Güvenlik Seviyesi Otomasyonu:** Security Level seçimine göre gerekli authentication/privilege alanları otomatik zorunlu hale gelir.

**Global Taşıma ve Proje Paylaşımı:** Connection, Project Operations servisleriyle global alana taşınarak birden fazla projede tekrar kullanılabilir.

**Connection Test Özelliği:** "Test Connection" butonu ile bağlantı parametrelerini kaydetmeden önce doğrulama imkanı.

**Export/Import Özelliği:** Connection yapılandırmasını ZIP dosyası olarak export etme. Farklı ortamlara (Development, Test, Production) import etme. Versiyon kontrolü ve yedekleme imkanı.

**Connection Monitoring:** Bağlantı sağlığı, pool durumu ve performans metriklerini izleme.

## Connection Parametreleri

### Zorunlu Parametreler

| Parametre | Açıklama | Örnek Değer | Notlar |
|-----------|----------|-------------|--------|
| Name | Connection adı (benzersiz olmalı) | Production_SNMP | Boşlukla başlamaz, özel karakterler kullanılmamalı |
| Version | Kullanılacak SNMP versiyonu (V1, V2c, V3) | V3 | Cihazın desteklediği en yüksek versiyonu seçmeniz önerilir |
| Connection String | SNMP hedefine ait UDP adresi ve portu | udp:10.10.10.5/162 | Port 162 trap, 161 get/inform için kullanılır |
| Security/Community Name | Versiyona göre community string veya security name | public | V3'te security name olarak kullanılır, v1/v2c'de community zorunludur |
| Retry Count | Başarısız iletiler için tekrar deneme sayısı | 2 | 0 değeri yeniden deneme yapılmayacağı anlamına gelir |
| Timeout (saniye) | SNMP isteği için yanıta kadar beklenecek süre | 30 | Çok düşük süreler paket kaybına yol açabilir |
| Message Type | Trap, Inform veya Get seçimleri | TRAP | Seçilen tip Integration Flow adımlarını tetikler |
| PDU OID for Message | Alarm mesajının okunacağı OID | .1.3.6.1.2.1.1.6 | Cihaz dokümantasyonuna göre güncellenmelidir |
| Security Level | Yalnızca V3'te kullanılacak USM güvenlik seviyesi | AUTH_PRIV | Seçime göre ek authentication/priv alanları zorunlu olur |

### İsteğe Bağlı Parametreler

| Parametre | Açıklama | Varsayılan Değer | Önerilen Değer |
|-----------|----------|------------------|----------------|
| Description | Connection amacı hakkında açıklama | (Boş) | DC Trap Forwarder |
| PDU OID for Time | Mesaj zaman damgası için okunacak OID | .1.3.6.1.2.1.1.3.0 | Cihazın sysUpTime OID'siyle eşleştirin |
| PDU Variable Map | Ek OID Alan adı eşleştirmeleri | (Boş) | Kritik alanlar için key/value çifti ekleyin |
| Privacy Protocol List | V3 için desteklenen gizlilik algoritmaları | (AES128) | Cihazla uyumlu tüm algoritmaları seçin |
| Enable User Authentication | Kullanıcı bazlı USM yetkilendirmesi | false | V3 ve kritik cihazlarda true yapın |
| Security Name | User auth açıkken kullanılacak isim | (Boş) | Community ile aynı değeri kullanmak tutarlıdır |
| USM Authentication Protocol | MD5/SHA vb. kimlik doğrulama algoritması | (Boş) | Güçlü algoritma (ör. SHA256) seçin |
| Auth Passphrase | Authentication için parola | (Boş) | En az 8 karakter + karmaşıklık artı sağlayın |
| USM Privacy Protocol | DES/AES vb. gizlilik algoritması | (Boş) | AES256 destekleniyorsa tercih edin |
| Priv Passphrase | Gizlilik parolası | (Boş) | Şifre yönetimini secret manager üzerinden yapın |

### Timeout ve Connection Pool Parametreleri

| Parametre | Açıklama | Varsayılan | Min | Max | Birim |
|-----------|----------|------------|-----|-----|-------|
| Connection Timeout | Bağlantı kurulması için maksimum bekleme süresi | 30000 | 1000 | 120000 | milisaniye |
| Request Timeout | İstek yanıtı için maksimum bekleme süresi | 30000 | 1000 | 120000 | milisaniye |
| Pool Size | Connection pool'daki maksimum bağlantı sayısı | 5 | 1 | 50 | adet |
| SNMP Retry Interval | Yeniden deneme arasındaki bekleme süresi | 5000 | 1000 | 30000 | milisaniye |

## Kullanım Senaryoları

| Senaryo | Durum | Çözüm (Connection Yapılandırması) | Beklenen Davranış / Sonuç |
|---------|-------|-----------------------------------|---------------------------|
| Ağ Alarm Konsolidasyonu | Core switch'lerden yüzlerce trap geliyor | Versiyon V2c, message type TRAP, retry count 1, PDU map'te interface OID'leri etiketle | Tüm trap'ler tek connection üzerinden toplanır ve Flow içerisinde ilgili kuyruğa yönlenir |
| Güvenlik Cihaz Inform Akışı | UTM cihazının 162 portu kapalı | Message type INFORM, connection string udp:utm01/161, timeout 45, enable user authentication true | Connection otomatik olarak 161 portunu kullanır, inform yanıtı beklenir |
| Enerji İzleme | UPS cihazları sysUpTime bilgisini gönderiyor | PDU OID for Time .1.3.6.1.2.1.1.3.0, variable map'te batteryStatus OID'si tanımla | Flow, batteryStatus değerine göre uyarı üretir |
| SNMPv3 Güvenli Trap | Yetkisiz erişim girişimleri görüldü | Version V3, security level AUTH_PRIV, SHA256 + AES128 seç, secret manager'dan passphrase oku | Trap'ler şifreli gelir, kimlik doğrulama hataları loglanır |
| Test Ortamı Simülasyonu | Lab cihazlarından gelen fake trap'ler testte kullanılacak | Connection string udp:lab-simulator/162, enable false iken parametreler ayarlanır, ardından enable edilir | Test senaryolarında gerçek üretim configuration'ı etkilenmeden trap akışı doğrulanır |

## Connection Yapılandırma

Bu adımda, kullanıcı yeni bir connection oluşturabilir ya da mevcut connection parametrelerini yapılandırarak bağlantı kurallarını belirleyebilir. Tanımlanan parametreler, connection'ın çalışma şeklini doğrudan etkiler ve Integration Flow veya Connector adımlarında kullanılabilir hale gelir.

### Yeni SNMP Oluşturma
<img
    src="/images/yonetici/baglantilar/snmp.png"
    alt="Image 2024 9 9 15 35 35 Pn"
    width="1000"
    className="mr-auto"
/>

#### Yapılandırma Adımları

<Steps>
    <Step title="Oluşturma Sayfasına Gitme">
        - Sol menüden **Connection → SNMP** bölümüne gidin.
        - Sağ üstteki **[+ Create]** butonuna tıklayın.
    </Step>

    <Step title="Temel Bilgileri Girme">
        **Enable Status (Aktif Durumu):**

        - Toggle ile aktif/pasif durumu ayarlayın. Yeni connection'lar varsayılan olarak aktiftir.

        **Name (İsim) - Zorunlu:**

        - Örnek: `Production_SNMP`
        - Benzersiz isim girin, boşlukla başlamaz.
        - Sistem otomatik kontrol eder. Yeşil tik: kullanılabilir. Kırmızı çarpı: mevcut isim.

        **Description (Açıklama):**

        - Örnek: "SNMP trap toplayıcı"
        - Maks. 1000 karakter.
        - Connection'ın amacını açıklayın.
    </Step>

    <Step title="Environment (Ortam) Seçimi">
        - Dropdown menüden ortam seçin: **Development**, **Test**, veya **Production**.
        - Her ortam için farklı connection parametreleri tanımlanabilir.
    </Step>

    <Step title="SNMP Temel Parametreleri">
        - **Version**, **Connection String**, **Message Type**, **Retry Count** ve **Timeout** alanlarını doldurun.
        - Cihaz dökümantasyonuna göre doğru portu yazın, retryCount değerini ağ kalitesine göre ayarlayın, timeout değerinin saniye cinsinden olduğunu unutmayın.
    </Step>

    <Step title="OID ve Mesaj Haritaları">
        - **PDU OID for Message/Time** alanlarını cihazınızın MIB dosyalarına göre belirleyin.
        - Ek alanlara ihtiyaç varsa **PDU Variable Map** tablosuna key/value olarak OID ve okunacak alan ismini ekleyin.
    </Step>

    <Step title="Timeout ve Connection Pool Ayarları">
        - Gelişmiş bölümde connection/request timeout değerlerini milisaniye cinsinden gözden geçirin.
        - **Pool Size** ile eşzamanlı trap işleme kapasitesini belirleyin ve **SNMP Retry Interval** için ağ gecikmesine uygun değer girin.
    </Step>

    <Step title="Güvenlik ve Authentication Ayarları">
        - SNMPv3 seçtiyseniz **Security Level** belirleyin.
        - **Enable User Authentication** açıldığında USM Authentication/Privacy protokollerini seçin, passphrase alanlarını en az 8 karakter belirleyin ve secret manager bilgilerini kullanın.
    </Step>

    <Step title="Test Connection">
        - **[Test Connection]** butonuna tıklayın.
        - Bağlantı parametrelerinin doğru olup olmadığını test edin.
        - **Başarılı:** Yeşil onay mesajı
        - **Başarısız:** Hata detayları gösterilir
    </Step>

    <Step title="Kaydetme">
        - Sağ üstteki **[Save and Deploy]** butonuna tıklayın.

        **Kontrol Listesi:**

        - Benzersiz isim
        - Zorunlu alanlar dolu
        - Test connection başarılı (önerilir)

        **Sonuç:**

        - Connection listeye eklenir
        - Integration Flow ve Connector adımlarında kullanılabilir hale gelir
        - Ortama göre aktif olur
    </Step>
</Steps>

### Connection'ı Silme

| Bölüm / Adım | Açıklama ve İşlevler |
|--------------|---------------------|
| Silme İşlemi | Satır sonundaki **⋮** menüsünden **Delete** seçin veya connection detay sayfasında **[Delete]** butonuna tıklayın |
| Silme İpuçları | **Silmeden Önce Kontrol Edin:** Integration Flow veya Connector adımlarında kullanılıyor olabilir. Gerekirse alternatif bir connection atayın. Silmeden önce **Export** ile yedek alın |
| Alternatif: Deaktif Etme | Silmek yerine **Disable** seçeneğini kullanın. Connection pasif olur ancak silinmez. Gerektiğinde yeniden etkinleştirilebilir |

### Connection'ı Dışa/İçe Aktarma

Bu adımda kullanıcı, mevcut connection'ları yedekleme, farklı ortamlara taşıma veya paylaşma amacıyla dışa aktarabilir (export) ya da daha önce dışa aktarılmış bir connection'ı tekrar içe aktarabilir (import). Bu işlem, sürüm yönetimi, test ve üretim ortamları arasında geçiş veya ekipler arası paylaşım süreçlerinde veri bütünlüğünü korumak için kullanılır.

| Bölüm / Adım | Açıklama ve İşlevler |
|--------------|---------------------|
| Dışa Aktarma (Export) | **Yöntem 1:** Eylem menüsünden **⋮ → Export** seçin. ZIP dosyası otomatik indirilir. **Yöntem 2:** Connection detay sayfasında **[Export]** butonuna tıklayın. ZIP dosyası indirilir |
| Dosya Formatı | Format: Tarih-connection-SNMP-export.zip. Örnek: `13 Nov 2025-connection-Production_SNMP-export.zip` |
| ZIP İçeriği | Connection JSON dosyası, Metadata bilgileri, Bağımlılık bilgileri (örneğin sertifikalar, key store) |
| Kullanım Alanları | Yedekleme, Ortamlar arası taşıma (Test → Prod), Versiyonlama, Ekip veya proje bazlı paylaşım |
| İçe Aktarma (Import) | Ana listede **[Import SNMP]** butonuna tıklayın. İndirilen ZIP dosyasını seçin. Sistem kontrolleri: Format geçerli mi? İsim çakışması var mı? Bağımlılıklar mevcut mu? Ardından **[Import]** butonuna tıklayın |
| İçe Aktarma Senaryoları | **Senaryo 1: İsim Çakışması** → Eski connection'ın üzerine yazın veya yeni bir isimle oluşturun. **Senaryo 2: Eksik Bağımlılıklar** → Eksik sertifikaları veya key store'ları önce oluşturun veya import sırasında çıkarın |

### Connection'ın Kullanım Alanları

Bu adımda kullanıcı, oluşturduğu **SNMP** connection'ını sistemin farklı bileşenlerinde kullanabilir. Connection'lar Integration Flow, Connector adımları veya Scheduled Job'larda seçilerek kullanılır.

| Kullanım Yeri | Açıklama ve İşlevler |
|---------------|---------------------|
| Connection Oluşturma ve Aktif Etme | **Adımlar:** 1. Connection'ı oluşturun. 2. **Test Connection** ile bağlantıyı doğrulayın. 3. **Save and Deploy** ile kaydedin ve etkinleştirin. 4. Connection'ın **Enabled** durumda olduğundan emin olun |
| Integration / Connector Adımlarında Kullanım | Mesaj kuyruğu (queue), topic, e-posta, FTP/SFTP, LDAP veya benzeri dış sistemlerle iletişim isteyen adımlarda connection seçilir. Örnek: "Send Message", "Consume Message", "Upload File", "Read Directory" gibi adımlar. Bağlantı seçimi bu adımların yapılandırmasında yer alan Connection alanından yapılır |
| Scheduled Job Kullanımı | Zamanlanmış görevlerde (ör. belirli aralıklarla mesaj gönderme, dosya işleme vb.) bağlantı seçilerek dış sistemlere erişim sağlanır. Connection değiştiğinde, job çalışma davranışı da buna göre güncellenir |
| Test Amaçlı Kullanım | Connection Test özelliği ile bağlantının doğruluğu Integration Flow'dan bağımsız olarak kontrol edilebilir. Bu test hata ayıklama sürecinde kritik önem taşır |

## Best Practices

### Yapılması Gerekenler ve En İyi Uygulamalar

| Kategori | Açıklama / Öneriler |
|----------|---------------------|
| Trap Adresleme | **Kötü:** Tüm cihazları tek community ile bırakmak. **İyi:** Her cihaz sınıfı için ayrı community tanımlamak. **En İyi:** SNMPv3 USM kullanıcıları kullanarak her cihaz grubuna farklı security name atamak |
| OID Yönetimi | **Kötü:** PDU Variable Map'i boş bırakmak. **İyi:** Sadece kritik OID'leri eklemek. **En İyi:** Tüm iş kurallarında kullanılacak OID'leri anlamlı isimlerle map'lemek ve versiyonlamak |
| Retry/Timeout Ayarı | **Kötü:** Varsayılan retryCount ve timeout değerlerini her ortamda bırakmak. **İyi:** Ağ kalitesine göre retryCount'u güncellemek. **En İyi:** Prod ortamında latency ölçüp timeout/interval değerlerini veriyle optimize etmek |
| Flow Entegrasyonu | **Kötü:** Aynı connection'ı birbirinden bağımsız flow'larda versiyon kontrolü olmadan kullanmak. **İyi:** Flow başına kullanılan connection versiyonunu dokümante etmek. **En İyi:** Export edilen connection'ı Git deposu veya artefact yönetimiyle versionlayıp flow değişiklikleriyle eşleştirmek |
| Ortam Yönetimi | **Kötü:** Tüm ortamlarda aynı connection parametrelerini kullanmak. **İyi:** Her ortam için ayrı connection oluşturmak. **En İyi:** Environment seçeneğini kullanarak tek connection'da tüm ortamları yönetmek, ortamlar arası geçişte sadece environment değiştirmek |
| Connection Test | **Kötü:** Connection'ı test etmeden kaydetmek ve deploy etmek. **İyi:** Kaydetmeden önce Test Connection ile doğrulamak. **En İyi:** Her parametre değişikliğinden sonra test etmek, production'a geçmeden önce test ortamında tam entegrasyon testi yapmak |

### Güvenlik En İyi Uygulamaları

| Güvenlik Alanı | Açıklama / Uyarılar |
|----------------|---------------------|
| Community String Yönetimi | Varsayılan public/private string'lerini production ortamında kullanmayın. Cihaz başına benzersiz string belirleyin ve secret manager'da saklayın |
| USM Parola Politikası | 8 karakterden kısa parolalar brute-force riski taşır. Auth/priv passphrase alanlarını karmaşık hale getirin ve düzenli aralıklarla değiştirin |
| SNMP Ağ Segmentasyonu | Trafiği yalnızca yönetim VLAN'larına açın, firewall'da sadece gerekli kaynak IP'lerine izin verin, kalanları drop edin |
| Kimlik Bilgileri Yönetimi | Kullanıcı adı ve şifre gibi hassas bilgileri environment variable veya secret manager kullanarak saklayın. Kimlik bilgilerini kod veya konfigürasyon dosyalarına hardcode etmeyin. Periyodik olarak şifreleri güncelleyin |
| SSL/TLS Kullanımı | Production ortamında mutlaka SSL/TLS aktif edin. Self-signed sertifikalar sadece development ortamında kullanın. Sertifika expiration tarihlerini takip edin ve zamanında yenileyin |
| Erişim Kontrolü | Connection yapılandırmasını sadece yetkili kullanıcıların değiştirmesine izin verin. Connection değişiklik loglarını saklayın. Kritik connection'lar için değişiklik approval süreci uygulayın |

### Kaçınılması Gerekenler

| Kategori | Açıklama / Uyarılar |
|----------|---------------------|
| Statik OID Haritaları | **Neden kaçınılmalı:** Yeni cihaz eklendiğinde OID değişiklikleri fark edilmez. **Alternatif:** PDU Variable Map'i düzenli gözden geçirip versiyonlayın |
| Sınırsız Retransmission | **Neden kaçınılmalı:** Sonsuz retry cihaz ve ağı gereksiz yükler. **Alternatif:** retryCount değerini düşük tutun, hataları Flow logic'iyle yönetin |
| Firewall Portlarını Açmamak | **Neden kaçınılmalı:** UDP 161/162 kapalıyken connection sürekli timeout verir. **Alternatif:** Ağ ekipleriyle port açılışını koordine edin ve erişim testlerini otomasyona bağlayın |
| Production Connection'ı Test Ortamında Kullanma | **Neden kaçınılmalı:** Test verileri production sistemine yazılabilir, gerçek kullanıcılar etkilenebilir, güvenlik riski oluşur. **Alternatif:** Her ortam için ayrı connection oluşturun, environment parametresini kullanın, connection isimlerini ortama göre prefix ekleyerek ayırın (Test_, Prod_) |
| Çok Düşük Timeout Değerleri | **Neden kaçınılmalı:** Ağ gecikmelerinde connection sürekli timeout olur, Entegrasyon adımları başarısız olur. **Alternatif:** Gerçek kullanım senaryolarına göre timeout değerlerini ayarlayın, network latency'yi ölçün ve timeout'ları buna göre belirleyin |
| Connection Pool Kullanmama | **Neden kaçınılmalı:** Her istekte yeni bağlantı açılır, performans düşer, kaynak tüketimi artar, hedef sistem yükü artar. **Alternatif:** Connection pool aktif edin, pool size'ı trafik hacmine göre ayarlayın, pool monitoring kurun |

### Performans İpuçları

| Kriter | Öneri / Etki |
|--------|-------------|
| Trap Önceliklendirme | **Öneri:** Kritik cihazlar için ayrı connection veya daha yüksek pool size tanımlayın. **Etki:** Hayati alarmların gecikmesi önlenir |
| Retry Politikası | **Öneri:** Latency ölçümlerine göre retry ve interval değerlerini ayarlayın. **Etki:** Gereksiz paket gönderimi azalır, ağ verimliliği artar |
| OID Önbellekleme | **Öneri:** Sık kullanılan OID sonuçlarını Flow içerisinde cache edin. **Etki:** PDU işleme süresi kısalır, CPU tüketimi azalır |
| Connection Pool Optimizasyonu | **Öneri:** Pool size'ı peak trafiğe göre ayarlayın (önerilen: eşzamanlı istek sayısı × 1.5), idle connection timeout'ları belirleyin, pool health check yapın. **Etki:** Bağlantı açma maliyeti %80 azalır, yanıt süreleri düşer, kaynak kullanımı optimize edilir |
| Timeout Değerleri Optimizasyonu | **Öneri:** Gerçek network latency'yi ölçün, timeout değerlerini buna göre ayarlayın, çok düşük veya çok yüksek timeout'lardan kaçının. **Etki:** Gereksiz beklemeler önlenir, hızlı fail-over sağlanır, kullanıcı deneyimi iyileşir |
| Connection Monitoring | **Öneri:** Connection pool kullanımını izleyin, timeout oranlarını takip edin, connection health check yapın, alerting kurun. **Etki:** Sorunlar proaktif tespit edilir, performans darboğazları erken belirlenir, kesinti süresi azalır |

## Sorun Giderme (Troubleshooting)

| Problem | Olası Nedenler | Çözüm Adımları |
|---------|----------------|----------------|
| Trap Hedefine Ulaşmıyor | Yanlış connection string, Firewall UDP 162'yi engelliyor, Cihaz trap göndermiyor | 1. Connection string'deki IP/port'u doğrulayın. 2. Ağ ekibinden UDP 162 erişimini test edin. 3. Cihazdan manuel trap gönderip logları inceleyin |
| SNMPv3 Kimlik Doğrulama Başarısız | Security level yanlış, Auth/priv passphrase hatalı, Saat senkronu yok | 1. Security level ve protokolleri cihazla eşleştirin. 2. Secret manager'daki parolaları yeniden girin. 3. Cihaz ve Apinizer saatlerini NTP ile hizalayın |
| Connection Timeout | Network gecikmesi, Hedef sistem yavaş yanıt veriyor, Timeout değeri çok düşük | 1. Network connectivity kontrol edin. 2. Hedef sistem sağlığını kontrol edin. 3. Timeout değerlerini artırın. 4. Connection loglarını inceleyin |
| Authentication Failed | Yanlış kullanıcı adı/şifre, Expired credentials, Yetki problemi | 1. Kimlik bilgilerini doğrulayın. 2. Hedef sistemde kullanıcının aktif olduğunu kontrol edin. 3. Gerekli yetkilerin verildiğini kontrol edin. 4. SSL/TLS sertifikalarını kontrol edin |
| Pool Exhausted | Pool size çok düşük, Connection leak var, Trafik çok yüksek | 1. Pool size'ı artırın. 2. Connection'ların düzgün kapatıldığını kontrol edin. 3. Idle connection timeout'ları ayarlayın. 4. Connection kullanım metriklerini izleyin |
| Connection Test Başarılı Ama Entegrasyon Akışı Hata Veriyor | Integration/Connector adımında farklı connection seçili olabilir, Adım yanlış yapılandırılmış olabilir, Flow/Job redeploy edilmemiş olabilir | 1. Connection'ın enable toggle'ının aktif olduğunu kontrol edin. 2. Integration Flow'da doğru connection'ın seçildiğini doğrulayın. 3. Connection'ı tekrar deploy edin. 4. Integration Flow veya Job'ı redeploy edin. 5. Gateway loglarını kontrol edin |

## Sık Sorulan Sorular (SSS)

| Kategori | Soru (S) | Cevap (C) |
|----------|----------|-----------|
| Genel | SNMP Connection hangi versiyonları destekler? | V1, V2c ve V3 desteklenir; V3 seçildiğinde USM güvenlik seçenekleri açılır |
| Genel | Aynı connection ile hem trap hem inform gönderebilir miyim? | Hayır, message type tek değer alır. İki farklı tip için iki connection oluşturmanız veya export/import ile çoğaltmanız gerekir |
| Teknik | PDU Variable Map ne işe yarar? | OID alan adı eşlemesi yaparak Integration Flow tarafında okunabilir alan isimleri sağlar ve yeni OID'leri kolayca eklemenizi mümkün kılar |
| Teknik | SNMPv3'te security level seçimi nasıl olmalı? | Cihaz destekliyorsa AUTH_PRIV önerilir; bu durumda authentication ve privacy protokollerini seçip parolaları girmeniz gerekir |
| Kullanım | Trap portu kapalıysa ne olur? | UDP 162 engellenmişse connection timeout'a düşer. Ağ ekibinden firewall kuralını açtırıp Test Connection çalıştırın |
| Genel | Aynı connection'ı birden fazla Integration Flow'da kullanabilir miyim? | Evet, aynı connection birden fazla Integration Flow veya Connector adımında kullanılabilir. Bu merkezi yönetim sağlar ve konfigürasyon tutarlılığını garanti eder. Ancak connection'da yapılan değişiklikler tüm kullanım yerlerini etkileyeceği için dikkatli olunmalıdır |
| Teknik | Connection pool kullanmak zorunlu mudur? | Connection pool kullanımı zorunlu değildir ancak yüksek trafikli sistemlerde şiddetle önerilir. Her istekte yeni bağlantı açmak yerine mevcut bağlantıları yeniden kullanmak performansı önemli ölçüde artırır |
| Kullanım | Test ve Production için farklı connection'lar mı oluşturmalıyım? | Evet, her ortam için ayrı connection oluşturmanız önerilir. Alternatif olarak environment parametresini kullanarak tek connection içinde tüm ortamları yönetebilirsiniz. Bu yaklaşım daha kolay yönetim ve daha az hata riski sağlar |
| Teknik | Test Connection başarılı ama Integration Flow'da çalışmıyor, neden? | Birkaç neden olabilir: 1) Connection enable toggle'ı pasif olabilir, 2) Integration adımında farklı bir connection seçili olabilir, 3) Connection deploy edilmemiş olabilir, 4) Integration Flow henüz redeploy edilmemiş olabilir |