---
title: "Storage Layer"
description: 'Storage Layer, Apinizer platformunun veri saklama katmanını oluşturan bileşenlerdir'
---

Storage Layer (Depolama Katmanı), Apinizer platformunun veri saklama katmanını oluşturan ve farklı veri türleri için optimize edilmiş depolama çözümleri sağlayan bileşenlerdir.

## Storage Layer Kavramı

Storage Layer, Apinizer platformunun farklı veri türlerini saklamak için kullanılan depolama bileşenlerinden oluşur. Her bileşen, belirli bir veri türü için optimize edilmiştir.

<CardGroup cols={2}>
  <Card title="Configuration DB" icon="database">
    MongoDB - Konfigürasyon verileri
  </Card>
  <Card title="Analytics Storage" icon="chart-bar">
    Elasticsearch - Analitik veriler
  </Card>
  <Card title="Cache Layer" icon="memory">
    Hazelcast - Önbellek verileri
  </Card>
  <Card title="Message Queue" icon="inbox">
    Kafka/RabbitMQ - Mesaj kuyruğu
  </Card>
</CardGroup>

## Storage Layer Bileşenleri

### Configuration DB (MongoDB)

Konfigürasyon verilerinin saklandığı veritabanı:

<AccordionGroup>
  <Accordion title="Saklanan Veriler">
    * API Proxy konfigürasyonları
    * Policy tanımları
    * Kullanıcı ve rol bilgileri
    * Proje ve ortam bilgileri
    * Bağlantı tanımları
  </Accordion>
  
  <Accordion title="MongoDB Özellikleri">
    * Document-based storage
    * Flexible schema
    * Horizontal scaling
    * High availability (Replica Set)
  </Accordion>
  
  <Accordion title="Veri Yönetimi">
    * CRUD işlemleri
    * Index yönetimi
    * Backup ve restore
    * Data migration
  </Accordion>
</AccordionGroup>

### Analytics Storage (Elasticsearch)

Analitik verilerin saklandığı depolama:

<CardGroup cols={2}>
  <Card title="Log Storage" icon="file-lines">
    * API request/response logları
    * Error logları
    * Audit logları
  </Card>
  <Card title="Metrics Storage" icon="chart-bar">
    * Performans metrikleri
    * Kullanım metrikleri
    * Hata metrikleri
  </Card>
  <Card title="Search Capabilities" icon="magnifying-glass">
    * Full-text search
    * Aggregation queries
    * Time-series queries
  </Card>
  <Card title="Retention" icon="clock">
    * Configurable retention
    * Index lifecycle management
    * Data archiving
  </Card>
</CardGroup>

### Cache Layer (Hazelcast)

Dağıtık önbellek katmanı:

<AccordionGroup>
  <Accordion title="Cache Types">
    * Distributed cache
    * In-memory cache
    * Session cache
    * Configuration cache
  </Accordion>
  
  <Accordion title="Hazelcast Özellikleri">
    * Distributed data structures
    * High availability
    * Auto-scaling
    * Data replication
  </Accordion>
  
  <Accordion title="Use Cases">
    * API Gateway local cache
    * Shared state
    * Session replication
    * Distributed locking
  </Accordion>
</AccordionGroup>

### Message Queue (Kafka/RabbitMQ)

Mesaj kuyruğu sistemi:

<CardGroup cols={2}>
  <Card title="Kafka" icon="inbox">
    * High throughput
    * Distributed streaming
    * Event sourcing
    * Log aggregation
  </Card>
  <Card title="RabbitMQ" icon="inbox">
    * Message queuing
    * Pub/Sub pattern
    * Work queues
    * Routing
  </Card>
  <Card title="Use Cases" icon="list">
    * Async processing
    * Event-driven architecture
    * Log streaming
    * Notification queue
  </Card>
  <Card title="Reliability" icon="shield">
    * Message persistence
    * Acknowledgment
    * Dead letter queue
  </Card>
</CardGroup>

## Storage Layer Mimarisi

```
┌─────────────────────────────────────────┐
│         Storage Layer                   │
│                                         │
│  ┌──────────┐  ┌──────────┐          │
│  │ MongoDB   │  │Elasticsearch│        │
│  │ (Config)  │  │ (Analytics)│        │
│  └──────────┘  └──────────┘          │
│                                         │
│  ┌──────────┐  ┌──────────┐          │
│  │Hazelcast │  │Kafka/RabbitMQ│       │
│  │ (Cache)  │  │ (Message Queue)│     │
│  └──────────┘  └──────────┘          │
└─────────────────────────────────────────┘
```

## Veri Akışı

### Konfigürasyon Verisi

```
API Manager
   │
   │ Konfigürasyon
   ▼
MongoDB (Configuration DB)
   │
   │ Deployment
   ▼
API Gateway (Local Cache)
```

### Analitik Veri

```
API Gateway
   │
   │ Log Kayıtları
   ▼
Kafka/RabbitMQ (Message Queue)
   │
   │ Stream Processing
   ▼
Elasticsearch (Analytics Storage)
   │
   │ Query
   ▼
Analytics Engine / Dashboard
```

### Cache Verisi

```
API Gateway
   │
   │ Cache Read/Write
   ▼
Hazelcast (Distributed Cache)
   │
   │ Replication
   ▼
Other API Gateway Instances
```

## Storage Layer Özellikleri

### Yüksek Erişilebilirlik

<CardGroup cols={2}>
  <Card title="Replication" icon="copy">
    * Data replication
    * Multi-node support
    * Automatic failover
  </Card>
  <Card title="Backup" icon="floppy-disk">
    * Automated backups
    * Point-in-time recovery
    * Disaster recovery
  </Card>
</CardGroup>

### Ölçeklenebilirlik

<AccordionGroup>
  <Accordion title="Horizontal Scaling">
    * Sharding
    * Partitioning
    * Load distribution
  </Accordion>
  
  <Accordion title="Vertical Scaling">
    * Resource allocation
    * Performance tuning
  </Accordion>
</AccordionGroup>

### Veri Güvenliği

<CardGroup cols={2}>
  <Card title="Encryption" icon="lock">
    * Encryption at rest
    * Encryption in transit
    * Key management
  </Card>
  <Card title="Access Control" icon="shield">
    * Authentication
    * Authorization
    * Audit logging
  </Card>
</CardGroup>

## Storage Layer Best Practices

<CardGroup cols={2}>
  <Card title="Data Modeling" icon="diagram-project">
    * Uygun veri modeli seçimi
    * Index optimization
    * Query optimization
  </Card>
  <Card title="Retention Policies" icon="clock">
    * Uygun retention süreleri
    * Data archiving
    * Cost optimization
  </Card>
  <Card title="Monitoring" icon="eye">
    * Storage metrikleri izleme
    * Capacity planning
    * Performance monitoring
  </Card>
  <Card title="Backup Strategy" icon="floppy-disk">
    * Düzenli backup'lar
    * Backup testi
    * Recovery planı
  </Card>
</CardGroup>

## Sonraki Adımlar

<CardGroup cols={2}>
  <Card title="Analytics Engine" icon="chart-bar" href="/tr/apinizer-anlama/temel-bilesenler/analytics-engine">
    Analytics Engine bileşenini öğrenin
  </Card>
  <Card title="Cache Component" icon="memory" href="/tr/apinizer-anlama/temel-bilesenler/cache-component">
    Cache Component bileşenini öğrenin
  </Card>
  <Card title="Veri Log Katmanı" icon="file-lines" href="/tr/apinizer-anlama/mimari/veri-log-katmani">
    Veri Log Katmanı mimarisi
  </Card>
  <Card title="Storage Yapılandırması" icon="gear" href="/tr/admin/storage-yapilandirma">
    Storage yapılandırması
  </Card>
</CardGroup>
