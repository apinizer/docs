---
title: "API Gateway"
description: 'API Gateway (Data Plane), API trafiğinin işlendiği ve yönlendirildiği katmandır'
---

API Gateway (API Ağ Geçidi), Apinizer platformunun **Data Plane** (Veri Düzlemi) katmanında yer alan ve API trafiğinin işlendiği, yönlendirildiği ve politikaların uygulandığı ana bileşendir.

## API Gateway Kavramı

API Gateway, istemci isteklerini karşılayan, güvenlik politikalarını uygulayan, trafiği yöneten ve backend API'lere yönlendiren yüksek performanslı bir bileşendir.

<CardGroup cols={2}>
  <Card title="Yüksek Performans" icon="gauge">
    Düşük gecikme ve yüksek throughput
  </Card>
  <Card title="Güvenlik" icon="shield">
    Authentication, Authorization, mTLS
  </Card>
  <Card title="Trafik Yönetimi" icon="route">
    Load balancing, rate limiting, failover
  </Card>
  <Card title="Ölçeklenebilirlik" icon="arrows-up-down">
    Yatay ölçeklendirme desteği
  </Card>
</CardGroup>

## API Gateway Bileşenleri

API Gateway aşağıdaki alt bileşenlerden oluşur:

### Proxy Handler

İstemci isteklerini karşılayan ve politika uygulama noktası (Policy Enforcement Point) olarak görev yapan ana bileşendir:

<AccordionGroup>
  <Accordion title="İstek Karşılama">
    * İstemci isteklerini karşılama
    * TLS/SSL sonlandırması
    * Request parsing ve validation
  </Accordion>
  
  <Accordion title="Policy Enforcement">
    * Pre-flow politikaları uygulama
    * Conditional politikaları değerlendirme
    * Post-flow politikaları uygulama
  </Accordion>
  
  <Accordion title="Routing">
    * Upstream Target seçimi
    * Load balancing uygulaması
    * Failover mekanizması
  </Accordion>
</AccordionGroup>

### Worker Modülleri

Her Worker bir Ortam'a (Environment) ait olup, API Proxy'lerin çalıştığı ortamdır:

<CardGroup cols={2}>
  <Card title="Ortam İzolasyonu" icon="layer-group">
    Her Worker bir ortama aittir
  </Card>
  <Card title="Yatay Ölçeklendirme" icon="arrows-up-down">
    Birden fazla Worker ile ölçeklendirme
  </Card>
  <Card title="Yüksek Erişilebilirlik" icon="heart-pulse">
    Worker'lar arası yük dengeleme
  </Card>
  <Card title="Bağımsız Çalışma" icon="server">
    Worker'lar bağımsız çalışır
  </Card>
</CardGroup>

### Local Cache

Worker'ların performansını artırmak için kullanılan yerel önbellek:

* **Konfigürasyon Cache**: Management API üzerinden yüklenen konfigürasyonlar
* **Policy Cache**: Politika tanımları
* **Token Cache**: OAuth2/JWT token'ları
* **Metadata Cache**: API Proxy metadata bilgileri

### Token Provider API

OAuth2 ve JWT token üretimi ve yönetimi için kullanılan API endpoint'i:

* **Token Generation**: Access token ve refresh token üretimi
* **Token Validation**: Token doğrulama
* **Token Revocation**: Token iptal etme

## API Gateway Özellikleri

### Güvenlik

<CardGroup cols={2}>
  <Card title="Authentication" icon="key">
    * OAuth2 / OIDC
    * JWT
    * Basic / Digest Authentication
    * mTLS
  </Card>
  <Card title="Authorization" icon="lock">
    * IP Whitelist/Blacklist
    * API Key kontrolü
    * Role-based Access Control
  </Card>
  <Card title="TLS/SSL" icon="shield-halved">
    * TLS/SSL sonlandırması
    * SNI desteği
    * Certificate yönetimi
  </Card>
  <Card title="Data Protection" icon="eye-slash">
    * Data masking
    * Encryption
    * PII protection
  </Card>
</CardGroup>

### Trafik Yönetimi

<AccordionGroup>
  <Accordion title="Load Balancing">
    * Round Robin
    * Least Connections
    * IP Hash
    * Weighted Round Robin
  </Accordion>
  
  <Accordion title="Rate Limiting">
    * API bazlı rate limiting
    * Kullanıcı bazlı rate limiting
    * IP bazlı rate limiting
    * Quota yönetimi
  </Accordion>
  
  <Accordion title="Failover">
    * Otomatik failover
    * Health check
    * Circuit breaker
  </Accordion>
</AccordionGroup>

### Mesaj İşleme

<CardGroup cols={2}>
  <Card title="Transformation" icon="wand-magic-sparkles">
    * JSON ↔ XML dönüştürme
    * Message enrichment
    * Field mapping
  </Card>
  <Card title="Validation" icon="check-circle">
    * JSON Schema validation
    * XML Schema validation
    * Message size validation
  </Card>
  <Card title="Routing" icon="route">
    * Conditional routing
    * Content-based routing
    * Version-based routing
  </Card>
  <Card title="Logging" icon="file-lines">
    * Request/Response logging
    * Audit logging
    * Error logging
  </Card>
</CardGroup>

## API Gateway ve API Manager İlişkisi

API Gateway, API Manager'dan konfigürasyon alır ve trafiği işler:

```
API Manager (Control Plane)
   │
   │ Konfigürasyon Deployment
   │
   ▼
API Gateway (Data Plane)
   │
   │ API Trafiği İşleme
   │
   ▼
Backend API'ler
```

**İşleyiş:**
1. API Manager'da API Proxy konfigürasyonu yapılır
2. Konfigürasyon API Gateway'lere deploy edilir
3. API Gateway konfigürasyonu Local Cache'e yükler
4. İstemci istekleri API Gateway'e gelir
5. API Gateway konfigürasyonu kullanarak trafiği işler
6. Metrikler API Manager'a gönderilir

## API Gateway Performans Özellikleri

<CardGroup cols={2}>
  <Card title="Düşük Gecikme" icon="clock">
    * Optimize edilmiş request handling
    * Local cache kullanımı
    * Async processing
  </Card>
  <Card title="Yüksek Throughput" icon="gauge">
    * Non-blocking I/O
    * Connection pooling
    * Efficient resource usage
  </Card>
  <Card title="Ölçeklenebilirlik" icon="arrows-up-down">
    * Yatay ölçeklendirme
    * Auto-scaling
    * Load balancing
  </Card>
  <Card title="Yüksek Erişilebilirlik" icon="heart-pulse">
    * Failover mekanizması
    * Health check
    * Redundancy
  </Card>
</CardGroup>

## Sonraki Adımlar

<CardGroup cols={2}>
  <Card title="API Manager" icon="gear" href="/tr/apinizer-anlama/temel-bilesenler/api-manager">
    API Manager bileşenini öğrenin
  </Card>
  <Card title="Üst Seviye Mimari" icon="diagram-project" href="/tr/apinizer-anlama/mimari/ust-seviye-mimari">
    Mimari yapıyı öğrenin
  </Card>
  <Card title="Routing" icon="route" href="/tr/apinizer-anlama/temel-kavramlar/routing">
    Routing kavramını öğrenin
  </Card>
  <Card title="Load Balancing" icon="scale-balanced" href="/tr/apinizer-anlama/temel-kavramlar/load-balancing-strategies">
    Load balancing stratejileri
  </Card>
</CardGroup>
