---
title: "Topoloji 3: Yüksek Erişilebilirlik"
description: "Yüksek erişilebilirlik gereksinimleri olan kritik production ortamlarında Apinizer'ı kurabilir, sistem gereksinimlerini belirleyebilir, ağ topolojisini yapılandırabilir, kapasite planlaması yapabilir ve donanım gereksinimlerini karşılayabilirsiniz."
---

Bu sayfa, Apinizer'ı **yüksek erişilebilirlik gereksinimleri olan kritik production ortamlarında** kurmak isteyenler için hazırlanmıştır. Bu topoloji, %99.9+ uptime, otomatik failover ve veri replikasyonu sağlar.

## Genel Bakış

Topoloji 3, yüksek erişilebilirlik için tasarlanmış, tüm kritik bileşenlerin cluster yapısında çalıştığı bir topolojidir. Tüm bileşenler 12 sunucu üzerinde dağıtılmıştır.

### Mimari Yapı

<img
  src="/images/apinizer-anlama/singlecluster-ha.drawio.png"
  alt="Yüksek Erişilebilirlik Kurulum Mimarisi"
  width="1000"
/>

## 1. Sistem Gereksinimleri

Detaylı sistem gereksinimleri için [Genel Bakış](/tr/apinizer-anlama/deployment/genel-bakis) sayfasına bakabilirsiniz.

### İşletim Sistemi

* **Ubuntu Server 24.04 LTS** veya **RHEL 9.x**
* Minimum kernel versiyonu: 5.4+
* SELinux: Disabled (RHEL için) veya Permissive mode

### Yazılım Bileşenleri

| Bileşen | Versiyon/Gereksinim |
|---------|---------------------|
| **Kubernetes** | 1.31.0+ (HA Cluster) |
| **Docker/Containerd** | Kubernetes ile uyumlu versiyon |
| **MongoDB** | Herhangi bir versiyon (Replica Set - 3 node minimum) |
| **Elasticsearch** | 7.9.2+ (Cluster - 3 node minimum) |
| **Network Plugin** | Flannel 0.27.4 (veya uyumlu) |
| **Load Balancer** | HAProxy 2.0+ veya Nginx 1.18+ (HA yapılandırma) |

<Info>
  **Yazılım bileşenleri hakkında detaylı bilgi için:** [Genel Bakış - Apinizer'ın İhtiyaç Duyduğu Bileşenler](/tr/apinizer-anlama/deployment/genel-bakis#apinizerın-ihtiyaç-duyduğu-bileşenler)
</Info>

### Ağ Gereksinimleri

* **Internet Erişimi**: Kurulum sırasında gerekli
* **DNS**: Çalışan DNS çözümleme
* **Firewall**: Gerekli portların açık olması
* **Load Balancer**: HA yapılandırma (VIP)
* **Network Latency**: Node'lar arası < 1ms (aynı datacenter)

<Info>
  **Ağ topolojisi ve port gereksinimleri hakkında detaylı bilgi için:** [Ağ Topolojisi ve Port Gereksinimleri](/tr/apinizer-anlama/deployment/ag-topolojisi)
</Info>

## 2. Donanım Gereksinimleri

Aşağıdaki gereksinimler tavsiye edilen **minimum** konfigürasyon için belirtilmiştir. Servis yüklerinize göre artırılmalıdır.

| No | İşletim Sistemi | CPU | RAM | Disk | Kurulumlar |
|----|-----------------|-----|-----|------|------------|
| Sunucu 1 | Ubuntu Server 24.04 LTS / RHEL 9.x | 4 | 8GB | 100GB | Kubernetes Control-Plane Node 1 |
| Sunucu 2 | Ubuntu Server 24.04 LTS / RHEL 9.x | 4 | 8GB | 100GB | Kubernetes Control-Plane Node 2 |
| Sunucu 3 | Ubuntu Server 24.04 LTS / RHEL 9.x | 4 | 8GB | 100GB | Kubernetes Control-Plane Node 3 |
| Sunucu 4 | Ubuntu Server 24.04 LTS / RHEL 9.x | 8 | 8GB | 100GB | Kubernetes Worker Node 1 |
| Sunucu 5 | Ubuntu Server 24.04 LTS / RHEL 9.x | 8 | 8GB | 100GB | Kubernetes Worker Node 2 |
| Sunucu 6 | Ubuntu Server 24.04 LTS / RHEL 9.x | 8 | 8GB | 100GB | Kubernetes Worker Node 3 |
| Sunucu 7 | Ubuntu Server 24.04 LTS / RHEL 9.x | 4 | 8GB | 200GB | MongoDB Replica Set Node 1 |
| Sunucu 8 | Ubuntu Server 24.04 LTS / RHEL 9.x | 4 | 8GB | 200GB | MongoDB Replica Set Node 2 |
| Sunucu 9 | Ubuntu Server 24.04 LTS / RHEL 9.x | 4 | 8GB | 200GB | MongoDB Replica Set Node 3 |
| Sunucu 10 | Ubuntu Server 24.04 LTS / RHEL 9.x | 8 | 32GB | 2TB | Elasticsearch Cluster Node 1 (Master+Data) |
| Sunucu 11 | Ubuntu Server 24.04 LTS / RHEL 9.x | 8 | 32GB | 2TB | Elasticsearch Cluster Node 2 (Master+Data) |
| Sunucu 12 | Ubuntu Server 24.04 LTS / RHEL 9.x | 8 | 32GB | 2TB | Elasticsearch Cluster Node 3 (Master+Data) |

<Info>
  **Önemli**: Yukarıdaki CPU, disk ve RAM değerleri örnek olarak verilmiştir. Bu değerler, trafik hacmi, API sayısı, politika karmaşıklığı ve diğer faktörlere göre değişiklik gösterebilir. Gerçek donanım gereksinimlerinizi belirlemek için [Kapasite Planlama](/tr/apinizer-anlama/deployment/kapasite-planlama) sayfasındaki kurallara göre hesaplama yapmanız önerilir.
</Info>

## 3. Ağ Topolojisi

### DMZ ve LAN Ayrımı (Zorunlu)

Yüksek erişilebilirlik topolojisi için DMZ (Demilitarized Zone) ve LAN (Local Area Network) ayrımı zorunludur. Bu yapı, güvenlik ve yüksek erişilebilirlik sağlar.

**Ağ Yapısı:**

* **Internet**: Dış dünyadan gelen trafik, yüksek erişilebilirlik yapılandırmasına sahip Load Balancer üzerinden (Port 443/80) DMZ zone'una yönlendirilir.

* **DMZ Zone**: [Worker](/tr/apinizer-anlama/temel-bilesenler/api-gateway) node'ları (3 adet) bu zone'da bulunur. Load Balancer, trafiği bu üç worker node arasında dağıtarak yük dengeleme ve yüksek erişilebilirlik sağlar.

* **LAN Zone**: [Manager](/tr/apinizer-anlama/temel-bilesenler/api-manager), [MongoDB](/tr/apinizer-anlama/temel-kavramlar/baglantilar) Replica Set (3 node) ve [Elasticsearch](/tr/apinizer-anlama/temel-bilesenler/analytics-engine) Cluster (3 node) bu zone'da bulunur.

<Info>
  **DMZ ve LAN zone'ları hakkında detaylı bilgi için:** [Genel Bakış - Temel Kavramlar](/tr/apinizer-anlama/deployment/genel-bakis#temel-kavramlar) ve [Ağ Topolojisi ve Port Gereksinimleri](/tr/apinizer-anlama/deployment/ag-topolojisi)
</Info>

### Port ve Firewall İzinleri

Bu topolojide sunucular DMZ ve LAN zone'larına ayrılmıştır. Worker node'lar DMZ'de, Control-Plane, MongoDB ve Elasticsearch node'ları LAN'da bulunur. Firewall kuralları, zone'lar arası iletişimi kontrol eder ve sadece gerekli portların açılmasını sağlar.

<Info>
  **Port gereksinimleri ve firewall kuralları hakkında detaylı bilgi için:** [Ağ Topolojisi ve Port Gereksinimleri](/tr/apinizer-anlama/deployment/ag-topolojisi) sayfasına bakabilirsiniz. Bu sayfada Kubernetes, MongoDB, Elasticsearch ve Apinizer bileşenleri için tüm port gereksinimleri ve firewall kuralları detaylı olarak açıklanmıştır.
</Info>

## 4. Kapasite Planlama

Bu topoloji, **Tier 3** (Enterprise production) seviyesindeki yüksek trafikli sistemler için tasarlanmıştır:

| Metrik | Değer |
|--------|-------|
| **Günlük İstek** | > 3,000,000 istek/gün |
| **Saniyede İstek** | > 100 istek/saniye |
| **Peak Trafik** | > 1,000 istek/saniye |
| **Eşzamanlı Kullanıcı** | > 1,000 kullanıcı |
| **Uptime** | %99.9+ |

<Info>
  **Kapasite planlama hakkında detaylı bilgi için:** [Kapasite Planlama](/tr/apinizer-anlama/deployment/kapasite-planlama) sayfasına bakabilirsiniz. Bu sayfada trafik tahmini, donanım gereksinimleri, MongoDB ve Elasticsearch veri büyüklüğü hesaplamaları ve benchmark performans sonuçları detaylı olarak açıklanmıştır.
</Info>

## Kurulum Öncesi Checklist

Kuruluma başlamadan önce aşağıdaki hazırlıkları yapmalısınız:

| Kategori | Kontrol Maddesi |
|----------|-----------------|
| **Altyapı** | [ ] 12 sunucu hazırlandı (3 Control-Plane + 3 Worker + 3 MongoDB + 3 Elasticsearch) |
| | [ ] Load Balancer hazırlandı (HA yapılandırma) |
| | [ ] İşletim sistemi kuruldu (Ubuntu 24.04 LTS veya RHEL 9.x) |
| | [ ] Sunucular arası ağ bağlantısı test edildi (< 1ms latency) |
| | [ ] DNS çözümleme çalışıyor |
| | [ ] Internet erişimi mevcut |
| | [ ] VIP (Virtual IP) yapılandırıldı |
| **Ağ** | [ ] DMZ ve LAN zone'ları yapılandırıldı |
| | [ ] Firewall kuralları yapılandırıldı |
| | [ ] Load balancer HA yapılandırıldı |
| | [ ] SSL/TLS sertifikaları hazırlandı |
| | [ ] Gerekli portlar açıldı |
| | [ ] Network segmentation uygulandı |
| **Yazılım** | [ ] Kubernetes HA cluster kurulum paketleri hazır |
| | [ ] MongoDB replica set kurulum paketleri hazır |
| | [ ] Elasticsearch cluster kurulum paketleri hazır |
| | [ ] Apinizer image'leri erişilebilir (DockerHub veya private registry) |
| | [ ] Load balancer yazılımı kuruldu (HA) |
| **Güvenlik** | [ ] SSH anahtarları yapılandırıldı |
| | [ ] Sudo erişimi yapılandırıldı |
| | [ ] Güvenlik güncellemeleri yapıldı |
| | [ ] Firewall kuralları test edildi |
| | [ ] SSL/TLS sertifikaları hazırlandı |
| | [ ] Network segmentation test edildi |

<Info>
  **Kurulum öncesi detaylı öneriler için:** [Kurulum Öncesi Öneriler](/tr/apinizer-anlama/deployment/kurulum-oncesi-oneriler) sayfasına bakabilirsiniz.
</Info>

## Kullanım Senaryoları

Bu topoloji, kritik production ortamları, yüksek trafikli sistemler (> 3M istek/gün), yüksek erişilebilirlik gereksinimleri (%99.9+ uptime), kritik iş süreçleri ve veri güvenliği gereksinimleri olan sistemler için idealdir.

<Info>
  **Topoloji seçim kılavuzu ve kullanım senaryoları hakkında detaylı bilgi için:** [Deployment Modelleri](/tr/apinizer-anlama/deployment/deployment-modelleri) sayfasına bakabilirsiniz.
</Info>

## Sınırlamalar ve Dikkat Edilmesi Gerekenler

<Warning>
  **Bu topolojinin dikkat edilmesi gereken noktaları:**
  
  * Yüksek maliyet gereksinimleri (12 sunucu + Load Balancer)
  * Karmaşık kurulum ve yönetim süreçleri
  * Yüksek ağ bant genişliği gereksinimleri
  * Uzman sistem yöneticisi gereksinimi
  * Düzenli bakım ve izleme gereksinimleri
  * Yüksek disk alanı gereksinimleri (özellikle Elasticsearch için)
</Warning>
