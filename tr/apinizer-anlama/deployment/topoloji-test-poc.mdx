---
title: "Topoloji 1: Test ve PoC"
description: 'Test ve Proof of Concept ortamları için kurulum gereksinimleri: sistem gereksinimleri, ağ topolojisi, kapasite planlama ve donanım gereksinimleri'
---

Bu sayfa, Apinizer'ı **Test ve Proof of Concept (PoC)** ortamlarında kurmak isteyenler için hazırlanmıştır. Bu topoloji, hızlı kurulum, düşük kaynak gereksinimi ve minimum maliyet için tasarlanmıştır.

<Warning>
  **Önemli:** Bu topoloji **sadece** test, geliştirme ve PoC ortamları için uygundur. Production ortamları için kullanılmamalıdır. Yük testi yapmak için doğru konfigürasyonu değerlendirmek isterseniz lütfen [Benchmark Sonuçları](/tr/apinizer-anlama/benchmark-sonuclari) sayfamıza bakınız.
</Warning>

## Genel Bakış

Topoloji 1, minimum kaynak gereksinimi ile hızlı kurulum sağlayan basit bir topolojidir. Tüm bileşenler 2 sunucu üzerinde çalışır.

### Mimari Yapı

<img
  src="/images/apinizer-anlama/apinizer-poc-cluster.png"
  alt="Mimari Yapı"
  width="1200"
  style={{ maxWidth: '100%', height: 'auto', display: 'block', margin: '0 auto' }}
/>

## 1. Sistem Gereksinimleri

### İşletim Sistemi

* **Ubuntu Server 24.04 LTS** veya **RHEL 9.x**
* Minimum kernel versiyonu: 5.4+
* SELinux: Disabled (RHEL için) veya Permissive mode

### Yazılım Bileşenleri

| Bileşen | Versiyon/Gereksinim |
|---------|---------------------|
| **Kubernetes** | 1.31.0+ (veya desteklenen herhangi bir versiyon) |
| **Docker/Containerd** | Kubernetes ile uyumlu versiyon |
| **MongoDB** | Herhangi bir versiyon (Replica Set olarak yapılandırılmalı) |
| **Elasticsearch** | 7.9.2 (resmi desteklenen versiyon) |
| **Network Plugin** | Flannel 0.27.4 (veya uyumlu) |

### Ağ Gereksinimleri

* **Internet Erişimi**: Kurulum sırasında gerekli (offline kurulum için özel hazırlık gerekir)
* **DNS**: Çalışan DNS çözümleme
* **Firewall**: Gerekli portların açık olması

## 2. Donanım Gereksinimleri

Aşağıdaki gereksinimler tavsiye edilen **minimum** konfigürasyon için belirtilmiştir. Servis yüklerinize göre artırılmalıdır.

<Warning>
  **Apinizer, üretim ortamı için tek sunucuya kurulum yapılmasını tavsiye etmez. Böyle bir kurulum konfigürasyonunu sadece PoC ortamları için değerlendiriniz.**
</Warning>

<Warning>
  **Test/PoC kurulumlarını yük testi amacıyla kullanmayınız!** Yük testi yapmak için doğru konfigürasyonu değerlendirmek isterseniz lütfen [Benchmark Sonuçları](/tr/apinizer-anlama/benchmark-sonuclari) sayfamıza bakınız veya bizimle iletişime geçiniz.
</Warning>

| No | İşletim Sistemi | CPU | RAM | Disk | Kurulumlar |
|----|-----------------|-----|-----|------|------------|
| Sunucu 1 | Ubuntu Server 24.04 LTS / RHEL 9.x | 8 | 16GB | 200GB | Kubernetes Control-Plane, Elasticsearch (Master+Data), Replica set MongoDB Single Instance |
| Sunucu 2 | Ubuntu Server 24.04 LTS / RHEL 9.x | 8 | 12GB | 80GB | Kubernetes Worker |

## 3. Ağ Topolojisi

### Basit Ağ Yapısı

Test/PoC ortamları için basit bir ağ yapısı yeterlidir. DMZ/LAN ayrımı opsiyoneldir.

Bu topolojide, tüm bileşenler tek bir ağ zone'unda çalışır. Internet üzerinden gelen trafik, Firewall/Router üzerinden geçerek doğrudan sunuculara yönlendirilir. 

**Ağ Yapısı:**

* **Internet**: Dış dünyadan gelen trafik, Firewall/Router üzerinden (Port 443/80) iç ağa yönlendirilir.
* **Single Network Zone**: Tüm sunucular aynı ağ zone'unda bulunur.
  * **Sunucu 1**: Kubernetes Control-Plane, MongoDB ve Elasticsearch bileşenlerini barındırır.
  * **Sunucu 2**: Kubernetes Worker Node, Manager, Worker ve Cache bileşenlerini barındırır.

Bu basit yapı, test ve PoC ortamları için yeterli güvenlik ve performans sağlar. Production ortamları için daha gelişmiş ağ yapılandırmaları (DMZ/LAN ayrımı) önerilir.

### Port ve Firewall İzinleri

<Info>
  **Önemli Not:**
  
  **Aynı Alt Ağ (Subnet) İçinde Kurulum Durumu**
  
  Eğer tüm sunucularınız aynı alt ağ üzerinde konumlanacak ve aralarında bir güvenlik duvarı (firewall) bulunmayacaksa, güvenlik duvarı kuralları yalnızca aşağıdaki iki iletişim türü için geçerli olacaktır:
  
  * **İnternet'ten Erişim**: Dış dünyadan erişilmesi gereken uygulama portları (Örn: Sunucu 2: 32080, 30080/30090).
  * **Konteyner Ağ İletişimi**: Kubernetes kümesi içi iletişimde kullanılan ek protokol portları (Örn: Flannel VXLAN için 8472 UDP).
  
  Sunucular arasındaki küme içi (intra-cluster) ve bileşenler arası iletişim portları, aynı alt ağ içinde doğrudan erişilebilir kabul edildiğinden, bu iletişimler için ek bir güvenlik duvarı kuralı tanımlanmasına gerek yoktur.
</Info>

<AccordionGroup>
  <Accordion title="Eğer Port ve Firewall İzinleri İçin Detaylı Bilgiye İhtiyacınız Varsa">
    #### Port Gereksinimleri

    | Sunucu | Port | Protokol | Açıklama |
    |--------|------|----------|----------|
    | Sunucu 1 | 6443 | HTTPS | Kubernetes API Server |
    | Sunucu 1 | 10250 | HTTPS | Kubelet API |
    | Sunucu 1 | 10259 | HTTPS | Kube-scheduler |
    | Sunucu 1 | 10257 | HTTPS | Kube-controller-manager |
    | Sunucu 1 | 2379-2380 | TCP | etcd client/server |
    | Sunucu 1 | 8472 | UDP | Flannel VXLAN |
    | Sunucu 1 | 27017 | TCP | MongoDB |
    | Sunucu 1 | 9200 | HTTP | Elasticsearch HTTP |
    | Sunucu 1 | 9300 | TCP | Elasticsearch Transport |
    | Sunucu 2 | 10250 | HTTPS | Kubelet API |
    | Sunucu 2 | 30000-32767 | TCP/UDP | NodePort Services |
    | Sunucu 2 | 8472 | UDP | Flannel VXLAN |
    | Sunucu 2 | 32080 | HTTP | Manager Erişimi |
    | Sunucu 2 | 30080/30090 | HTTP | Worker Erişimi |

    #### Firewall Kuralları

    | Kaynak | Hedef | Port | Protokol | Açıklama |
    |--------|-------|------|----------|----------|
    | Sunucu 1 | Sunucu 2 | 10250 | HTTPS | Kubelet API |
    | Sunucu 1 | Sunucu 2 | 30000-32767 | TCP/UDP | NodePort Services |
    | Sunucu 1 | Sunucu 2 | 8472 | UDP | Flannel VXLAN |
    | Sunucu 2 | Sunucu 1 | 6443 | HTTPS | Kubernetes API |
    | Sunucu 2 | Sunucu 1 | 10250 | HTTPS | Kubelet API |
    | Sunucu 2 | Sunucu 1 | 27017 | TCP | MongoDB |
    | Sunucu 2 | Sunucu 1 | 9200 | HTTP | Elasticsearch |
    | Sunucu 2 | Sunucu 1 | 9300 | TCP | Elasticsearch Transport |
    | Sunucu 2 | Sunucu 1 | 8472 | UDP | Flannel VXLAN |
    | Internet | Sunucu 2 | 32080 | HTTP | Manager Erişimi (opsiyonel) |
    | Internet | Sunucu 2 | 30080/30090 | HTTP | Worker Erişimi (opsiyonel) |
  </Accordion>
</AccordionGroup>

## 4. Kapasite Planlama

| Metrik | Değer | Açıklama |
|--------|-------|----------|
| **Günlük İstek** | < 10,000 istek/gün | Toplam günlük API çağrı sayısı |
| **Saniyede İstek** | < 1 istek/saniye | Ortalama saniyede işlenen istek sayısı |
| **Peak Trafik** | < 10 istek/saniye | En yüksek trafik anındaki istek sayısı |
| **Eşzamanlı Kullanıcı** | < 50 kullanıcı | Aynı anda aktif olan kullanıcı sayısı |
| **MongoDB - Konfigürasyon Verileri** | ~50-100 MB | API konfigürasyonları ve metadata |
| **MongoDB - Audit Log'lar** | ~1-5 GB/ay | Aylık audit log hacmi |
| **MongoDB - Toplam Tahmini** | ~10-50 GB | 1 yıl için toplam MongoDB veri hacmi |
| **Elasticsearch - Günlük Log** | < 1 GB/gün | Günlük log hacmi |
| **Elasticsearch - Aylık Log** | ~30 GB/ay | Aylık log hacmi |
| **Elasticsearch - Toplam Tahmini** | ~500 GB | 1 yıl için toplam Elasticsearch veri hacmi (retention'a göre değişir) |
| **API Yanıt Süresi** | < 500ms | Ortalama API yanıt süresi |
| **Yüksek Yük Altında Yanıt Süresi** | < 2 saniye | Yüksek trafik altında maksimum yanıt süresi |
| **Eşzamanlı Bağlantı** | < 100 bağlantı | Aynı anda açık olan bağlantı sayısı |

## Kurulum Öncesi Checklist

Kuruluma başlamadan önce aşağıdaki hazırlıkları yapmalısınız:

| Kategori | Kontrol Maddesi |
|----------|-----------------|
| **Altyapı** | [ ] 2 sunucu hazırlandı (Sunucu 1 ve Sunucu 2) |
| | [ ] İşletim sistemi kuruldu (Ubuntu 24.04 LTS veya RHEL 9.x) |
| | [ ] Sunucular arası ağ bağlantısı test edildi |
| | [ ] DNS çözümleme çalışıyor |
| | [ ] Internet erişimi mevcut (offline kurulum için özel hazırlık yapıldı) |
| **Ağ** | [ ] Gerekli portlar açıldı (yukarıdaki port listesine göre) |
| | [ ] Firewall kuralları yapılandırıldı |
| | [ ] Load balancer yapılandırması (opsiyonel) |
| **Yazılım** | [ ] Kubernetes kurulum paketleri hazır |
| | [ ] MongoDB kurulum paketleri hazır |
| | [ ] Elasticsearch kurulum paketleri hazır |
| | [ ] Apinizer image'leri erişilebilir (DockerHub veya private registry) |
| **Güvenlik** | [ ] SSH anahtarları yapılandırıldı |
| | [ ] Sudo erişimi yapılandırıldı |
| | [ ] Güvenlik güncellemeleri yapıldı |

## Kullanım Senaryoları

Bu topoloji aşağıdaki durumlar için idealdir:

* **Proof of Concept (POC)**: Hızlı prototip geliştirme ve konsept doğrulama için ideal bir ortamdır. Minimum kaynak gereksinimi ile hızlıca kurulum yapılabilir ve API yönetim platformunun temel özellikleri test edilebilir.

* **Test Ortamları**: Geliştirme ve test süreçleri için uygun bir ortamdır. Geliştiriciler API'lerini test edebilir, politikaları deneyebilir ve sistem davranışını gözlemleyebilirler.

* **Eğitim**: Öğrenme ve deneme amaçlı kullanım için idealdir. Ekip üyeleri Apinizer platformunu tanıyabilir, farklı özellikleri keşfedebilir ve pratik yapabilirler.

* **Düşük Trafikli Uygulamalar**: Sınırlı kullanıcı sayısına sahip, düşük trafikli uygulamalar için yeterli performansı sağlar. Günlük 10,000'den az istek işleyebilir.

* **Hızlı Kurulum**: Minimum hazırlık ile kurulum yapılabilir. Sadece 2 sunucu gerektirdiği için hızlıca devreye alınabilir ve kurulum süreci kısadır.

* **Sınırlı Bütçe**: Düşük maliyet gereksinimleri olan projeler için uygundur. Minimum donanım gereksinimleri sayesinde maliyet-etkin bir çözümdür.

## Sınırlamalar ve Dikkat Edilmesi Gerekenler

<Warning>
  **Bu topolojinin sınırlamaları:**
  
  * Production ortamları için uygun değildir
  * Yüksek erişilebilirlik yok (tek nokta arıza riski)
  * Yük testi için kullanılmamalıdır
  * Yüksek trafikli uygulamalar için uygun değildir
  * Veritabanı tek nokta arıza riski taşır
  * Otomatik failover yok
</Warning>
