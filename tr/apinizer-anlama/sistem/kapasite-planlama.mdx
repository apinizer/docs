---
title: "Kapasite Planlama"
description: 'Satın alma ve kaynak tahsis ekibi için "Alışveriş Listesi"'
---

Kapasite planlama, Apinizer platformunun başarılı bir şekilde kurulması ve çalıştırılması için gerekli kaynakların belirlenmesi sürecidir. Bu sayfa, **satın alma ve kaynak tahsis ekipleri** için hazırlanmış bir "alışveriş listesi" niteliğindedir.

## Kapasite Planlama Süreci

Kapasite planlama yaparken aşağıdaki faktörler göz önünde bulundurulmalıdır:

<CardGroup cols={2}>
  <Card title="Trafik Tahmini" icon="chart-line">
    * Beklenen API çağrı sayısı (günlük/saatlik)
    * Peak trafik tahmini
    * Trafik büyüme projeksiyonu
    * Mevsimsel değişiklikler
  </Card>
  <Card title="Deployment Modeli" icon="sitemap" href="/tr/apinizer-anlama/deployment/deployment-modelleri">
    * All-in-One (Standalone)
    * Distributed Deployment
    * Clustered (HA) Deployment
  </Card>
  <Card title="Yüksek Erişilebilirlik" icon="heart-pulse">
    * Uptime gereksinimleri (%99.9+)
    * Failover stratejisi
    * Disaster recovery planı
  </Card>
  <Card title="Büyüme Planı" icon="arrow-trend-up">
    * Kısa vadeli gereksinimler (6 ay)
    * Orta vadeli gereksinimler (1-2 yıl)
    * Uzun vadeli gereksinimler (3+ yıl)
  </Card>
</CardGroup>

## Alışveriş Listesi - Temel Bileşenler

### 1. Worker Nodes (API Gateway)

Worker node'ları API trafiğini işleyen ana bileşenlerdir.

<AccordionGroup>
  <Accordion title="Tier 1 - Düşük Trafik (< 10K istek/gün)">
    **Gereksinimler:**
    * **CPU**: 4 core
    * **RAM**: 8 GB
    * **Disk**: 50 GB SSD
    * **Network**: 1 Gbps
    * **Node Sayısı**: 2 (HA için minimum)
    
    **Kullanım Senaryoları:**
    * Test ortamları
    * Düşük trafikli production
    * POC projeleri
  </Accordion>
  
  <Accordion title="Tier 2 - Orta Trafik (10K - 1M istek/gün)">
    **Gereksinimler:**
    * **CPU**: 8 core
    * **RAM**: 16 GB
    * **Disk**: 100 GB SSD
    * **Network**: 1-10 Gbps
    * **Node Sayısı**: 3-5 (HA için)
    
    **Kullanım Senaryoları:**
    * Orta ölçekli production
    * Kurumsal uygulamalar
    * Bölgesel dağılım
  </Accordion>
  
  <Accordion title="Tier 3 - Yüksek Trafik (> 1M istek/gün)">
    **Gereksinimler:**
    * **CPU**: 16+ core
    * **RAM**: 32+ GB
    * **Disk**: 200+ GB SSD
    * **Network**: 10+ Gbps
    * **Node Sayısı**: 5+ (HA ve ölçeklendirme için)
    
    **Kullanım Senaryoları:**
    * Yüksek trafikli production
    * Global dağılım
    * Kritik iş uygulamaları
  </Accordion>
</AccordionGroup>

### 2. Manager Nodes

Manager node'ları konfigürasyon ve yönetim işlevlerini sağlar.

<AccordionGroup>
  <Accordion title="Standalone (Tek Node)">
    **Gereksinimler:**
    * **CPU**: 4 core
    * **RAM**: 16 GB
    * **Disk**: 100 GB SSD
    * **Network**: 1 Gbps
    
    **Kullanım**: Test ve geliştirme ortamları
  </Accordion>
  
  <Accordion title="HA (Yüksek Erişilebilirlik)">
    **Gereksinimler (her node):**
    * **CPU**: 4-8 core
    * **RAM**: 16-32 GB
    * **Disk**: 100-200 GB SSD
    * **Network**: 1-10 Gbps
    * **Node Sayısı**: 2 (HA için minimum)
    
    **Kullanım**: Production ortamları
  </Accordion>
</AccordionGroup>

### 3. MongoDB Replica Set

MongoDB, konfigürasyon ve metadata verilerini saklar.

<AccordionGroup>
  <Accordion title="Tier 1 - Küçük Kurulum">
    **Gereksinimler (her node):**
    * **CPU**: 4 core
    * **RAM**: 16 GB
    * **Disk**: 200 GB SSD
    * **Network**: 1 Gbps
    * **Node Sayısı**: 3 (1 Primary + 2 Secondary)
    
    **Veri Tahmini:**
    * 100-500 API Proxy: ~50 MB
    * 1 Yıllık Audit Log: ~36-365 GB
    * **Toplam**: ~100-500 GB
  </Accordion>
  
  <Accordion title="Tier 2 - Orta Kurulum">
    **Gereksinimler (her node):**
    * **CPU**: 8 core
    * **RAM**: 32 GB
    * **Disk**: 500 GB SSD
    * **Network**: 1-10 Gbps
    * **Node Sayısı**: 3-5
    
    **Veri Tahmini:**
    * 1000-5000 API Proxy: ~250 MB
    * 1 Yıllık Audit Log: ~365 GB - 1.8 TB
    * **Toplam**: ~500 GB - 2 TB
  </Accordion>
  
  <Accordion title="Tier 3 - Büyük Kurulum">
    **Gereksinimler (her node):**
    * **CPU**: 16 core
    * **RAM**: 64 GB
    * **Disk**: 1-2 TB SSD
    * **Network**: 10 Gbps
    * **Node Sayısı**: 5+
    
    **Veri Tahmini:**
    * 5000+ API Proxy: ~500 MB+
    * 1 Yıllık Audit Log: ~1.8 TB+
    * **Toplam**: ~2 TB+
  </Accordion>
</AccordionGroup>

### 4. Elasticsearch Cluster

Elasticsearch, log ve analitik verilerini saklar.

<AccordionGroup>
  <Accordion title="Tier 1 - Düşük Trafik (< 10 GB/gün log)">
    **Gereksinimler (her node):**
    * **CPU**: 4 core
    * **RAM**: 16 GB
    * **Disk**: 500 GB (SSD Hot, HDD Warm)
    * **Network**: 1 Gbps
    * **Node Sayısı**: 3 (minimum)
    
    **Veri Tahmini:**
    * Günlük: 10 GB
    * Aylık: ~300 GB
    * Yıllık (retention): ~3.6 TB
  </Accordion>
  
  <Accordion title="Tier 2 - Orta Trafik (10-100 GB/gün log)">
    **Gereksinimler (her node):**
    * **CPU**: 8 core
    * **RAM**: 32 GB
    * **Disk**: 2-5 TB (SSD Hot, HDD Warm/Cold)
    * **Network**: 1-10 Gbps
    * **Node Sayısı**: 3-5
    
    **Veri Tahmini:**
    * Günlük: 50 GB
    * Aylık: ~1.5 TB
    * Yıllık (retention): ~18 TB
  </Accordion>
  
  <Accordion title="Tier 3 - Yüksek Trafik (> 100 GB/gün log)">
    **Gereksinimler (her node):**
    * **CPU**: 16 core
    * **RAM**: 64 GB
    * **Disk**: 5-10 TB (SSD Hot, HDD Warm/Cold)
    * **Network**: 10+ Gbps
    * **Node Sayısı**: 5+
    
    **Veri Tahmini:**
    * Günlük: 200+ GB
    * Aylık: ~6 TB+
    * Yıllık (retention): ~72 TB+
  </Accordion>
</AccordionGroup>

### 5. Cache Cluster (Hazelcast)

Distributed cache için Hazelcast cluster.

<AccordionGroup>
  <Accordion title="Tier 1 - Küçük">
    **Gereksinimler (her node):**
    * **CPU**: 4 core
    * **RAM**: 16 GB
    * **Disk**: 100 GB SSD
    * **Network**: 1 Gbps
    * **Node Sayısı**: 3 (minimum)
  </Accordion>
  
  <Accordion title="Tier 2 - Orta">
    **Gereksinimler (her node):**
    * **CPU**: 8 core
    * **RAM**: 32 GB
    * **Disk**: 200 GB SSD
    * **Network**: 1-10 Gbps
    * **Node Sayısı**: 3-5
  </Accordion>
  
  <Accordion title="Tier 3 - Büyük">
    **Gereksinimler (her node):**
    * **CPU**: 16 core
    * **RAM**: 64 GB
    * **Disk**: 500 GB SSD
    * **Network**: 10 Gbps
    * **Node Sayısı**: 5+
  </Accordion>
</AccordionGroup>

### 6. Load Balancer

Trafik dağıtımı için Load Balancer.

**Gereksinimler:**
* **CPU**: 4-8 core
* **RAM**: 8-16 GB
* **Disk**: 50 GB SSD
* **Network**: 10+ Gbps (yüksek trafik için)
* **Node Sayısı**: 2 (HA için)

**Seçenekler:**
* HAProxy
* Nginx
* Cloud Load Balancer (AWS ALB, Azure LB, GCP LB)

## Toplam Kaynak Hesaplama Örneği

### Senaryo: Orta Ölçekli Production (Tier 2)

**Worker Nodes:**
* 3 node × (8 CPU + 16 GB RAM + 100 GB Disk) = 24 CPU + 48 GB RAM + 300 GB Disk

**Manager Nodes:**
* 2 node × (4 CPU + 16 GB RAM + 100 GB Disk) = 8 CPU + 32 GB RAM + 200 GB Disk

**MongoDB Replica Set:**
* 3 node × (8 CPU + 32 GB RAM + 500 GB Disk) = 24 CPU + 96 GB RAM + 1.5 TB Disk

**Elasticsearch Cluster:**
* 3 node × (8 CPU + 32 GB RAM + 2 TB Disk) = 24 CPU + 96 GB RAM + 6 TB Disk

**Cache Cluster:**
* 3 node × (8 CPU + 32 GB RAM + 200 GB Disk) = 24 CPU + 96 GB RAM + 600 GB Disk

**Load Balancer:**
* 2 node × (4 CPU + 8 GB RAM + 50 GB Disk) = 8 CPU + 16 GB RAM + 100 GB Disk

**TOPLAM:**
* **CPU**: 112 core
* **RAM**: 384 GB
* **Disk**: ~8.7 TB

## Kurulum Öncesi Verilmesi Gereken Kararlar

Apinizer'ı verimli bir şekilde kullanabilmek için nasıl kullanılacağına karar verilip, bu ayarlarla Apinizer'ın kurulması ve ayarlanması önerilmektedir. Bu yüzden bazı soruların cevaplarının hazır olması bu kurulum ve ayarlama işlemlerini büyük ölçüde hızlandıracaktır. Apinizer ekibi tarafından bu sorular belli başlı alternatifler ile birlikte aşağıda paylaşılmıştır. Apinizer Ekibinin tecrübesiyle bu alternatifler öneri sırasına göre yazılmıştır. "Tercihiniz" alanına öneri maddesini ve yorumlarınızı ya da direk kendi tercihinizi yazarak ekibimize iletmeniz beklenmektedir.

### Kubernetes ve MongoDB Kurulumu

**Soru:** Apinizer'ın ihtiyaç duyduğu Kubernetes Cluster ve MongoDB gibi uygulamalar kurulacak mı hazırda var ve onlar kullanılacak mı? Kurulacaksa kurumunuz çalışanları mı kuracak Apinizer ekibine sunucu mu tahsis edilecek? Apinizer ekibi tarafından kurulacaksa sunucularda internet erişimi kısıtlı ya da tam şekilde olacak mı?

**Önerilerimiz:**
- Kurumunuzda hazırda bu bileşenler varsa bunların kullanılması
- Kurulum yapılacaksa ekibiniz tarafından hazırlanması
- Kurulum yapılacaksa Apinizer ekibi tarafından yapılması
- Kurulum Apinizer ekibi tarafından yapılacaksa ilgili sunucular [Kurulum için Erişim ve Port Gereksinimleri](/apinizer-dokumantasyonu/kurulum-icin-erisim-ve-port-gereksinimleri-120522420.html) sayfasındaki erişimlere sahip olmalıdır

### Ağ Güvenliği

**Soru:** Apinizer'ın kurulacağı ağı kontrol eden ve güvenlik sıkılaştırması yapan waf ve firewall dışında bir ürün var mı?

**Önerilerimiz:**
- Apinizer'ın bulunduğu cluster'ın iç trafiğini de engelleyebildiği için bu tarz bir ürün varsa bunun bildirilmesi, olası sorunlarda çözüm arayışını hızlandıracağı için önemlidir. Bu bilgi kurumunuz Ağ ve Güvenlik Birimi çalışanlarından edinilebilir

### Ağ Blokları

**Soru:** Apinizer'ın kurulacağı ağda 10.244.x.x bloğunda bir kullanım mevcut mu?

**Önerilerimiz:**
- Kullanılıyorsa Apinizer kurulumu başka bir blok üzerine kurulması gerekeceğinden kurumunuz network ekibinden bu bilgi alınmalıdır

### Port Yapılandırması

**Soru:** Apinizer bulunduğu sunucularda hangi portlardan yayın yapmalıdır?

**Önerilerimiz:**
- 30000-32767 aralığından Manager için 32080, worker için 30080 veya 30090 olcak şekilde
- Kurumunuz Devops Ekibi yönetiminde ayarlanacak portlarda (yine aynı aralıktan ya da nginx ingress kullanarak)

### DNS Yapılandırması

**Soru:** Apinizer'ın erişeceği DNS'ler Apinizer'ın bulunacağı sunucularda otomatik olarak çözülecek mi? Eğer hayır ise bu IP-host tanımları elde mevcut olarak hazır mı?

**Önerilerimiz:**
- Bu adresler çok nadir de olsa değişebileceği için sunucuların otomatik çözeceği şekilde ayarlanması
- Hostname-IP ikililerinin liste olarak Apinizer'a eklenmek için hazırlanması

**Soru:** Apinizer arayüzü ve worker'lar DNS üzerinden mi kullanılacak? Evet ise DNS'ler nasıl olacak?

**Önerilerimiz:**
- `apiyonetim.kurum.com` ve `api.kurum.com` gibi adresler

### SSL Sonlandırma

**Soru:** SSL sonlandırma nerede yapılacak?

**Önerilerimiz:**
- Kurumunuza ait güvenlik duvarında
- Kurumunuzun DNS yönlendirmesi ve load balans işlemlerini gerçekleştirdiği uygulamada
- Apinizer worker uygulamalarında

### Dış Erişim

**Soru:** Apinizer kurumunuz dışında da kullanılacaksa hangi IP'den dışarı çıkacaktır? Apinizer sunucularının bu adresten çıkabilmesi için gerekli (NAT) işlemler gerçekleştirildi mi?

**Önerilerimiz:**
- Kurumunuzun mevcut çıkışının değiştirilmemesi, Apinizer'ın da bu adresten çıkması

### Worker Yapılandırması

**Soru:** Apinizer'ın worker uygulaması (Core ve RAM kullanımı, JVM parametreleri) nasıl ayarlanacak?

**Önerilerimiz:**
- Mevcut lisansınızı iki ya da üçe bölüp buna uygun JVM parametrelerini girip birden fazla konteynıra dağıtarak
- Kurumunuzun uyguladığı politikaya göre farklı ayarlarla

### Kubernetes Yönetimi

**Soru:** Apinizer'ın üzerine kurulacağı Kubernetes sistemleri nasıl yönetilecek?

**Önerilerimiz:**
- Apinizer arayüzünden
- Kurumunuza ait yöntemler ile

### Log Yönetimi

**Soru:** Trafik logları nereye yazılmalıdır?

**Önerilerimiz:**
- Apinizer'ın kuracağı Elasticsearch ile tahsis edilen sunuculardan birine
- Kurumunuzun ayarladığı başka bir uygulamaya

Bu kararların alınması ve Apinizer ekibine iletilmesi, kurulum sürecinin sorunsuz ve hızlı bir şekilde tamamlanması için kritik öneme sahiptir.

## Kapasite Planlama Checklist

- [ ] Trafik tahmini yapıldı (günlük/saatlik/peak)
- [ ] Deployment modeli seçildi
- [ ] Yüksek erişilebilirlik gereksinimleri belirlendi
- [ ] Büyüme projeksiyonu hazırlandı
- [ ] Worker node gereksinimleri hesaplandı
- [ ] Manager node gereksinimleri hesaplandı
- [ ] MongoDB kapasitesi planlandı
- [ ] Elasticsearch kapasitesi planlandı (retention ile)
- [ ] Cache cluster boyutu belirlendi
- [ ] Load balancer gereksinimleri belirlendi
- [ ] Network bandwidth hesaplandı
- [ ] Backup ve disaster recovery planlandı
- [ ] Kurulum öncesi kararlar alındı
- [ ] Bütçe onaylandı

## Sonraki Adımlar

<CardGroup cols={2}>
  <Card title="Donanım Gereksinimleri" icon="server" href="/tr/apinizer-anlama/sistem/donanim">
    Detaylı donanım gereksinimlerini inceleyin
  </Card>
  <Card title="Yazılım Gereksinimleri" icon="code" href="/tr/apinizer-anlama/sistem/yazilim">
    Yazılım gereksinimlerini öğrenin
  </Card>
  <Card title="Deployment Modelleri" icon="sitemap" href="/tr/apinizer-anlama/deployment/deployment-modelleri">
    Deployment modellerini inceleyin
  </Card>
  <Card title="Kurulum Kılavuzu" icon="download" href="/tr/kurulum-surum-yukseltme/kurulum/kurulum-oncesi-verilmesi-gereken-kararlar">
    Kurulum adımlarına geçin
  </Card>
</CardGroup>

<Note>
  **Önemli**: Bu liste başlangıç için bir rehberdir. Gerçek gereksinimler, trafik desenleri, API karmaşıklığı ve politika sayısına göre değişebilir. Production ortamları için mutlaka performans testleri yapılmalıdır.
</Note>
