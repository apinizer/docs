---
title: "KoÅŸullu Politika Ã‡alÄ±ÅŸtÄ±rma"
description: "PolitikalarÄ±n belirli koÅŸullara gÃ¶re Ã§alÄ±ÅŸtÄ±rÄ±lmasÄ±nÄ± saÄŸlayabilirsiniz. KoÅŸullarÄ± kod yazmadan, deÄŸiÅŸkenler (variables) kullanarak ve form tabanlÄ± yapÄ±landÄ±rma ile oluÅŸturabilirsiniz. Mesaj iÃ§eriÄŸine, header deÄŸerlerine, query parametrelerine veya diÄŸer faktÃ¶rlere gÃ¶re farklÄ± politikalar uygulayabilirsiniz."
---

<Info>
KoÅŸullar, [Politika Nedir?](/tr/apinizer-anlama/temel-kavramlar/politika-nedir) sayfasÄ±nda aÃ§Ä±klandÄ±ÄŸÄ± gibi, politika yapÄ±landÄ±rmasÄ±nÄ±n bir parÃ§asÄ±dÄ±r. Politika oluÅŸtururken veya dÃ¼zenlerken koÅŸullar bÃ¶lÃ¼mÃ¼nden koÅŸul tanÄ±mlarÄ± yapÄ±lÄ±r.
</Info>

## KoÅŸullu Politika Ã‡alÄ±ÅŸtÄ±rma KavramÄ±

KoÅŸullu politika Ã§alÄ±ÅŸtÄ±rma, politikalarÄ±n belirli koÅŸullara gÃ¶re Ã§alÄ±ÅŸtÄ±rÄ±lmasÄ±nÄ± saÄŸlar. Apinizer'da koÅŸullar kod yazmadan, **[Variable](/tr/apinizer-anlama/temel-kavramlar/variable) kullanarak ve form tabanlÄ± yapÄ±landÄ±rma** ile oluÅŸturulur.

AÅŸaÄŸÄ±daki diyagram, koÅŸullu politika Ã§alÄ±ÅŸtÄ±rmanÄ±n Gateway Ã¼zerinden nasÄ±l gerÃ§ekleÅŸtiÄŸini gÃ¶sterir:

```mermaid
sequenceDiagram
    participant Client as ğŸ‘¤ Ä°stemci
    participant Gateway as ğŸšª API Gateway
    participant Proxy as ğŸ”€ API Proxy
    participant Condition as ğŸ” KoÅŸul DeÄŸerlendirme
    participant Variables as ğŸ“Š Variables
    participant Policy1 as ğŸ›¡ï¸ Politika 1
    participant Policy2 as ğŸ›¡ï¸ Politika 2
    participant Backend as ğŸ–¥ï¸ Backend Servis
    
    Client->>Gateway: HTTP Ä°steÄŸi<br/>(Path, Headers, Query, Body)
    
    Note over Gateway: Ä°stek Gateway'e UlaÅŸtÄ±
    
    Gateway->>Proxy: Ä°steÄŸi API Proxy'ye YÃ¶nlendir
    
    Note over Proxy: API Proxy Ä°ÅŸleme BaÅŸladÄ±
    
    Proxy->>Condition: KoÅŸullu Politika<br/>DeÄŸerlendirmesi
    
    Note over Condition: KoÅŸul KontrolÃ¼
    
    Condition->>Variables: Variable DeÄŸerleri<br/>Ã‡Ä±karÄ±lÄ±r
    
    Note over Variables: Variable KaynaklarÄ±:<br/>Header, Query Param,<br/>Mesaj Ä°Ã§eriÄŸi (JSONPath/XPath),<br/>Context, System Variable
    
    Variables->>Condition: Variable DeÄŸerleri DÃ¶ndÃ¼
    
    Condition->>Condition: KoÅŸul DeÄŸerlendirmesi<br/>(OperatÃ¶r: EQ, NE, GT, LT,<br/>CONTAINS, IN, vb.)
    
    alt KoÅŸul 1 SaÄŸlandÄ±
        Condition->>Policy1: KoÅŸul 1 SaÄŸlandÄ±<br/>Politika 1 Ã‡alÄ±ÅŸtÄ±rÄ±lÄ±r
        
        Note over Policy1: Ã–rnek: Content-Type == "application/json"<br/>â†’ JSON Schema Validation
        
        Policy1->>Proxy: Politika 1 TamamlandÄ±
    else KoÅŸul 2 SaÄŸlandÄ±
        Condition->>Policy2: KoÅŸul 2 SaÄŸlandÄ±<br/>Politika 2 Ã‡alÄ±ÅŸtÄ±rÄ±lÄ±r
        
        Note over Policy2: Ã–rnek: Content-Type == "application/xml"<br/>â†’ XML Schema Validation
        
        Policy2->>Proxy: Politika 2 TamamlandÄ±
    else KoÅŸul SaÄŸlanmadÄ±
        Condition->>Proxy: KoÅŸul SaÄŸlanmadÄ±<br/>Alternatif Politika veya<br/>Devam Et
    end
    
    Proxy->>Backend: Ä°ÅŸlenmiÅŸ Ä°stek<br/>Backend'e Ä°letilir
    
    Backend->>Proxy: YanÄ±t DÃ¶ner
    
    Note over Proxy: Post-flow PolitikalarÄ±<br/>(KoÅŸullu olabilir)
    
    Proxy->>Gateway: Ä°ÅŸlenmiÅŸ YanÄ±t
    
    Gateway->>Client: HTTP YanÄ±tÄ±
    
    Note over Client,Gateway: Ä°ÅŸlem TamamlandÄ±
```

### Form TabanlÄ± KoÅŸul OluÅŸturma

KoÅŸullu politika oluÅŸtururken aÅŸaÄŸÄ±daki adÄ±mlar izlenir:

<Steps>
  <Step title="Ä°lk DeÄŸiÅŸken SeÃ§imi">
    KarÅŸÄ±laÅŸtÄ±rmanÄ±n sol tarafÄ±ndaki deÄŸiÅŸkeni seÃ§ersiniz. Bu deÄŸiÅŸken:
    - Header deÄŸiÅŸkeni olabilir
    - Query parametre deÄŸiÅŸkeni olabilir
    - Mesaj iÃ§eriÄŸi deÄŸiÅŸkeni olabilir (JSONPath/XPath ile)
    - Context deÄŸiÅŸkeni olabilir
    - Sistem deÄŸiÅŸkeni olabilir
    - Ã–zel bir deÄŸiÅŸken olabilir
  </Step>
  <Step title="Veri Tipi Belirleme">
    DeÄŸiÅŸkenin veri tipini seÃ§ersiniz:
    - **STRING**: Metin karÅŸÄ±laÅŸtÄ±rmalarÄ± iÃ§in
    - **NUMERIC**: SayÄ±sal karÅŸÄ±laÅŸtÄ±rmalar iÃ§in
    - **DATE**: Tarih karÅŸÄ±laÅŸtÄ±rmalarÄ± iÃ§in (tarih formatÄ± belirtilmelidir)
  </Step>
  <Step title="KarÅŸÄ±laÅŸtÄ±rma OperatÃ¶rÃ¼ SeÃ§imi">
    Dropdown menÃ¼den karÅŸÄ±laÅŸtÄ±rma operatÃ¶rÃ¼nÃ¼ seÃ§ersiniz:
    - EÅŸitlik, bÃ¼yÃ¼ktÃ¼r, kÃ¼Ã§Ã¼ktÃ¼r gibi karÅŸÄ±laÅŸtÄ±rma operatÃ¶rleri
    - Ä°Ã§erir, baÅŸlar, biter gibi metin operatÃ¶rleri
    - Var, yok, boÅŸ gibi varlÄ±k kontrolÃ¼ operatÃ¶rleri
  </Step>
  <Step title="Ä°kinci DeÄŸer KaynaÄŸÄ± Belirleme">
    Ä°kinci deÄŸerin kaynaÄŸÄ±nÄ± belirlersiniz:
    - **Sabit DeÄŸer**: DoÄŸrudan girilen sabit bir deÄŸer
    - **DeÄŸiÅŸken**: BaÅŸka bir deÄŸiÅŸken seÃ§imi (deÄŸiÅŸkenler arasÄ± karÅŸÄ±laÅŸtÄ±rma)
  </Step>
  <Step title="Nested KoÅŸullar (Opsiyonel)">
    KarmaÅŸÄ±k mantÄ±k iÃ§in alt koÅŸullar ekleyerek AND, OR, NOT operatÃ¶rleriyle koÅŸullarÄ± birleÅŸtirirsiniz.
  </Step>
</Steps>

Bu yaklaÅŸÄ±m sayesinde kod yazmadan, form alanlarÄ±nÄ± doldurarak ve [Variable](/tr/apinizer-anlama/temel-kavramlar/variable)'larÄ± seÃ§erek koÅŸullu politikalar oluÅŸturabilirsiniz.

## KoÅŸul TÃ¼rleri ve DeÄŸiÅŸken KullanÄ±mÄ±

KoÅŸullar, [Variable](/tr/apinizer-anlama/temel-kavramlar/variable) kullanÄ±larak oluÅŸturulur. DeÄŸiÅŸkenler mesaj iÃ§eriÄŸinden, header'lardan, query parametrelerinden veya context'ten deÄŸer alabilir.

### Mesaj Ä°Ã§eriÄŸi KoÅŸullarÄ±

Mesaj iÃ§eriÄŸine gÃ¶re koÅŸullar oluÅŸturmak iÃ§in JSONPath veya XPath kullanarak deÄŸiÅŸken tanÄ±mlanÄ±r:

<CardGroup cols={2}>
  <Card title="JSONPath DeÄŸiÅŸkeni" icon="code">
    JSON mesajlarÄ±nda deÄŸer Ã§Ä±karmak iÃ§in:
    - **DeÄŸiÅŸken Tipi**: Mesaj Ä°Ã§eriÄŸi (JSONPath)
    - **JSONPath Ä°fadesi**: `$.user.role` veya `$.products[*].price`
    - **Veri Tipi**: STRING veya NUMERIC
  </Card>
  <Card title="XPath DeÄŸiÅŸkeni" icon="file-code">
    XML mesajlarÄ±nda deÄŸer Ã§Ä±karmak iÃ§in:
    - **DeÄŸiÅŸken Tipi**: Mesaj Ä°Ã§eriÄŸi (XPath)
    - **XPath Ä°fadesi**: `/user/role` veya `//product/@price`
    - **Veri Tipi**: STRING veya NUMERIC
  </Card>
  <Card title="Header DeÄŸiÅŸkeni" icon="file-lines">
    HTTP header deÄŸerlerine gÃ¶re:
    - **DeÄŸiÅŸken Tipi**: Header
    - **Header AdÄ±**: `Content-Type` veya `X-API-Version`
    - **Veri Tipi**: STRING
  </Card>
  <Card title="Query Parametre DeÄŸiÅŸkeni" icon="link">
    Query parametrelerine gÃ¶re:
    - **DeÄŸiÅŸken Tipi**: Query Parameter
    - **Parametre AdÄ±**: `version` veya `format`
    - **Veri Tipi**: STRING
  </Card>
</CardGroup>

### Ä°stemci KoÅŸullarÄ±

Ä°stemci bilgilerine gÃ¶re koÅŸullar oluÅŸturmak iÃ§in ilgili deÄŸiÅŸkenler kullanÄ±lÄ±r:

<AccordionGroup>
  <Accordion title="IP Adresi">
    IP adresine gÃ¶re kontrol iÃ§in:
    - **DeÄŸiÅŸken Tipi**: Client IP
    - **Veri Tipi**: STRING
    - **OperatÃ¶r**: IN veya NOT_IN
    - **DeÄŸer**: `192.168.1.0/24#10.0.0.0/8` (liste deÄŸerleri # ile ayrÄ±lÄ±r)
    
    IP whitelist/blacklist kontrolÃ¼ iÃ§in kullanÄ±lÄ±r.
  </Accordion>
  
  <Accordion title="User Agent">
    User-Agent header'Ä±na gÃ¶re kontrol iÃ§in:
    - **DeÄŸiÅŸken Tipi**: Header
    - **Header AdÄ±**: `User-Agent`
    - **Veri Tipi**: STRING
    - **OperatÃ¶r**: CONTAINS veya STARTS_WITH
    
    Browser veya mobile device kontrolÃ¼ iÃ§in kullanÄ±lÄ±r.
  </Accordion>
  
  <Accordion title="API Key">
    API Key deÄŸerine gÃ¶re kontrol iÃ§in:
    - **DeÄŸiÅŸken Tipi**: Header
    - **Header AdÄ±**: `X-API-Key` veya `Authorization`
    - **Veri Tipi**: STRING
    - **OperatÃ¶r**: EQ veya IN
    
    API Key tipine veya deÄŸerine gÃ¶re farklÄ± politikalar uygulanabilir.
  </Accordion>
  
  <Accordion title="Context DeÄŸerleri">
    Context'teki kullanÄ±cÄ± bilgilerine gÃ¶re kontrol iÃ§in:
    - **DeÄŸiÅŸken Tipi**: Context Variable
    - **DeÄŸiÅŸken AdÄ±**: `context.user.role` veya `context.user.id`
    - **Veri Tipi**: STRING
    - **OperatÃ¶r**: EQ, IN, vb.
    
    KullanÄ±cÄ± rolÃ¼ veya kimlik bilgilerine gÃ¶re yetkilendirme iÃ§in kullanÄ±lÄ±r.
  </Accordion>
</AccordionGroup>

### Zaman KoÅŸullarÄ±

Zaman bazlÄ± koÅŸullar iÃ§in sistem deÄŸiÅŸkenleri kullanÄ±lÄ±r:

<CardGroup cols={2}>
  <Card title="Tarih AralÄ±ÄŸÄ±" icon="calendar">
    - **DeÄŸiÅŸken Tipi**: System Variable (tarih deÄŸiÅŸkeni)
    - **Veri Tipi**: DATE
    - **Tarih FormatÄ±**: `yyyy-MM-dd` (belirtilmelidir)
    - **OperatÃ¶r**: GE, LE, GT, LT
    
    Belirli tarih aralÄ±ÄŸÄ±nda eriÅŸim kontrolÃ¼ iÃ§in kullanÄ±lÄ±r.
  </Card>
  <Card title="Saat AralÄ±ÄŸÄ±" icon="clock">
    - **DeÄŸiÅŸken Tipi**: System Variable (saat deÄŸiÅŸkeni)
    - **Veri Tipi**: STRING veya DATE (saat formatÄ±na gÃ¶re)
    - **OperatÃ¶r**: GE, LE
    
    Ã‡alÄ±ÅŸma saatleri kontrolÃ¼ iÃ§in kullanÄ±lÄ±r.
  </Card>
  <Card title="GÃ¼n BazlÄ±" icon="calendar-days">
    - **DeÄŸiÅŸken Tipi**: System Variable (gÃ¼n deÄŸiÅŸkeni)
    - **Veri Tipi**: STRING
    - **OperatÃ¶r**: EQ veya IN
    
    HaftanÄ±n belirli gÃ¼nlerinde eriÅŸim kontrolÃ¼ iÃ§in kullanÄ±lÄ±r.
  </Card>
  <Card title="Zaman Dilimi" icon="globe">
    - **DeÄŸiÅŸken Tipi**: System Variable (timezone deÄŸiÅŸkeni)
    - **Veri Tipi**: STRING
    - **OperatÃ¶r**: EQ
    
    Zaman dilimi bazlÄ± kontrol iÃ§in kullanÄ±lÄ±r.
  </Card>
</CardGroup>

### Sistem ve Ortam KoÅŸullarÄ±

Sistem ve ortam deÄŸiÅŸkenlerine gÃ¶re koÅŸullar:

<AccordionGroup>
  <Accordion title="Environment Variable">
    [Ortam deÄŸiÅŸkenlerine](/tr/gelistirici/environment-variables) gÃ¶re kontrol iÃ§in:
    - **DeÄŸiÅŸken Tipi**: Environment Variable
    - **DeÄŸiÅŸken AdÄ±**: `ENVIRONMENT` veya `FEATURE_FLAG`
    - **Veri Tipi**: STRING
    - **OperatÃ¶r**: EQ, NE, vb.
    
    Ortam bazlÄ± (development, test, production) kontrol iÃ§in kullanÄ±lÄ±r.
  </Accordion>
  
  <Accordion title="System Property">
    Sistem Ã¶zelliklerine gÃ¶re kontrol iÃ§in:
    - **DeÄŸiÅŸken Tipi**: System Property
    - **Property AdÄ±**: `app.version` veya `system.property`
    - **Veri Tipi**: STRING
    - **OperatÃ¶r**: EQ, NE, vb.
    
    Sistem versiyonu veya Ã¶zellik kontrolÃ¼ iÃ§in kullanÄ±lÄ±r.
  </Accordion>
  
  <Accordion title="Cache DeÄŸeri">
    Cache'deki deÄŸerlere gÃ¶re kontrol iÃ§in:
    - **DeÄŸiÅŸken Tipi**: Cache Variable
    - **Cache Key**: `user.status` veya cache key'i
    - **Veri Tipi**: STRING
    - **OperatÃ¶r**: EQ, IS_EXISTS, vb.
    
    Cache'deki deÄŸerlere gÃ¶re dinamik kontrol iÃ§in kullanÄ±lÄ±r.
  </Accordion>
</AccordionGroup>

## KoÅŸul YapÄ±landÄ±rmasÄ±

KoÅŸullar, [Variable](/tr/apinizer-anlama/temel-kavramlar/variable) kullanÄ±larak ve form tabanlÄ± yapÄ±landÄ±rma ile oluÅŸturulur. Her koÅŸul aÅŸaÄŸÄ±daki bileÅŸenlerden oluÅŸur:

### KoÅŸul BileÅŸenleri

1. **Ä°lk DeÄŸiÅŸken (First Variable)**: KarÅŸÄ±laÅŸtÄ±rmanÄ±n sol tarafÄ±ndaki deÄŸiÅŸken
   - Header deÄŸiÅŸkeni
   - Query parametre deÄŸiÅŸkeni
   - Mesaj iÃ§eriÄŸi deÄŸiÅŸkeni (JSONPath/XPath)
   - Context deÄŸiÅŸkeni
   - Ã–zel deÄŸiÅŸken

2. **Veri Tipi (Variable Data Type)**: DeÄŸiÅŸkenin veri tipi
   - **STRING**: Metin karÅŸÄ±laÅŸtÄ±rmalarÄ± iÃ§in
   - **NUMERIC**: SayÄ±sal karÅŸÄ±laÅŸtÄ±rmalar iÃ§in
   - **DATE**: Tarih karÅŸÄ±laÅŸtÄ±rmalarÄ± iÃ§in (tarih formatÄ± belirtilmelidir)

3. **KarÅŸÄ±laÅŸtÄ±rma OperatÃ¶rÃ¼ (Comparison Operator)**: Ä°ki deÄŸer arasÄ±ndaki karÅŸÄ±laÅŸtÄ±rma tÃ¼rÃ¼

4. **Ä°kinci DeÄŸer KaynaÄŸÄ± (Second Value Source)**: 
   - **Sabit DeÄŸer**: DoÄŸrudan girilen sabit bir deÄŸer
   - **DeÄŸiÅŸken**: BaÅŸka bir deÄŸiÅŸken seÃ§imi

5. **MantÄ±ksal OperatÃ¶r (Condition Criteria)**: Birden fazla koÅŸulu birleÅŸtirmek iÃ§in
   - **AND**: TÃ¼m koÅŸullarÄ±n saÄŸlanmasÄ± gerekir
   - **OR**: KoÅŸullardan en az birinin saÄŸlanmasÄ± gerekir
   - **NOT**: KoÅŸulun saÄŸlanmamasÄ± gerekir

## KarÅŸÄ±laÅŸtÄ±rma OperatÃ¶rleri

KoÅŸullarda kullanÄ±labilecek karÅŸÄ±laÅŸtÄ±rma operatÃ¶rleri:

### Metin (STRING) OperatÃ¶rleri

| OperatÃ¶r | AÃ§Ä±klama | KullanÄ±m Senaryosu |
|----------|----------|-------------------|
| **EÅŸittir (EQ)** | Ä°ki deÄŸer tam olarak eÅŸit mi? | `Content-Type == "application/json"` |
| **EÅŸit DeÄŸildir (NE)** | Ä°ki deÄŸer eÅŸit deÄŸil mi? | `version != "v1"` |
| **KÃ¼Ã§Ã¼ktÃ¼r (LT)** | Alfabetik sÄ±ralamada kÃ¼Ã§Ã¼k mÃ¼? | `"apple" < "banana"` |
| **KÃ¼Ã§Ã¼k EÅŸittir (LE)** | KÃ¼Ã§Ã¼k veya eÅŸit mi? | `"apple" <= "banana"` |
| **BÃ¼yÃ¼ktÃ¼r (GT)** | Alfabetik sÄ±ralamada bÃ¼yÃ¼k mÃ¼? | `"zebra" > "apple"` |
| **BÃ¼yÃ¼k EÅŸittir (GE)** | BÃ¼yÃ¼k veya eÅŸit mi? | `"zebra" >= "apple"` |
| **Ä°Ã§erir (CONTAINS)** | Metin iÃ§inde geÃ§iyor mu? | `userAgent contains "Mobile"` |
| **Ä°Ã§ermez (NOT_CONTAINS)** | Metin iÃ§inde geÃ§miyor mu? | `path NOT_CONTAINS "/admin"` |
| **Ä°le BaÅŸlar (STARTS_WITH)** | Belirtilen metinle baÅŸlÄ±yor mu? | `path STARTS_WITH "/api/v2"` |
| **Ä°le Biter (ENDS_WITH)** | Belirtilen metinle bitiyor mu? | `filename ENDS_WITH ".json"` |
| **Ä°Ã§inde (IN)** | Belirtilen listede var mÄ±? | `role IN ["admin", "user"]` |
| **Ä°Ã§inde DeÄŸil (NOT_IN)** | Belirtilen listede yok mu? | `status NOT_IN ["deleted", "archived"]` |

### SayÄ±sal (NUMERIC) OperatÃ¶rleri

| OperatÃ¶r | AÃ§Ä±klama | KullanÄ±m Senaryosu |
|----------|----------|-------------------|
| **EÅŸittir (EQ)** | Ä°ki sayÄ± eÅŸit mi? | `price == 100` |
| **EÅŸit DeÄŸildir (NE)** | Ä°ki sayÄ± eÅŸit deÄŸil mi? | `count != 0` |
| **KÃ¼Ã§Ã¼ktÃ¼r (LT)** | Ä°lk sayÄ± ikincisinden kÃ¼Ã§Ã¼k mÃ¼? | `age < 18` |
| **KÃ¼Ã§Ã¼k EÅŸittir (LE)** | KÃ¼Ã§Ã¼k veya eÅŸit mi? | `quantity <= 10` |
| **BÃ¼yÃ¼ktÃ¼r (GT)** | Ä°lk sayÄ± ikincisinden bÃ¼yÃ¼k mÃ¼? | `score > 80` |
| **BÃ¼yÃ¼k EÅŸittir (GE)** | BÃ¼yÃ¼k veya eÅŸit mi? | `balance >= 1000` |
| **Ä°Ã§inde (IN)** | Belirtilen sayÄ± listesinde var mÄ±? | `statusCode IN [200, 201, 204]` |
| **Ä°Ã§inde DeÄŸil (NOT_IN)** | Belirtilen sayÄ± listesinde yok mu? | `errorCode NOT_IN [404, 500]` |

### Tarih (DATE) OperatÃ¶rleri

Tarih karÅŸÄ±laÅŸtÄ±rmalarÄ± iÃ§in tarih formatÄ± belirtilmelidir (Ã¶rn: `yyyy-MM-dd`, `dd/MM/yyyy`).

| OperatÃ¶r | AÃ§Ä±klama | KullanÄ±m Senaryosu |
|----------|----------|-------------------|
| **EÅŸittir (EQ)** | Ä°ki tarih aynÄ± mÄ±? | `expiryDate == "2024-12-31"` |
| **EÅŸit DeÄŸildir (NE)** | Ä°ki tarih farklÄ± mÄ±? | `startDate != "2024-01-01"` |
| **KÃ¼Ã§Ã¼ktÃ¼r (LT)** | Ä°lk tarih ikincisinden Ã¶nce mi? | `createdDate < "2024-06-01"` |
| **KÃ¼Ã§Ã¼k EÅŸittir (LE)** | Ã–nce veya aynÄ± mÄ±? | `deadline <= "2024-12-31"` |
| **BÃ¼yÃ¼ktÃ¼r (GT)** | Ä°lk tarih ikincisinden sonra mÄ±? | `expiryDate > "2024-01-01"` |
| **BÃ¼yÃ¼k EÅŸittir (GE)** | Sonra veya aynÄ± mÄ±? | `startDate >= "2024-01-01"` |

### VarlÄ±k KontrolÃ¼ OperatÃ¶rleri

Bu operatÃ¶rler ikinci deÄŸer gerektirmez, sadece deÄŸiÅŸkenin durumunu kontrol eder:

| OperatÃ¶r | AÃ§Ä±klama | KullanÄ±m Senaryosu |
|----------|----------|-------------------|
| **Var (IS_EXISTS)** | DeÄŸiÅŸken tanÄ±mlÄ± ve null deÄŸil mi? | `apiKey IS_EXISTS` |
| **Yok (IS_NOT_EXISTS)** | DeÄŸiÅŸken tanÄ±mlÄ± deÄŸil veya null mÄ±? | `optionalHeader IS_NOT_EXISTS` |
| **BoÅŸ (IS_EMPTY)** | DeÄŸiÅŸken boÅŸ string veya null mÄ±? | `queryParam IS_EMPTY` |
| **BoÅŸ DeÄŸil (IS_NOT_EMPTY)** | DeÄŸiÅŸken dolu mu? | `requestBody IS_NOT_EMPTY` |

<Info>
**Liste DeÄŸerleri:** `IN` ve `NOT_IN` operatÃ¶rleri iÃ§in liste deÄŸerleri `#` karakteri ile ayrÄ±lÄ±r. Ã–rnek: `admin#user#guest` veya `100#200#300`
</Info>

### Null DeÄŸer Ä°ÅŸleme

KoÅŸullarda null deÄŸerler Ã¶zel ÅŸekilde iÅŸlenir:

| Durum | OperatÃ¶r | SonuÃ§ |
|-------|----------|-------|
| Ä°lk deÄŸer null, ikinci deÄŸer null | EQ | `true` (null == null) |
| Ä°lk deÄŸer null, ikinci deÄŸer null | NE | `false` (null != null deÄŸil) |
| Ä°lk deÄŸer null, ikinci deÄŸer dolu | EQ | `false` |
| Ä°lk deÄŸer null, ikinci deÄŸer dolu | NE | `true` |
| Ä°lk deÄŸer dolu, ikinci deÄŸer null | EQ | `false` |
| Ä°lk deÄŸer dolu, ikinci deÄŸer null | NE | `true` |
| Ä°lk deÄŸer null | GT, LT, GE, LE, CONTAINS, IN, STARTS_WITH, ENDS_WITH | `false` |
| Ä°lk deÄŸer null | NOT_CONTAINS, NOT_IN | `true` |

<Tip>
Null deÄŸer kontrolÃ¼ iÃ§in **IS_EXISTS**, **IS_NOT_EXISTS**, **IS_EMPTY**, **IS_NOT_EMPTY** operatÃ¶rlerini kullanÄ±n. Bu operatÃ¶rler null deÄŸerleri doÄŸru ÅŸekilde iÅŸler.
</Tip>

## KoÅŸul OluÅŸturma Ã–rnekleri

AÅŸaÄŸÄ±daki Ã¶rneklerde, form tabanlÄ± yaklaÅŸÄ±mla koÅŸullarÄ±n nasÄ±l oluÅŸturulduÄŸu gÃ¶sterilmektedir:

### Ã–rnek 1: Content-Type BazlÄ± Validation

**Senaryo**: Content-Type header'Ä±na gÃ¶re farklÄ± validation politikalarÄ± uygulanacak.

**Form YapÄ±landÄ±rmasÄ±**:
- **Ä°lk DeÄŸiÅŸken**: Header deÄŸiÅŸkeni seÃ§ilir â†’ `Content-Type`
- **Veri Tipi**: STRING
- **OperatÃ¶r**: EÅŸittir (EQ)
- **Ä°kinci DeÄŸer KaynaÄŸÄ±**: Sabit deÄŸer
- **Ä°kinci DeÄŸer**: `application/json`

**SonuÃ§**: Content-Type header'Ä± `application/json` ise JSON Schema Validation Policy Ã§alÄ±ÅŸÄ±r.

**Alternatif KoÅŸullar** (nested koÅŸullar):
- **KoÅŸul 1**: Content-Type `application/xml` ise â†’ XML Schema Validation Policy
  - Ä°lk DeÄŸiÅŸken: Header â†’ `Content-Type`
  - OperatÃ¶r: EQ
  - Ä°kinci DeÄŸer: `application/xml`
- **KoÅŸul 2**: DiÄŸer durumlar â†’ Reject Request (400 Bad Request)
  - ELSE durumu

### Ã–rnek 2: API Version BazlÄ± Routing

**Senaryo**: Query parametresindeki version deÄŸerine gÃ¶re farklÄ± backend'lere yÃ¶nlendirme yapÄ±lacak.

**Form YapÄ±landÄ±rmasÄ±**:
- **Ä°lk DeÄŸiÅŸken**: Query Parameter deÄŸiÅŸkeni seÃ§ilir â†’ `version`
- **Veri Tipi**: STRING
- **OperatÃ¶r**: EÅŸittir (EQ)
- **Ä°kinci DeÄŸer KaynaÄŸÄ±**: Sabit deÄŸer
- **Ä°kinci DeÄŸer**: `v1`

**SonuÃ§**: Query parametresi `version=v1` ise Backend v1'e route edilir.

**Alternatif KoÅŸullar**:
- **KoÅŸul 1**: Version `v2` ise â†’ Backend v2'ye route
  - Ä°lk DeÄŸiÅŸken: Query Parameter â†’ `version`
  - OperatÃ¶r: EQ
  - Ä°kinci DeÄŸer: `v2`
- **KoÅŸul 2**: DiÄŸer durumlar â†’ Default Backend'e route
  - ELSE durumu

### Ã–rnek 3: User Role BazlÄ± Authorization

**Senaryo**: KullanÄ±cÄ± rolÃ¼ne gÃ¶re farklÄ± politika uygulanacak.

**Form YapÄ±landÄ±rmasÄ±**:
- **Ä°lk DeÄŸiÅŸken**: Context Variable seÃ§ilir â†’ `context.user.role`
- **Veri Tipi**: STRING
- **OperatÃ¶r**: EÅŸittir (EQ)
- **Ä°kinci DeÄŸer KaynaÄŸÄ±**: Sabit deÄŸer
- **Ä°kinci DeÄŸer**: `admin`

**SonuÃ§**: KullanÄ±cÄ± rolÃ¼ `admin` ise tÃ¼m iÅŸlemlere izin verilir.

**Alternatif KoÅŸullar**:
- **KoÅŸul 1**: Role `user` ise â†’ Rate Limiting Policy (100 req/min)
  - Ä°lk DeÄŸiÅŸken: Context Variable â†’ `context.user.role`
  - OperatÃ¶r: EQ
  - Ä°kinci DeÄŸer: `user`
- **KoÅŸul 2**: DiÄŸer durumlar â†’ Reject Request (403 Forbidden)
  - ELSE durumu

### Ã–rnek 4: IP BazlÄ± Rate Limiting

**Senaryo**: IP adresine gÃ¶re farklÄ± rate limit deÄŸerleri uygulanacak.

**Form YapÄ±landÄ±rmasÄ±**:
- **Ä°lk DeÄŸiÅŸken**: Client IP deÄŸiÅŸkeni seÃ§ilir
- **Veri Tipi**: STRING
- **OperatÃ¶r**: Ä°Ã§inde (IN)
- **Ä°kinci DeÄŸer KaynaÄŸÄ±**: Sabit deÄŸer
- **Ä°kinci DeÄŸer**: `192.168.1.0/24#10.0.0.0/8` (liste deÄŸerleri # ile ayrÄ±lÄ±r)

**SonuÃ§**: IP adresi belirtilen aralÄ±klardan birinde ise Rate Limiting Policy (1000 req/min) uygulanÄ±r.

**Alternatif KoÅŸul**:
- **KoÅŸul 2**: DiÄŸer durumlar â†’ Rate Limiting Policy (100 req/min)
  - ELSE durumu

### Ã–rnek 5: Time-based Access Control (Nested KoÅŸullar)

**Senaryo**: Ã‡alÄ±ÅŸma saatleri iÃ§inde eriÅŸim izni verilecek.

**Form YapÄ±landÄ±rmasÄ±** (Nested koÅŸullarla AND mantÄ±ÄŸÄ±):
- **MantÄ±ksal OperatÃ¶r**: AND seÃ§ilir
- **Ä°lk Alt KoÅŸul**:
  - Ä°lk DeÄŸiÅŸken: System Variable â†’ `current.time`
  - Veri Tipi: STRING veya DATE (saat formatÄ±na gÃ¶re)
  - OperatÃ¶r: BÃ¼yÃ¼k EÅŸittir (GE)
  - Ä°kinci DeÄŸer: `09:00`
- **Ä°kinci Alt KoÅŸul**:
  - Ä°lk DeÄŸiÅŸken: System Variable â†’ `current.time`
  - Veri Tipi: STRING veya DATE
  - OperatÃ¶r: KÃ¼Ã§Ã¼k EÅŸittir (LE)
  - Ä°kinci DeÄŸer: `17:00`

**SonuÃ§**: Saat 09:00-17:00 arasÄ± ise istek kabul edilir, aksi halde reddedilir (503 Service Unavailable).

## Nested KoÅŸullar (KoÅŸul KombinasyonlarÄ±)

KarmaÅŸÄ±k mantÄ±k iÃ§in nested koÅŸullar oluÅŸturabilirsiniz. Form tabanlÄ± yaklaÅŸÄ±mda alt koÅŸullar ekleyerek koÅŸullarÄ± birleÅŸtirirsiniz:

### AND OperatÃ¶rÃ¼

**Form YapÄ±landÄ±rmasÄ±**:
- **MantÄ±ksal OperatÃ¶r**: AND seÃ§ilir
- **Ä°lk Alt KoÅŸul**:
  - Ä°lk DeÄŸiÅŸken: Header â†’ `Content-Type`
  - Veri Tipi: STRING
  - OperatÃ¶r: EÅŸittir (EQ)
  - Ä°kinci DeÄŸer: `application/json`
- **Ä°kinci Alt KoÅŸul**:
  - Ä°lk DeÄŸiÅŸken: Header â†’ `X-API-Key`
  - Veri Tipi: STRING
  - OperatÃ¶r: EÅŸittir (EQ)
  - Ä°kinci DeÄŸer: `premium-key`

**SonuÃ§**: Her iki koÅŸul da saÄŸlanÄ±rsa Premium JSON Processing Policy Ã§alÄ±ÅŸÄ±r.

### OR OperatÃ¶rÃ¼

**Form YapÄ±landÄ±rmasÄ±**:
- **MantÄ±ksal OperatÃ¶r**: OR seÃ§ilir
- **Ä°lk Alt KoÅŸul**:
  - Ä°lk DeÄŸiÅŸken: Client IP
  - Veri Tipi: STRING
  - OperatÃ¶r: Ä°Ã§inde (IN)
  - Ä°kinci DeÄŸer: `192.168.1.0/24#10.0.0.0/8`
- **Ä°kinci Alt KoÅŸul**:
  - Ä°lk DeÄŸiÅŸken: Header â†’ `X-API-Key`
  - Veri Tipi: STRING
  - OperatÃ¶r: EÅŸittir (EQ)
  - Ä°kinci DeÄŸer: `internal-key`

**SonuÃ§**: KoÅŸullardan biri saÄŸlanÄ±rsa Internal Access Policy Ã§alÄ±ÅŸÄ±r.

### NOT OperatÃ¶rÃ¼

**Form YapÄ±landÄ±rmasÄ±**:
- **MantÄ±ksal OperatÃ¶r**: NOT seÃ§ilir
- **Alt KoÅŸul**:
  - Ä°lk DeÄŸiÅŸken: Client IP
  - Veri Tipi: STRING
  - OperatÃ¶r: Ä°Ã§inde (IN)
  - Ä°kinci DeÄŸer: `10.0.0.0/8`

**SonuÃ§**: IP belirtilen aralÄ±kta deÄŸilse External Access Rate Limiting uygulanÄ±r.

### DeÄŸiÅŸken KarÅŸÄ±laÅŸtÄ±rmasÄ±

KoÅŸullarda sadece sabit deÄŸerlerle deÄŸil, **deÄŸiÅŸkenler arasÄ± karÅŸÄ±laÅŸtÄ±rma** da yapabilirsiniz:

**Form YapÄ±landÄ±rmasÄ±**:
- **Ä°lk DeÄŸiÅŸken**: Header â†’ `Content-Type`
- **Veri Tipi**: STRING
- **OperatÃ¶r**: EÅŸittir (EQ)
- **Ä°kinci DeÄŸer KaynaÄŸÄ±**: DeÄŸiÅŸken seÃ§ilir
- **Ä°kinci DeÄŸiÅŸken**: Context Variable â†’ `context.preferred.contentType`

**SonuÃ§**: Ä°ki deÄŸiÅŸken birbirine eÅŸitse politika Ã§alÄ±ÅŸÄ±r. Bu yaklaÅŸÄ±m dinamik karÅŸÄ±laÅŸtÄ±rmalar iÃ§in kullanÄ±lÄ±r.

## KoÅŸullu Politika Best Practices

<CardGroup cols={2}>
  <Card title="DeÄŸiÅŸken SeÃ§imi" icon="list-check">
    - Mevcut [Variable](/tr/apinizer-anlama/temel-kavramlar/variable)'larÄ± kullanÄ±n, gereksiz yeni deÄŸiÅŸken oluÅŸturmayÄ±n
    - DeÄŸiÅŸken tiplerini doÄŸru seÃ§in (Header, Query Parameter, Mesaj Ä°Ã§eriÄŸi, Context Variable)
    - JSONPath/XPath ifadelerini doÄŸru yazÄ±n ve test edin
  </Card>
  <Card title="Veri Tipi SeÃ§imi" icon="code">
    - Metin karÅŸÄ±laÅŸtÄ±rmalarÄ± iÃ§in STRING kullanÄ±n
    - SayÄ±sal karÅŸÄ±laÅŸtÄ±rmalar iÃ§in NUMERIC kullanÄ±n
    - Tarih karÅŸÄ±laÅŸtÄ±rmalarÄ± iÃ§in DATE kullanÄ±n ve tarih formatÄ±nÄ± belirtin
  </Card>
  <Card title="KoÅŸul SÄ±ralamasÄ±" icon="list-ol">
    - En spesifik koÅŸullarÄ± Ã¶nce ekleyin
    - Genel koÅŸullarÄ± en sona bÄ±rakÄ±n
    - ELSE durumunu mutlaka tanÄ±mlayÄ±n
  </Card>
  <Card title="Nested KoÅŸullar" icon="sitemap">
    - KarmaÅŸÄ±k mantÄ±k iÃ§in nested koÅŸullarÄ± kullanÄ±n
    - AND/OR/NOT operatÃ¶rlerini doÄŸru seÃ§in
    - KoÅŸul derinliÄŸini makul tutun (okunabilirlik iÃ§in)
  </Card>
  <Card title="DeÄŸer KaynaÄŸÄ±" icon="arrows-left-right">
    - Sabit deÄŸerler iÃ§in sabit deÄŸer seÃ§eneÄŸini kullanÄ±n
    - Dinamik karÅŸÄ±laÅŸtÄ±rmalar iÃ§in deÄŸiÅŸken seÃ§eneÄŸini kullanÄ±n
    - DeÄŸiÅŸkenler arasÄ± karÅŸÄ±laÅŸtÄ±rma yaparken veri tiplerinin uyumlu olduÄŸundan emin olun
  </Card>
  <Card title="Liste DeÄŸerleri" icon="list">
    - IN ve NOT_IN operatÃ¶rleri iÃ§in liste deÄŸerlerini `#` karakteri ile ayÄ±rÄ±n
    - Ã–rnek: `admin#user#guest` veya `100#200#300`
  </Card>
  <Card title="VarlÄ±k KontrolÃ¼" icon="circle-check">
    - DeÄŸiÅŸkenin varlÄ±ÄŸÄ±nÄ± kontrol etmek iÃ§in IS_EXISTS veya IS_NOT_EXISTS kullanÄ±n
    - BoÅŸ deÄŸer kontrolÃ¼ iÃ§in IS_EMPTY veya IS_NOT_EMPTY kullanÄ±n
    - Bu operatÃ¶rler ikinci deÄŸer gerektirmez
  </Card>
  <Card title="Performans" icon="gauge">
    - Basit koÅŸullarÄ± Ã¶nce kontrol edin
    - AÄŸÄ±r iÅŸlemleri (JSONPath/XPath) sona bÄ±rakÄ±n
    - Cache kullanÄ±mÄ±nÄ± deÄŸerlendirin
  </Card>
  <Card title="Test ve DoÄŸrulama" icon="flask">
    - TÃ¼m koÅŸul dallarÄ±nÄ± test edin
    - Edge case'leri test edin (boÅŸ deÄŸerler, null, vb.)
    - DeÄŸiÅŸken deÄŸerlerinin runtime'da mevcut olduÄŸundan emin olun
    - Null deÄŸerlerin nasÄ±l iÅŸlendiÄŸini anlayÄ±n
  </Card>
</CardGroup>

## Sonraki AdÄ±mlar

<CardGroup cols={2}>
  <Card title="DeÄŸiÅŸkenler (Variables)" icon="code" href="/tr/apinizer-anlama/temel-kavramlar/variable">
    DeÄŸiÅŸken kavramÄ±nÄ± ve kullanÄ±mÄ±nÄ± Ã¶ÄŸrenin
  </Card>
  <Card title="Mesaj Ä°ÅŸleme ve Politika Uygulama" icon="diagram-project" href="/tr/apinizer-anlama/temel-kavramlar/mesaj-isleme-ve-politika-uygulama">
    Mesaj akÄ±ÅŸÄ± ve politika uygulama sÃ¼recini Ã¶ÄŸrenin
  </Card>
  <Card title="Politika Nedir?" icon="shield" href="/tr/apinizer-anlama/temel-kavramlar/politika-nedir">
    Politika kavramÄ±nÄ± ve koÅŸullar bÃ¶lÃ¼mÃ¼nÃ¼ detaylÄ± Ã¶ÄŸrenin
  </Card>
  <Card title="Routing ve Upstream" icon="route" href="/tr/apinizer-anlama/temel-kavramlar/routing-ve-upstream">
    KoÅŸullu routing ve upstream seÃ§imi hakkÄ±nda bilgi edinin
  </Card>
</CardGroup>

