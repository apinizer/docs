---
title: "Client Route"
description: "Client Route, istemcilerden gelen isteklerin API Proxy'ye girdiÄŸi noktadÄ±r. API Proxy'nin dÄ±ÅŸ dÃ¼nyaya aÃ§Ä±lan kapÄ±sÄ±dÄ±r. Bir API Proxy'ye birden fazla relative path tanÄ±mlanabilir, host, header ve method bazlÄ± dinamik yÃ¶nlendirme desteÄŸi saÄŸlar. Bu Ã¶zellik sayesinde aynÄ± relative path'e sahip birden fazla API Proxy oluÅŸturulabilir ve bunlar arasÄ±nda host, header veya method bilgilerine gÃ¶re dinamik yÃ¶nlendirme yapÄ±labilir."
---

## Client Route Ã–zellikleri

Apinizer'Ä±n Client Route Ã¶zelliÄŸi, API Gateway'de gelen isteklerin daha esnek ve dinamik bir ÅŸekilde yÃ¶nlendirilmesini saÄŸlar:

<CardGroup cols={2}>
  <Card title="Ã‡oklu Path" icon="layer-group">
    Bir API Proxy'ye birden fazla relative path tanÄ±mlanabilir
  </Card>
  <Card title="Host BazlÄ± YÃ¶nlendirme" icon="globe">
    Host bilgisine gÃ¶re farklÄ± API Proxy'lere yÃ¶nlendirme yapÄ±labilir
  </Card>
  <Card title="Header BazlÄ± YÃ¶nlendirme" icon="file-lines">
    HTTP header deÄŸerlerine gÃ¶re yÃ¶nlendirme kurallarÄ± oluÅŸturulabilir
  </Card>
  <Card title="Method BazlÄ± YÃ¶nlendirme" icon="code">
    Method bazlÄ± yÃ¶nlendirme yapÄ±labilir
  </Card>
</CardGroup>

<Info>
Bu Ã¶zellik geliÅŸtirilmeden Ã¶nce, her API Proxy iÃ§in yalnÄ±zca tek bir benzersiz (unique) relative path tanÄ±mlanabiliyordu. Yeni Ã¶zellik ile aynÄ± relative path'e sahip birden fazla API Proxy oluÅŸturulabilir ve bunlar arasÄ±nda host, header veya method bilgilerine gÃ¶re dinamik yÃ¶nlendirme yapÄ±labilir.
</Info>

## Client Route NasÄ±l Ã‡alÄ±ÅŸÄ±r?

Client Route Ã¶zelliÄŸi, gelen istekleri belirli bir Ã¶ncelik sÄ±rasÄ±na gÃ¶re deÄŸerlendirerek doÄŸru API Proxy'ye yÃ¶nlendirir.

### Ä°ÅŸ AkÄ±ÅŸÄ±

AÅŸaÄŸÄ±daki diyagram, istek ve yanÄ±t akÄ±ÅŸÄ±nÄ±n Gateway Ã¼zerinden nasÄ±l gerÃ§ekleÅŸtiÄŸini gÃ¶sterir:

```mermaid
sequenceDiagram
    participant Client as ğŸ‘¤ Ä°stemci
    participant Gateway as ğŸšª API Gateway
    participant ClientRoute as ğŸ”€ Client Route
    participant Proxy as ğŸ“¦ API Proxy
    participant Backend as ğŸ–¥ï¸ Backend Servis
    
    Client->>Gateway: HTTP Ä°steÄŸi<br/>(Path, Host, Headers, Method)
    
    Note over Gateway: Ä°stek Gateway'e UlaÅŸtÄ±
    
    Gateway->>ClientRoute: Ä°steÄŸi Client Route'a YÃ¶nlendir
    
    Note over ClientRoute: Client Route DeÄŸerlendirme
    
    ClientRoute->>ClientRoute: 1ï¸âƒ£ Path KontrolÃ¼<br/>(En YÃ¼ksek Ã–ncelik)
    ClientRoute->>ClientRoute: 2ï¸âƒ£ Host KontrolÃ¼<br/>(OR MantÄ±ÄŸÄ±)
    ClientRoute->>ClientRoute: 3ï¸âƒ£ Header KontrolÃ¼<br/>(AND MantÄ±ÄŸÄ±)
    ClientRoute->>ClientRoute: 4ï¸âƒ£ Method KontrolÃ¼<br/>(En DÃ¼ÅŸÃ¼k Ã–ncelik)
    
    alt TÃ¼m KoÅŸullar SaÄŸlandÄ±
        ClientRoute->>Proxy: Uygun API Proxy'ye YÃ¶nlendir
        Note over Proxy: Politika Ä°ÅŸleme<br/>Mesaj DÃ¶nÃ¼ÅŸÃ¼mÃ¼
        Proxy->>Backend: Ä°stek Backend'e Ä°letilir
        Backend->>Proxy: YanÄ±t DÃ¶ner
        Proxy->>Gateway: Ä°ÅŸlenmiÅŸ YanÄ±t
        Gateway->>Client: HTTP YanÄ±tÄ±
    else KoÅŸullar SaÄŸlanmadÄ±
        ClientRoute->>Gateway: Proxy BulunamadÄ±
        Gateway->>Client: 404 Not Found
    end
    
    Note over Client,Gateway: Ä°ÅŸlem TamamlandÄ±
```

### YÃ¶nlendirme Ã–ncelik SÄ±rasÄ±

Gateway, gelen istekleri aÅŸaÄŸÄ±daki Ã¶ncelik sÄ±rasÄ±na gÃ¶re deÄŸerlendirir:

<CardGroup cols={4}>
  <Card title="1. Relative Path" icon="1">
    En yÃ¼ksek Ã¶ncelik
  </Card>
  <Card title="2. Hosts" icon="2">
    Host header kontrolÃ¼
  </Card>
  <Card title="3. Headers" icon="3">
    Header kontrolÃ¼
  </Card>
  <Card title="4. Methods" icon="4">
    En dÃ¼ÅŸÃ¼k Ã¶ncelik
  </Card>
</CardGroup>

### EÅŸleÅŸtirme MantÄ±ÄŸÄ±

<AccordionGroup>
  <Accordion title="Hosts (OR MantÄ±ÄŸÄ±)">
    Birden fazla host tanÄ±mlandÄ±ÄŸÄ±nda **OR** mantÄ±ÄŸÄ± ile Ã§alÄ±ÅŸÄ±r. Yani tanÄ±mlanan hostlardan **herhangi birinin** eÅŸleÅŸmesi yeterlidir.
    
    **Ã–rnek:**
    ```
    Hosts: hostname_x.com, hostname_y.com
    ```
    
    Ä°stekteki Host header deÄŸeri `hostname_x.com` veya `hostname_y.com` ise koÅŸul saÄŸlanÄ±r.
  </Accordion>
  
  <Accordion title="Headers (AND MantÄ±ÄŸÄ±)">
    Birden fazla header tanÄ±mlandÄ±ÄŸÄ±nda **AND** mantÄ±ÄŸÄ± ile Ã§alÄ±ÅŸÄ±r. Yani tanÄ±mlanan **tÃ¼m header'larÄ±n** eÅŸleÅŸmesi gerekir.
    
    **Ã–rnek:**
    ```
    Headers: testmode:true, test:true
    ```
    
    Ä°stekte hem `testmode: true` hem de `test: true` header'larÄ± mevcut olmalÄ±dÄ±r.
  </Accordion>
  
  <Accordion title="Path EÅŸleÅŸtirme">
    * Relative path eÅŸleÅŸtirmesi en yÃ¼ksek Ã¶nceliÄŸe sahiptir
    * Daha spesifik (uzun) path'ler, daha genel (kÄ±sa) path'lerden Ã¶nce deÄŸerlendirilir
    * Tam eÅŸleÅŸme bulunamazsa, en yakÄ±n parent path kullanÄ±lÄ±r
  </Accordion>
  
  <Accordion title="Method EÅŸleÅŸtirme">
    * Method kontrolÃ¼ en dÃ¼ÅŸÃ¼k Ã¶nceliÄŸe sahiptir
    * Belirtilmezse tÃ¼m HTTP methodlarÄ± kabul edilir
  </Accordion>
</AccordionGroup>

## Wildcard Hostname KullanÄ±mÄ±

Apinizer, host tanÄ±mlamalarÄ±nda esneklik saÄŸlamak iÃ§in **wildcard (joker karakter)** kullanÄ±mÄ±nÄ± destekler. Wildcard hostname'ler, belirli bir pattern'e uyan tÃ¼m Host header deÄŸerlerinin koÅŸulu saÄŸlamasÄ±na ve bÃ¶ylece ilgili Route ile eÅŸleÅŸmesine olanak tanÄ±r.

### Wildcard KurallarÄ±

<Warning>
**Wildcard KurallarÄ±:**
* Domain'in **en solundaki** veya **en saÄŸÄ±ndaki** label'Ä±nda yalnÄ±zca **bir adet** asterisk (*) iÃ§erebilir
* Asterisk, domain'in baÅŸÄ±nda veya sonunda kullanÄ±labilir
</Warning>

### Wildcard Ã–rnekleri

<CardGroup cols={2}>
  <Card title="Sol Taraf Wildcard" icon="arrow-left">
    ```
    *.example.com
    ```
    
    **EÅŸleÅŸen Host'lar:**
    * a.example.com
    * x.y.example.com
    * api.example.com
    * test.subdomain.example.com
  </Card>
  <Card title="SaÄŸ Taraf Wildcard" icon="arrow-right">
    ```
    example.*
    ```
    
    **EÅŸleÅŸen Host'lar:**
    * example.com
    * example.org
    * example.net
    * example.io
  </Card>
</CardGroup>

## Ã–rnek Senaryo

AÅŸaÄŸÄ±daki tabloda 5 farklÄ± API Proxy ve bunlara tanÄ±mlanmÄ±ÅŸ Client Route yapÄ±landÄ±rmalarÄ± gÃ¶sterilmektedir:

<Tip>
Bu senaryo, Client Route'un Ã¶ncelik sÄ±rasÄ± ve eÅŸleÅŸtirme mantÄ±ÄŸÄ±nÄ± anlamak iÃ§in kullanÄ±lacaktÄ±r.
</Tip>

| Proxy ID | Relative Path | Methods | Hosts (OR) | Headers (AND) |
|----------|---------------|---------|------------|---------------|
| 1 | `/jokes` | - | - | `testmode:true`, `test:true` |
| 2 | `/jokes` | - | `hostname_x.com`, `hostname_y.com` | - |
| 3 | `/jokes1/endpoint_x` | - | - | - |
| 4 | `/jokes1` | - | - | - |
| 5 | `/jokes` | - | - | - |

## YÃ¶nlendirme Ã–rnekleri

Bu yapÄ±landÄ±rmaya gÃ¶re gelen istekler ÅŸu ÅŸekilde yÃ¶nlendirilir:

<AccordionGroup>
  <Accordion title="Ã–rnek 1: Temel YÃ¶nlendirme">
    **Ä°stek:**
    ```
    GET https://<ACCESS_URL>/jokes
    ```
    
    **SonuÃ§:** Proxy 5'e yÃ¶nlendirilir (herhangi bir koÅŸul saÄŸlanmadÄ±ÄŸÄ± iÃ§in varsayÄ±lan proxy)
    
    <Tip>
    Path eÅŸleÅŸti ancak host ve header koÅŸullarÄ± saÄŸlanmadÄ±ÄŸÄ± iÃ§in en basit yapÄ±landÄ±rmaya sahip Proxy 5 seÃ§ilir.
    </Tip>
  </Accordion>
  
  <Accordion title="Ã–rnek 2: Host BazlÄ± YÃ¶nlendirme">
    **Ä°stek:**
    ```
    GET https://<ACCESS_URL>/jokes
    Host: hostname_x.com
    ```
    
    **SonuÃ§:** Proxy 2'ye yÃ¶nlendirilir (host koÅŸulu saÄŸlandÄ±)
    
    <Tip>
    Host Ã¶nceliÄŸi header'dan yÃ¼ksek olduÄŸu iÃ§in Proxy 2 seÃ§ilir.
    </Tip>
  </Accordion>
  
  <Accordion title="Ã–rnek 3: Eksik Header ile YÃ¶nlendirme">
    **Ä°stek:**
    ```
    GET https://<ACCESS_URL>/jokes
    testmode: true
    ```
    
    **SonuÃ§:** Proxy 5'e yÃ¶nlendirilir (Proxy 1 iÃ§in her iki header gerekli, sadece biri saÄŸlandÄ±)
    
    <Tip>
    Header'lar AND mantÄ±ÄŸÄ± ile Ã§alÄ±ÅŸtÄ±ÄŸÄ± iÃ§in tÃ¼m header'larÄ±n eÅŸleÅŸmesi gerekir. Eksik header durumunda bir sonraki uygun proxy seÃ§ilir.
    </Tip>
  </Accordion>
  
  <Accordion title="Ã–rnek 4: Tam Header EÅŸleÅŸmesi">
    **Ä°stek:**
    ```
    GET https://<ACCESS_URL>/jokes
    testmode: true
    test: true
    ```
    
    **SonuÃ§:** Proxy 1'e yÃ¶nlendirilir (tÃ¼m header koÅŸullarÄ± saÄŸlandÄ±)
    
    <Tip>
    TÃ¼m header koÅŸullarÄ± saÄŸlandÄ±ÄŸÄ± iÃ§in Proxy 1 seÃ§ilir.
    </Tip>
  </Accordion>
  
  <Accordion title="Ã–rnek 5: Path Ã–nceliÄŸi - Temel Path">
    **Ä°stek:**
    ```
    GET https://<ACCESS_URL>/jokes1
    ```
    
    **SonuÃ§:** Proxy 4'e yÃ¶nlendirilir (path tam eÅŸleÅŸme)
    
    <Tip>
    Path Ã¶nceliÄŸi en yÃ¼ksek olduÄŸu iÃ§in tam eÅŸleÅŸen path'e sahip Proxy 4 seÃ§ilir.
    </Tip>
  </Accordion>
  
  <Accordion title="Ã–rnek 6: Path Ã–nceliÄŸi - Uzun Path">
    **Ä°stek:**
    ```
    GET https://<ACCESS_URL>/jokes1/endpoint_x
    ```
    
    **SonuÃ§:** Proxy 3'e yÃ¶nlendirilir (daha spesifik path Ã¶ncelikli)
    
    <Tip>
    Daha spesifik (uzun) path'ler, daha genel (kÄ±sa) path'lerden Ã¶nce deÄŸerlendirilir.
    </Tip>
  </Accordion>
  
  <Accordion title="Ã–rnek 7: Path ile Alt Yol">
    **Ä°stek:**
    ```
    GET https://<ACCESS_URL>/jokes1/endpoint_x/endpoint_y
    ```
    
    **SonuÃ§:** Proxy 3'e yÃ¶nlendirilir (en yakÄ±n parent path eÅŸleÅŸmesi)
    
    <Tip>
    Tam eÅŸleÅŸme bulunamazsa, en yakÄ±n parent path kullanÄ±lÄ±r.
    </Tip>
  </Accordion>
  
  <Accordion title="Ã–rnek 8: Path EÅŸleÅŸmesi - FarklÄ± Alt Yol">
    **Ä°stek:**
    ```
    GET https://<ACCESS_URL>/jokes1/endpoint_y
    ```
    
    **SonuÃ§:** Proxy 4'e yÃ¶nlendirilir (parent path olarak /jokes1 eÅŸleÅŸti)
    
    <Tip>
    `/jokes1/endpoint_y` path'i iÃ§in tam eÅŸleÅŸme yok, bu yÃ¼zden parent path olan `/jokes1` eÅŸleÅŸmesi kullanÄ±lÄ±r.
    </Tip>
  </Accordion>
  
  <Accordion title="Ã–rnek 9: Host ve Header Kombinasyonu">
    **Ä°stek:**
    ```
    GET https://<ACCESS_URL>/jokes
    Host: hostname_x.com
    testmode: true
    test: true
    ```
    
    **SonuÃ§:** Proxy 2'ye yÃ¶nlendirilir (host, header'dan daha yÃ¼ksek Ã¶nceliÄŸe sahip)
    
    <Tip>
    Host Ã¶nceliÄŸi header'dan yÃ¼ksek olduÄŸu iÃ§in, host koÅŸulu saÄŸlandÄ±ÄŸÄ±nda header koÅŸullarÄ± gÃ¶z ardÄ± edilir ve Proxy 2 seÃ§ilir.
    </Tip>
  </Accordion>
  
  <Accordion title="Ã–rnek 10: FarklÄ± Path ile Host ve Header">
    **Ä°stek:**
    ```
    GET https://<ACCESS_URL>/jokes1
    Host: hostname_x.com
    testmode: true
    test: true
    ```
    
    **SonuÃ§:** Proxy 4'e yÃ¶nlendirilir (path Ã¶nceliÄŸi en yÃ¼ksek, host ve header'lar gÃ¶z ardÄ± edilir)
    
    <Tip>
    Path Ã¶nceliÄŸi en yÃ¼ksek olduÄŸu iÃ§in, path eÅŸleÅŸmesi saÄŸlandÄ±ÄŸÄ±nda host ve header koÅŸullarÄ± gÃ¶z ardÄ± edilir.
    </Tip>
  </Accordion>
</AccordionGroup>

## Ã–nemli Notlar

<AccordionGroup>
  <Accordion title="Path EÅŸleÅŸtirme">
    * Relative path eÅŸleÅŸtirmesi en yÃ¼ksek Ã¶nceliÄŸe sahiptir
    * Daha spesifik (uzun) path'ler, daha genel (kÄ±sa) path'lerden Ã¶nce deÄŸerlendirilir
    * Tam eÅŸleÅŸme bulunamazsa, en yakÄ±n parent path kullanÄ±lÄ±r
  </Accordion>
  
  <Accordion title="Host EÅŸleÅŸtirme">
    * Birden fazla host tanÄ±mlanabilir
    * Hostlar **OR** mantÄ±ÄŸÄ± ile Ã§alÄ±ÅŸÄ±r
    * Ä°stekteki host deÄŸeri, tanÄ±mlanan hostlardan herhangi biriyle eÅŸleÅŸirse koÅŸul saÄŸlanÄ±r
  </Accordion>
  
  <Accordion title="Header EÅŸleÅŸtirme">
    * Birden fazla header tanÄ±mlanabilir
    * Header'lar **AND** mantÄ±ÄŸÄ± ile Ã§alÄ±ÅŸÄ±r
    * Ä°stekte tanÄ±mlanan tÃ¼m header'lar mevcut olmalÄ±dÄ±r
    * Eksik veya hatalÄ± header durumunda bir sonraki uygun proxy'ye geÃ§ilir
  </Accordion>
  
  <Accordion title="Method EÅŸleÅŸtirme">
    * Method kontrolÃ¼ en dÃ¼ÅŸÃ¼k Ã¶nceliÄŸe sahiptir
    * Belirtilmezse tÃ¼m HTTP methodlarÄ± kabul edilir
  </Accordion>
</AccordionGroup>

## Routing Kombinasyon Tablosu

Bu tablo API Proxy aÃ§Ä±sÄ±ndan, API Proxy'nin nasÄ±l seÃ§ildiÄŸini gÃ¶stermektedir:

<Tip>
Bu tablo, Client Route'un farklÄ± koÅŸullarÄ± nasÄ±l deÄŸerlendirdiÄŸini anlamak iÃ§in referans olarak kullanÄ±labilir.
</Tip>

| Durum | AÃ§Ä±klama |
|-------|----------|
| **Yok** | API proxy tanÄ±mÄ±nda bulunmamaktadÄ±r. Client'Ä±n gÃ¶nderdiÄŸi kontrol edilmez. |
| **EÅŸleÅŸti** | API proxy tanÄ±mÄ±nda bulunmaktadÄ±r. Client'Ä±n gÃ¶nderdiÄŸi kontrol edilir, beklenen deÄŸeri gÃ¶nderdi. |
| **EÅŸleÅŸmedi** | API proxy tanÄ±mÄ±nda bulunmaktadÄ±r. Client'Ä±n gÃ¶nderdiÄŸi kontrol edilir, beklenen deÄŸeri gÃ¶ndermedi. |

<Info>
Client Route Ã¶zelliÄŸi, API Gateway'inizde karmaÅŸÄ±k yÃ¶nlendirme senaryolarÄ±nÄ± kolayca yÃ¶netmenizi saÄŸlar. Ã–ncelik sÄ±rasÄ± ve eÅŸleÅŸtirme mantÄ±ÄŸÄ±nÄ± doÄŸru anlayarak, esnek ve gÃ¼Ã§lÃ¼ API yÃ¶nlendirme yapÄ±landÄ±rmalarÄ± oluÅŸturabilirsiniz.
</Info>

## Sonraki AdÄ±mlar

<CardGroup cols={2}>
  <Card title="Client Route AyarlarÄ±" icon="gear" href="/tr/gelistirici/api-proxy-olusturma/client-route-ayarlari">
    Client Route ayarlarÄ±nÄ± yapÄ±landÄ±rma
  </Card>
  <Card title="Routing ve Upstream" icon="route" href="/tr/apinizer-anlama/temel-kavramlar/routing-ve-upstream">
    Routing ve Upstream kavramlarÄ±nÄ± Ã¶ÄŸrenin
  </Card>
  <Card title="HTTP YÃ¶nlendirme" icon="globe" href="/tr/gelistirici/yonlendirme/http-yonlendirme">
    HTTP Routing yapÄ±landÄ±rmasÄ±
  </Card>
  <Card title="Mesaj Ä°ÅŸleme ve Politika Uygulama" icon="diagram-project" href="/tr/apinizer-anlama/temel-kavramlar/mesaj-isleme-ve-politika-uygulama">
    Mesaj akÄ±ÅŸÄ± ve politika uygulama sÃ¼recini Ã¶ÄŸrenin
  </Card>
  <Card title="API Proxy Nedir?" icon="server" href="/tr/apinizer-anlama/temel-kavramlar/api-proxy-nedir">
    API Proxy kavramÄ±nÄ± Ã¶ÄŸrenin
  </Card>
</CardGroup>
