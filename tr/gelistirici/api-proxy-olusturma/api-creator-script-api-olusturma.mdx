---
title: "API Creator ile Scriptten API oluşturma"
description: "Script-2-API ile function-as-a-service yaklaşımıyla REST API oluşturabilirsiniz. Endpoint iş mantıklarını Javascript veya Groovy diliyle yazabilir, gelen mesaj öğelerini script ile işleyip sonucu istemciye gönderebilirsiniz"
---

<CardGroup cols={2}>
  <Card title="Çalışma Mantığı" icon="code">
    Gelen mesajın öğeleri (başlık, parametre, gövde) seçilen script dili ile işlenip sonucunu istemciye gönderilir.
  </Card>
  
  <Card title="Okuma ve Yazma Kuralları" icon="lock">
    Gelen istek mesajın orijinal hali üzerinde değişiklik yapılamaz, bu veriler üzerinde sadece okuma yapılabilir. İstemciye dönecek yanıt ise script içerisinde hazırlanır.
  </Card>
</CardGroup>

## Yeni Script-2-API Oluşturma

<Steps>
  <Step title="Menüden Script-2-API Sayfasına Gidin">
    Ana menüde **Geliştirme → API Oluşturucu → Script-2-API** öğesi seçilir.
  </Step>
  
  <Step title="Yeni API Oluşturun">
    Açılan arayüzde sağ üstteki **+Oluştur** tuşuna tıklanır.
  </Step>
  
  <Step title="API Bilgilerini Doldurun">
    Yeni oluşturulacak *API* için gerekli alanlar doldurularak sağ üstteki **→Kaydet ve Devam** tuşuna tıklanmasıyla *API* oluşturma işi başlamış olur.
  </Step>
  
  <Step title="Endpoint Ekleyin">
    API kaydedildikten sonra API'ye endpoint tanımlanmasına başlanır. Hiç endpoint yoksa ilk defa eklemek için API içerisinde ekle tuşuna basılır, eğer en az bir tane varsa endpoint'ler bölümünde çıkan ekle tuşuna basılır.
  </Step>
</Steps>

## Endpoint Oluşturma

*Endpoint* tanımlamak için aşağıdaki bilgiler girilir:

Endpoint oluşturma konfigürasyonu için kullanılan alanlar aşağıda kategorilere ayrılarak açıklanmıştır:

<AccordionGroup>
  <Accordion title="Temel Bilgiler">
    <CardGroup cols={2}>
      <Card title="HTTP Metot" icon="list">
        **Alan:** HTTP Metot (HTTP Method)
        
        REST API'ler için HTTP Metodu seçilir: GET, POST, PUT, HEAD, OPTIONS, DELETE, PATCH, TRACE, ALL
      </Card>
      
      <Card title="Ad/URL" icon="tag">
        **Alan:** Ad/URL (Name/URL)
        
        Endpoint erişim adresidir. API Proxy oluşturulduğunda endpointe bu adres üzerinden erişilir.
      </Card>
      
      <Card title="Açıklama" icon="file-lines">
        **Alan:** Açıklama (Description)
        
        API endpoint'inin tanım bilgisidir.
      </Card>
    </CardGroup>
  </Accordion>
  
  <Accordion title="Script Ayarları">
    <CardGroup cols={2}>
      <Card title="Script Tipi" icon="code">
        **Alan:** Script Tipi (Script Type)
        
        Yazılacak olan Script'in tipidir. Javascript veya Groovy olabilir.
      </Card>
      
      <Card title="Script" icon="code">
        **Alan:** Script (Script)
        
        Çalıştırılacak olan script bilgisidir.
      </Card>
      
      <Card title="Değişkenler" icon="slider">
        **Alan:** Değişkenler (Variables)
        
        İstek ve yanıt hattında erişimi gerçekleştirebilecek read-only ve write-only değişkenlerin listesidir. İlgili değişkene tıklandığında, değişken Script alanında imlecin bulunduğu noktaya eklenir.
      </Card>
      
      <Card title="Deneme Tuşu" icon="play">
        **Alan:** Deneme Tuşu (Try It)
        
        Çalıştırılacak olan scriptin denemesinin yapılabilmesi için yeni bir pencere açılmasını sağlar.
      </Card>
    </CardGroup>
  </Accordion>
</AccordionGroup>

## Değişkenler (Variables)

Yapılacak olan okuma ve oluşturma işlemleri için mesajın başlık, parametre ve gövde kısımlarına script üzerinde erişim için çeşitli anahtar kelimeler kullanılmıştır.

<AccordionGroup>
  <Accordion title="Client → Apinizer (İstek Verileri)">
    İstemciden Apinizer'a gelen verilere erişim için kullanılan değişkenler:

    <CardGroup cols={2}>
      <Card title="Başlık (Header)" icon="heading">
        **Değişken:** `requestHeaderMapFromClient`
        
        **Veri Tipi:** `Map<String, String>`
        
        **İşlem:** Okuma
        
        İstek başlıklarını okumak için kullanılır.
      </Card>
      
      <Card title="Parametre (URL Parameter)" icon="slider">
        **Değişken:** `requestUrlParamMapFromClient`
        
        **Veri Tipi:** `Map<String, String>`
        
        **İşlem:** Okuma
        
        URL parametrelerini okumak için kullanılır.
      </Card>
      
      <Card title="Gövde (Body)" icon="file-lines">
        **Değişken:** `requestBodyTextFromClient`
        
        **Veri Tipi:** `String`
        
        **İşlem:** Okuma
        
        İstek gövdesini okumak için kullanılır.
      </Card>
      
      <Card title="Mesaj Bilgisi (Context)" icon="info">
        **Değişken:** `contextValues`
        
        **Veri Tipi:** `String`
        
        **İşlem:** Okuma
        
        Mesaj bilgilerine erişim için kullanılır.
      </Card>
    </CardGroup>
  </Accordion>
  
  <Accordion title="Apinizer → Client (Yanıt Verileri)">
    Apinizer'dan istemciye gönderilecek verileri oluşturmak için kullanılan değişkenler:

    <CardGroup cols={2}>
      <Card title="Başlık (Header)" icon="heading">
        **Değişken:** `responseHeaderMapToClient`
        
        **Veri Tipi:** `Map<String, String>`
        
        **İşlem:** Yazma
        
        Yanıt başlıklarını oluşturmak için kullanılır.
      </Card>
      
      <Card title="Gövde (Body)" icon="file-lines">
        **Değişken:** `responseBodyTextToClient`
        
        **Veri Tipi:** `String`
        
        **İşlem:** Yazma
        
        Yanıt gövdesini oluşturmak için kullanılır.
      </Card>
      
      <Card title="Durum Kodu (Status Code)" icon="code">
        **Değişken:** `statusCodeToClient`
        
        **Veri Tipi:** `Integer`
        
        **İşlem:** Yazma
        
        HTTP durum kodunu ayarlamak için kullanılır.
      </Card>
      
      <Card title="Mesaj Bilgisi (Context)" icon="info">
        **Değişken:** `contextValues`
        
        **Veri Tipi:** `String`
        
        **İşlem:** Okuma
        
        Mesaj bilgilerine erişim için kullanılır.
      </Card>
    </CardGroup>
  </Accordion>
</AccordionGroup>
