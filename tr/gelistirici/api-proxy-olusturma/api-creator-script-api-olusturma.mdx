---
title: "API Creator ile Scriptten API oluşturma"
description: 'Script-2-API oluşturma, function-as-a-service yaklaşımı, Javascript ve Groovy script desteği'
---

Script-2-API ekranı, *function-as-a-service* yaklaşımıyla REST API oluşturmaya izin verir. Endpoint'lere ait iş mantıkları Javascript veya Groovy diliyle yazılır.

Script-2-API'nin çalışma mantığı şu şekildedir; gelen mesajın öğeleri (başlık, parametre, gövde) seçilen script dili ile işlenip sonucunu istemciye gönderilir.

Gelen istek mesajın orijinal hali üzerinde değişiklik yapılamaz, bu veriler üzerinde sadece okuma yapılabilir. İstemciye dönecek yanıt ise script içerisinde hazırlanır.

## Yeni Script-2-API Oluşturma

Ana menüde **Geliştirme → API Oluşturucu → Script-2-API** öğesi seçilir.

Açılan arayüzde sağ üstteki **+Oluştur** tuşuna tıklanır.

Yeni oluşturulacak *API* için aşağıdaki alanlar doldurularak sağ üstteki **→Kaydet ve Devam** tuşuna tıklanmasıyla *API* oluşturma işi başlamış olur.

API kaydedildikten sonra API'ye endpoint tanımlanmasına başlanır. Hiç endpoint yoksa ilk defa eklemek için API içerisinde ekle tuşuna basılır, eğer en az bir tane varsa endpoint'ler bölümünde çıkan ekle tuşuna basılır.

## Endpoint Oluşturma

*Endpoint* tanımlamak için aşağıdaki bilgiler girilir:

**Endpoint oluşturma konfigürasyonu için kullanılan alanlar aşağıdaki tabloda görülmektedir.**

| Alan | Açıklama |
|------|----------|
| HTTP Metot (HTTP Method) | REST API'ler için HTTP Metodu seçilir; GET, POST, PUT, HEAD, OPTIONS, DELETE, PATCH, TRACE, ALL |
| Ad/URL (Name/URL) | Endpoint erişim adresidir. API Proxy oluşturulduğunda endpointe bu adres üzerinden erişilir |
| Açıklama (Description) | API endpoint'inin tanım bilgisidir. |
| Script Tipi (Script Type) | Yazılacak olan Script'in tipidir. Javascript veya Groovy olabilir. |
| Değişkenler (Variables) | İstek ve yanıt hattında erişimi gerçekleştirebilecek read-only ve write-only değişkenlerin listesidir. İlgili değişkene tıklandığında, değişken Script alanında imlecin bulunduğu noktaya eklenir. |
| Script (Script) | Çalıştırılacak olan script bilgisidir. |
| Deneme Tuşu (Try It) | Çalıştırılacak olan scriptin denemesinin yapılabilmesi için yeni bir pencere açılmasını sağlar. |

## Değişkenler (Variables)

Yapılacak olan okuma ve oluşturma işlemleri için mesajın başlık, parametre ve gövde kısımlarına script üzerinde erişim için çeşitli anahtar kelimeler kullanılmıştır. Bu alanlar ve tipleri aşağıdaki tabloda özetlenmiştir:

| | Client → Apinizer | | | Apinizer → Client | | |
|---|---|---|---|---|---|---|
| | Veri Tipi | İşlem | | Veri Tipi | İşlem |
| **Başlık** | requestHeaderMapFromClient | Map&#60;String, String&#62; | Okuma | responseHeaderMapToClient | Map&#60;String, String&#62; | Yazma |
| **Parametre** | requestUrlParamMapFromClient | Map&#60;String, String&#62; | Okuma | - | Map&#60;String, String&#62; | - |
| **Gövde** | requestBodyTextFromClient | String | Okuma | responseBodyTextToClient | String | Yazma |
| **Durum Kodu** | - | - | - | statusCodeToClient | Integer | Yazma |
| **Mesaj Bilgisi** | contextValues | String | Okuma | contextValues | String | Okuma |
