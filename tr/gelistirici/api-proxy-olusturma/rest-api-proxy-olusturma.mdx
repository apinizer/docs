---
title: "REST API Proxy Oluşturma"
description: "RESTful API\"lerinizi Apinizer platformu üzerinden yönetmenizi ve güvenli bir şekilde expose etmenizi sağlar. OpenAPI/Swagger spesifikasyon dosyasından REST API Proxy oluşturabilir, URL veya dosya yükleyebilir ve routing yapılandırması yapabilirsiniz"
---

## REST API Proxy Nedir?

REST API Proxy, RESTful API'lerinizin önünde duran bir katmandır. İstemcilerden gelen istekleri alır, güvenlik, doğrulama, dönüştürme gibi politikaları uygular ve ardından backend REST API'nize yönlendirir.

<CardGroup cols={2}>
  <Card title="JSON Formatı" icon="code">
    REST API Proxy, JSON formatında mesaj işleme yapar. Request ve response mesajları JSON formatındadır.
  </Card>
  <Card title="HTTP Metodları" icon="network-wired">
    GET, POST, PUT, DELETE, PATCH gibi standart HTTP metodlarını destekler.
  </Card>
  <Card title="OpenAPI Desteği" icon="file-code">
    OpenAPI 2.0 (Swagger) ve OpenAPI 3.0 spesifikasyonlarını destekler.
  </Card>
  <Card title="Esnek Yapılandırma" icon="gear">
    Routing, politikalar ve ayarlar esnek bir şekilde yapılandırılabilir.
  </Card>
</CardGroup>

## REST API Proxy Oluşturma Yöntemleri

REST API Proxy oluşturmak için birkaç yöntem mevcuttur:

<AccordionGroup>
  <Accordion title="OpenAPI/Swagger Dosyasından Import">
    En yaygın yöntem, OpenAPI (Swagger) spesifikasyon dosyasından import etmektir. Bu yöntem, API'nizin tüm endpoint'lerini, parametrelerini ve şemalarını otomatik olarak içe aktarır.
  </Accordion>
  
  <Accordion title="Manuel Oluşturma">
    OpenAPI dosyası olmadan da manuel olarak REST API Proxy oluşturabilirsiniz. Bu durumda endpoint'leri ve şemaları manuel olarak tanımlamanız gerekir.
  </Accordion>
  
  <Accordion title="Mevcut API Proxy'den Kopyalama">
    Mevcut bir REST API Proxy'yi kopyalayarak yeni bir proxy oluşturabilirsiniz. Bu yöntem, benzer API'ler için zaman kazandırır.
  </Accordion>
</AccordionGroup>

## OpenAPI/Swagger Dosyasından Import

### Adım 1: API Proxy Oluşturma Sayfasına Gidin

1. Sol taraftaki ana menüde **Geliştirme → API Proxy'ler (Development → API Proxies)** ögesini seçin.
2. Açılan arayüzde sağ üstteki **+Create** butonuna tıklayın.
3. **REST API** seçeneğini seçin.

### Adım 2: OpenAPI Dosyasını Yükleyin

OpenAPI dosyasını yüklemek için üç yöntem mevcuttur:

#### Yöntem 1: URL'den Yükleme

1. **URL Gir (Enter URL)** bağlantısına tıklayın.
2. OpenAPI/Swagger dosyasının URL'sini girin (örneğin: `https://petstore.swagger.io/v2/swagger.json`).
3. **Parse** butonuna tıklayın.
4. Dosya parse edilir ve API bilgileri görüntülenir.

<Info>
  **URL Erişimi** URL'den yükleme yaparken, Apinizer'in bu URL'ye erişebilmesi gerekir. Eğer URL internal bir adres ise, Apinizer'in bu adrese erişim izni olduğundan emin olun.
</Info>

#### Yöntem 2: Dosya Yükleme

1. **Dosya Yükle (Upload File)** butonuna tıklayın.
2. Bilgisayarınızdan OpenAPI/Swagger dosyasını seçin (JSON veya YAML formatında).
3. Dosya otomatik olarak parse edilir ve API bilgileri görüntülenir.

#### Yöntem 3: Metin Olarak Yapıştırma

1. **Metin Olarak Yapıştır (Paste as Text)** seçeneğini seçin.
2. OpenAPI/Swagger içeriğini metin alanına yapıştırın.
3. **Parse** butonuna tıklayın.
4. İçerik parse edilir ve API bilgileri görüntülenir.

### Adım 3: API Bilgilerini Kontrol Edin

Parse işlemi tamamlandıktan sonra, aşağıdaki bilgiler görüntülenir:

* **API Adı**: API'nin adı (OpenAPI dosyasından alınır)
* **Versiyon**: API versiyonu
* **Base URL**: API'nin base URL'i
* **Endpoint'ler**: Tüm endpoint'ler ve HTTP metodları
* **Şemalar**: Request ve response şemaları

### Adım 4: Routing Yapılandırması

#### Client Route (Relative Path)

Client Route, API Proxy'nin dış dünyaya açılan endpoint'idir. İstemciler bu endpoint üzerinden API'ye erişir.

**Örnek:**
```
Relative Path: /petstoreProxy
```

Bu durumda API Proxy'ye şu şekilde erişilir:
```
https://{apinizer-gateway}/petstoreProxy/pets
```

#### Upstream Target (Backend Address)

Upstream Target, backend REST API'nizin adresidir. API Proxy, istekleri bu adrese yönlendirir.

**Yapılandırma Seçenekleri:**

<CardGroup cols={2}>
  <Card title="Tek Backend">
    Tüm istekler tek bir backend adresine yönlendirilir.
    
    **Örnek:**
    ```
    https://api.example.com/v1
    ```
  </Card>
  <Card title="Dinamik Backend">
    OpenAPI dosyasındaki `servers` veya `host` bilgisinden otomatik olarak alınır.
    
    **Örnek:**
    ```
    https://petstore.swagger.io/v2
    ```
  </Card>
</CardGroup>

### Adım 5: API Proxy'yi Kaydedin

1. Tüm bilgileri kontrol edin.
2. **Relative Path** alanını doldurun (zorunlu).
3. **Upstream Target** bilgisini kontrol edin veya düzenleyin.
4. Sağ üstteki **Kaydet (Save)** butonuna tıklayın.

**API Proxy başarıyla oluşturuldu!**

## Desteklenen OpenAPI Versiyonları

Apinizer, aşağıdaki OpenAPI versiyonlarını destekler:

* **OpenAPI 2.0 (Swagger 2.0)**: Tam destek
* **OpenAPI 3.0**: Tam destek
* **OpenAPI 3.1**: Tam destek

### OpenAPI 2.0 Özellikleri

* `swagger` alanı: `"2.0"` değeri
* `host`, `basePath`, `schemes` alanları
* `paths` ve `definitions` yapısı
* `parameters` ve `responses` tanımları

### OpenAPI 3.0/3.1 Özellikleri

* `openapi` alanı: `"3.0.0"` veya `"3.1.0"` değeri
* `servers` array'i
* `paths` ve `components` yapısı
* `requestBody` ve `responses` tanımları
* `securitySchemes` ve `security` tanımları

## Import Sonrası Yapılandırma

API Proxy oluşturulduktan sonra, aşağıdaki yapılandırmaları yapabilirsiniz:

### 1. HTTP Routing Yapılandırması

HTTP Routing, endpoint'lerin nasıl yönlendirileceğini belirler. Daha fazla bilgi için [HTTP Routing](/tr/gelistirici/http-routing) sayfasına bakabilirsiniz.

### 2. Politikalar Ekleme

API Proxy'nize güvenlik, doğrulama, dönüştürme gibi politikalar ekleyebilirsiniz. Daha fazla bilgi için [Politika Yönetimi](/tr/gelistirici/politika-yonetimi) sayfasına bakabilirsiniz.

### 3. Test Etme

API Proxy'nizi test etmek için [Test Console](/tr/gelistirici/test-console) kullanabilirsiniz.

### 4. Deployment

API Proxy'nizi ortam(lar)a deploy etmek için [Deployment Versioning](/tr/gelistirici/deployment-versioning) sayfasına bakabilirsiniz.

## Yaygın Senaryolar

### Senaryo 1: Public API'yi Proxy Etme

Bir public API'yi (örneğin, Petstore API) proxy etmek:

1. Public API'nin OpenAPI dosyasının URL'sini kullanın.
2. Relative Path belirleyin (örneğin: `/petstoreProxy`).
3. Upstream Target olarak public API'nin base URL'ini kullanın.
4. Kaydedin ve deploy edin.

### Senaryo 2: Internal API'yi Expose Etme

Internal bir REST API'yi dış dünyaya expose etmek:

1. Internal API'nin OpenAPI dosyasını yükleyin.
2. Relative Path belirleyin.
3. Upstream Target olarak internal API'nin adresini kullanın.
4. Güvenlik politikaları ekleyin (Authentication, Authorization, Rate Limiting).
5. Kaydedin ve deploy edin.

### Senaryo 3: API Versiyonlama

Farklı versiyonlar için ayrı API Proxy'ler oluşturmak:

1. Her versiyon için ayrı OpenAPI dosyası kullanın.
2. Farklı Relative Path'ler kullanın (örneğin: `/api/v1`, `/api/v2`).
3. Her versiyon için ayrı politikalar tanımlayın.
4. Versiyonlar arasında geçiş stratejisi belirleyin.

## En İyi Uygulamalar

<CardGroup cols={2}>
  <Card title="OpenAPI Dosyası Kalitesi" icon="file-code">
    OpenAPI dosyanızın geçerli ve güncel olduğundan emin olun. Geçersiz dosyalar import sırasında hata verebilir.
  </Card>
  <Card title="Relative Path Stratejisi" icon="route">
    Relative Path'ler için tutarlı bir isimlendirme kuralı kullanın. Örneğin: `/{servis-adı}/{versiyon}`
  </Card>
  <Card title="Backend Adresi" icon="server">
    Backend adreslerini environment variable olarak tanımlayın. Bu, farklı ortamlar için esneklik sağlar.
  </Card>
  <Card title="Güvenlik Politikaları" icon="shield">
    API Proxy oluşturduktan sonra mutlaka güvenlik politikaları ekleyin. Varsayılan olarak API'ler güvenli değildir.
  </Card>
</CardGroup>

## Sorun Giderme

### Import Hatası

**Sorun:** OpenAPI dosyası import edilemiyor.

**Çözüm:**
* OpenAPI dosyasının geçerli JSON veya YAML formatında olduğundan emin olun.
* OpenAPI versiyonunun desteklendiğinden emin olun.
* URL erişilebilirliğini kontrol edin.
* Dosya boyutunun limit içinde olduğundan emin olun.

### Endpoint'ler Görünmüyor

**Sorun:** Import sonrası endpoint'ler görünmüyor.

**Çözüm:**
* OpenAPI dosyasında `paths` alanının doğru tanımlandığından emin olun.
* Endpoint'lerin `paths` altında doğru şekilde tanımlandığını kontrol edin.

### Routing Hatası

**Sorun:** İstekler backend'e yönlendirilmiyor.

**Çözüm:**
* Upstream Target adresinin doğru olduğundan emin olun.
* Backend API'nin erişilebilir olduğunu kontrol edin.
* HTTP Routing yapılandırmasını kontrol edin.

## Sonraki Adımlar

<CardGroup cols={2}>
  <Card title="HTTP Routing" icon="route" href="/tr/gelistirici/http-routing">
    HTTP Routing yapılandırmasını öğrenin
  </Card>
  <Card title="Politika Yönetimi" icon="shield" href="/tr/gelistirici/politika-yonetimi">
    Politikalar eklemeyi öğrenin
  </Card>
  <Card title="Test Console" icon="flask" href="/tr/gelistirici/test-console">
    API Proxy'yi test etmeyi öğrenin
  </Card>
  <Card title="Deployment" icon="rocket" href="/tr/gelistirici/deployment-versioning">
    Deployment yapmayı öğrenin
  </Card>
</CardGroup>
