---
title: "REST API Proxy Oluşturma"
description: "RESTful API'lerinizi Apinizer platformu üzerinden yönetebilir ve güvenli bir şekilde expose edebilirsiniz. OpenAPI/Swagger spesifikasyon dosyasından REST API Proxy oluşturabilir, URL veya dosya yükleyebilir, routing yapılandırması yapabilir ve JSON formatında mesaj işleme gerçekleştirebilirsiniz"
---

<CardGroup cols={2}>
  <Card title="JSON Formatı" icon="code">
    REST API Proxy, JSON formatında mesaj işleme yapar. Request ve response mesajları JSON formatındadır.
  </Card>
  <Card title="HTTP Metodları" icon="network-wired">
    GET, POST, PUT, DELETE, PATCH gibi standart HTTP metodlarını destekler.
  </Card>
  <Card title="OpenAPI Desteği" icon="file-code">
    OpenAPI 2.0 (Swagger) ve OpenAPI 3.0 spesifikasyonlarını destekler.
  </Card>
  <Card title="Esnek Yapılandırma" icon="gear">
    Routing, politikalar ve ayarlar esnek bir şekilde yapılandırılabilir.
  </Card>
</CardGroup>

## REST API Proxy Oluşturma Yöntemleri

REST API Proxy oluşturmak için birkaç yöntem mevcuttur:

<AccordionGroup>
  <Accordion title="OpenAPI/Swagger Dosyasından Import">
    En yaygın yöntem, OpenAPI (Swagger) spesifikasyon dosyasından import etmektir. Bu yöntem, API'nizin tüm endpoint'lerini, parametrelerini ve şemalarını otomatik olarak içe aktarır.
  </Accordion>
  
  <Accordion title="Manuel Oluşturma">
    OpenAPI dosyası olmadan da manuel olarak REST API Proxy oluşturabilirsiniz. Bu durumda endpoint'leri ve şemaları manuel olarak tanımlamanız gerekir.
  </Accordion>
  
  <Accordion title="Mevcut API Proxy'den Kopyalama">
    Mevcut bir REST API Proxy'yi kopyalayarak yeni bir proxy oluşturabilirsiniz. Bu yöntem, benzer API'ler için zaman kazandırır.
  </Accordion>
</AccordionGroup>

## OpenAPI/Swagger Dosyasından Import

<Steps>
  <Step title="API Proxy Oluşturma Sayfasına Gidin">
    Sol taraftaki ana menüde **Geliştirme → API Proxy'ler (Development → API Proxies)** ögesi seçilir. Açılan arayüzde sağ üstteki **+Create** butonuna tıklanır ve **REST API** seçeneği seçilir.
  </Step>
  
  <Step title="OpenAPI Dosyasını Yükleyin">
    OpenAPI dosyasını yüklemek için üç yöntem mevcuttur:

    <AccordionGroup>
      <Accordion title="Yöntem 1: URL'den Yükleme">
        **URL Gir ** bağlantısına tıklanır. OpenAPI/Swagger dosyasının URL'si girilir (örneğin: `https://petstore.swagger.io/v2/swagger.json`) ve **Parse** butonuna tıklanır. Dosya parse edilir ve API bilgileri görüntülenir.
        
        <Info>
          **URL Erişimi** URL'den yükleme yaparken, Apinizer'in bu URL'ye erişebilmesi gerekir. Eğer URL internal bir adres ise, Apinizer'in bu adrese erişim izni olduğundan emin olun.
        </Info>
      </Accordion>
      
      <Accordion title="Yöntem 2: Dosya Yükleme">
        **Dosya Yükle (Upload File)** butonuna tıklanır. Bilgisayarınızdan OpenAPI/Swagger dosyası seçilir (JSON veya YAML formatında). Dosya otomatik olarak parse edilir ve API bilgileri görüntülenir.
      </Accordion>
      
      <Accordion title="Yöntem 3: Metin Olarak Yapıştırma">
        **Metin Olarak Yapıştır (Paste as Text)** seçeneği seçilir. OpenAPI/Swagger içeriği metin alanına yapıştırılır ve **Parse** butonuna tıklanır. İçerik parse edilir ve API bilgileri görüntülenir.
      </Accordion>
    </AccordionGroup>
  </Step>
  
  <Step title="API Bilgilerini Kontrol Edin">
    Parse işlemi tamamlandıktan sonra, aşağıdaki bilgiler görüntülenir:
    
    <CardGroup cols={2}>
      <Card title="API Adı" icon="tag">
        API'nin adı (OpenAPI dosyasından alınır)
      </Card>
      <Card title="Versiyon" icon="code-branch">
        API versiyonu
      </Card>
      <Card title="Base URL" icon="link">
        API'nin base URL'i
      </Card>
      <Card title="Endpoint'ler" icon="list">
        Tüm endpoint'ler ve HTTP metodları
      </Card>
      <Card title="Şemalar" icon="file-code">
        Request ve response şemaları
      </Card>
    </CardGroup>
  </Step>
  
  <Step title="Routing Yapılandırması">

    <AccordionGroup>
      <Accordion title="Client Route (Relative Path)">
        Client Route, API Proxy'nin dış dünyaya açılan endpoint'idir. İstemciler bu endpoint üzerinden API'ye erişir.
        
        **Örnek:**
        ```
        Relative Path: /petstoreProxy
        ```
        
        Bu durumda API Proxy'ye şu şekilde erişilir:
        ```
        https://{apinizer-gateway}/petstoreProxy/pets
        ```
      </Accordion>
      
      <Accordion title="Upstream Target (Backend Address)">
        Upstream Target, backend REST API'nizin adresidir. API Proxy, istekleri bu adrese yönlendirir.
        
        <CardGroup cols={2}>
          <Card title="Tek Backend" icon="server">
            Tüm istekler tek bir backend adresine yönlendirilir.
            
            **Örnek:**
            ```
            https://api.example.com/v1
            ```
          </Card>
          <Card title="Dinamik Backend" icon="arrows-rotate">
            OpenAPI dosyasındaki `servers` veya `host` bilgisinden otomatik olarak alınır.
            
            **Örnek:**
            ```
            https://petstore.swagger.io/v2
            ```
          </Card>
        </CardGroup>
      </Accordion>
    </AccordionGroup>
  </Step>
  
  <Step title="API Proxy'yi Kaydedin">
    Tüm bilgiler kontrol edilir. **Relative Path** alanı doldurulur (zorunlu). **Upstream Target** bilgisi kontrol edilir veya düzenlenir. Sağ üstteki **Kaydet** butonuna tıklanır.
  </Step>
</Steps>

<Check>
  API Proxy başarıyla oluşturuldu!
</Check>

## Desteklenen OpenAPI Versiyonları

Apinizer, aşağıdaki OpenAPI versiyonlarını destekler:

* **OpenAPI 2.0 (Swagger 2.0)**: Tam destek
* **OpenAPI 3.0**: Tam destek
* **OpenAPI 3.1**: Tam destek

### OpenAPI 2.0 Özellikleri

* `swagger` alanı: `"2.0"` değeri
* `host`, `basePath`, `schemes` alanları
* `paths` ve `definitions` yapısı
* `parameters` ve `responses` tanımları

### OpenAPI 3.0/3.1 Özellikleri

* `openapi` alanı: `"3.0.0"` veya `"3.1.0"` değeri
* `servers` array'i
* `paths` ve `components` yapısı
* `requestBody` ve `responses` tanımları
* `securitySchemes` ve `security` tanımları

## Import Sonrası Yapılandırma

API Proxy oluşturulduktan sonra, aşağıdaki yapılandırmalar yapılabilir:

<CardGroup cols={2}>
  <Card title="HTTP Routing Yapılandırması" icon="route" href="/tr/gelistirici/http-routing">
    HTTP Routing, endpoint'lerin nasıl yönlendirileceğini belirler.
  </Card>
  
  <Card title="Politikalar Ekleme" icon="shield" href="/tr/gelistirici/api-proxy-konfigurasyonu/politika-yonetimi">
    API Proxy'ye güvenlik, doğrulama, dönüştürme gibi politikalar eklenebilir.
  </Card>
  
  <Card title="Test Etme" icon="flask" href="/tr/gelistirici/test-console">
    API Proxy test edilebilir.
  </Card>
  
  <Card title="Yükleme ve Sürüm" icon="rocket" href="/tr/gelistirici/yukleme-ve-surum-yonetimi">
    API Proxy ortam(lar)a deploy edilebilir.
  </Card>
</CardGroup>

## Yaygın Senaryolar

<AccordionGroup>
  <Accordion title="Senaryo 1: Public API'yi Proxy Etme">
    Bir public API'yi (örneğin, Petstore API) proxy etmek için:
    
    <Steps>
      <Step title="OpenAPI URL'sini Kullanın">
        Public API'nin OpenAPI dosyasının URL'si kullanılır.
      </Step>
      <Step title="Relative Path Belirleyin">
        Relative Path belirlenir (örneğin: `/petstoreProxy`).
      </Step>
      <Step title="Upstream Target Ayarlayın">
        Upstream Target olarak public API'nin base URL'i kullanılır.
      </Step>
      <Step title="Kaydedin ve Deploy Edin">
        API Proxy kaydedilir ve deploy edilir.
      </Step>
    </Steps>
  </Accordion>
  
  <Accordion title="Senaryo 2: Internal API'yi Expose Etme">
    Internal bir REST API'yi dış dünyaya expose etmek için:
    
    <Steps>
      <Step title="OpenAPI Dosyasını Yükleyin">
        Internal API'nin OpenAPI dosyası yüklenir.
      </Step>
      <Step title="Relative Path Belirleyin">
        Relative Path belirlenir.
      </Step>
      <Step title="Upstream Target Ayarlayın">
        Upstream Target olarak internal API'nin adresi kullanılır.
      </Step>
      <Step title="Güvenlik Politikaları Ekleyin">
        Authentication, Authorization, Rate Limiting gibi güvenlik politikaları eklenir.
      </Step>
      <Step title="Kaydedin ve Deploy Edin">
        API Proxy kaydedilir ve deploy edilir.
      </Step>
    </Steps>
  </Accordion>
  
  <Accordion title="Senaryo 3: API Versiyonlama">
    Farklı versiyonlar için ayrı API Proxy'ler oluşturmak için:
    
    <Steps>
      <Step title="Her Versiyon İçin Ayrı OpenAPI Dosyası">
        Her versiyon için ayrı OpenAPI dosyası kullanılır.
      </Step>
      <Step title="Farklı Relative Path'ler">
        Farklı Relative Path'ler kullanılır (örneğin: `/api/v1`, `/api/v2`).
      </Step>
      <Step title="Ayrı Politikalar">
        Her versiyon için ayrı politikalar tanımlanır.
      </Step>
      <Step title="Geçiş Stratejisi">
        Versiyonlar arasında geçiş stratejisi belirlenir.
      </Step>
    </Steps>
  </Accordion>
</AccordionGroup>

## En İyi Uygulamalar

<CardGroup cols={2}>
  <Card title="OpenAPI Dosyası Kalitesi" icon="file-code">
    OpenAPI dosyanızın geçerli ve güncel olduğundan emin olun. Geçersiz dosyalar import sırasında hata verebilir.
  </Card>
  <Card title="Relative Path Stratejisi" icon="route">
    Relative Path'ler için tutarlı bir isimlendirme kuralı kullanın. Örneğin: `/{servis-adı}/{versiyon}`
  </Card>
  <Card title="Backend Adresi" icon="server">
    Backend adreslerini environment variable olarak tanımlayın. Bu, farklı ortamlar için esneklik sağlar.
  </Card>
  <Card title="Güvenlik Politikaları" icon="shield">
    API Proxy oluşturduktan sonra mutlaka güvenlik politikaları ekleyin. Varsayılan olarak API'ler güvenli değildir.
  </Card>
</CardGroup>

## Sorun Giderme

<AccordionGroup>
  <Accordion title="Import Hatası">
    **Sorun:** OpenAPI dosyası import edilemiyor.
    
    **Çözüm:**
    * OpenAPI dosyasının geçerli JSON veya YAML formatında olduğundan emin olun.
    * OpenAPI versiyonunun desteklendiğinden emin olun.
    * URL erişilebilirliğini kontrol edin.
    * Dosya boyutunun limit içinde olduğundan emin olun.
  </Accordion>
  
  <Accordion title="Endpoint'ler Görünmüyor">
    **Sorun:** Import sonrası endpoint'ler görünmüyor.
    
    **Çözüm:**
    * OpenAPI dosyasında `paths` alanının doğru tanımlandığından emin olun.
    * Endpoint'lerin `paths` altında doğru şekilde tanımlandığını kontrol edin.
  </Accordion>
  
  <Accordion title="Routing Hatası">
    **Sorun:** İstekler backend'e yönlendirilmiyor.
    
    **Çözüm:**
    * Upstream Target adresinin doğru olduğundan emin olun.
    * Backend API'nin erişilebilir olduğunu kontrol edin.
    * HTTP Routing yapılandırmasını kontrol edin.
  </Accordion>
</AccordionGroup>

## Sonraki Adımlar

<CardGroup cols={2}>
  <Card title="HTTP Routing" icon="route" href="/tr/gelistirici/http-routing">
    HTTP Routing yapılandırmasını öğrenin
  </Card>
  <Card title="Politika Yönetimi" icon="shield" href="/tr/gelistirici/api-proxy-konfigurasyonu/politika-yonetimi">
    Politikalar eklemeyi öğrenin
  </Card>
  <Card title="Test Console" icon="flask" href="/tr/gelistirici/test-console">
    API Proxy'yi test etmeyi öğrenin
  </Card>
  <Card title="Yükleme ve Sürüm" icon="rocket" href="/tr/gelistirici/yukleme-ve-surum-yonetimi">
    Deployment yapmayı öğrenin
  </Card>
</CardGroup>
