---
title: 'OAuth2 Authentication'
description: 'OAuth2 Token ile gönderilen mesajların konfigürasyonu ve doğrulaması'
---

# OAuth2 Kimlik Doğrulama (OAuth2 Authentication)

OAuth2 Kimlik Doğrulama politikası, Apinizer token servisinde üretilen OAuth2 Token ile gönderilen mesajların konfigürasyonu ve doğrulaması için kullanılır.

Bu ekrandan yapılan ayarlar ile Apinizer'ın bu politikanın eklendiği API Proxy için nasıl token üreteceğinin detayları verilmiş olur.

Bu ekranda yapılan konfigürasyonların çoğu aslında OAuth2 Token'ın nasıl üretileceği ile ilgilidir. Token üretimi hakkında daha fazla bilgi almak için [Token Servisi](https://docs.apinizer.com/apinizer-dokumantasyonu/token-servisi-token-service-16810158.html) sayfasını ziyaret edebilirsiniz.

**Politika ayarlarını içeren görsele aşağıda yer verilmiştir:**

![OAuth2 Politika Ayarları](https://docs.apinizer.com/apinizer-dokumantasyonu/files/1179915/120521248/1/1733908186755/image-2024-12-11_12-9-46.png)

Politika konfigürasyonu için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alanlar | Açıklama |
| --- | --- |
| İsim *(Name)* | Politikanın kullanımını ve yönetimini kolaylaştırmak için isim yazılabilir. Politikaların yönetimi ve seçimi sırasında bu isme ihtiyacınız olacaktır. |
| Açıklama *(Description)* | Politikanın kullanımını ve yönetimini kolaylaştırmak için açıklama yazılabilir. |
| ACL'den Yönet/Bu Poliçe'den Yönet *(Manage From ACL/Manage From This Policy)* | Konfigürasyon ayarlarının **politika üzerinden** veya **ACL üzerinden** olmak üzere nereden yönetileceği seçilir.<br/><br/>"Bu Poliçe'den Yönet" seçeneği aktif edildiğinde aşağıdaki alanlar görünür.<br/><br/>"ACL'den Yönet" seçeneği seçilirse ayarlar [Kimlik Bilgileri](https://docs.apinizer.com/apinizer-dokumantasyonu/kimlik-bilgileri-credentials-16810271.html) sayfasındaki ACL paneli üzerinden yapılır. Detaylı bilgi için Kimlik Bilgileri sayfasına bakınız. |
| Onay Türü *(Grant Type)* | Kullanıcı bilgileri doğrulama yöntemleri. İstemci Kimlik Bilgileri değeri seçilmişse Kimlik/Yetki Doğrulama Servisi kullanılamaz.<br/><br/>- İstemci Kimlik Bilgileri<br/>- Parola |
| API Anahtarını Göster *(Show API Key)* | API Proxy ekranından girilmişse ya da global bir politika bir proxy'e uygulanmışsa görünür haldedir. API Proxy Grup için bu değer API Proxy Grup ekranında yer alır.<br/><br/>İstemcinin token değerini hangi API Proxy için alacağını belirtir. Token servisinin önemli bir verisidir. Buradan istenirse görüntülenebilir/değiştirilebilir. |
| Kimlik/Yetki Doğrulama Servisi *(Identity/Role/Group Service)* | Token servisinin kullanıcı bilgilerini doğrulamak için bir Kimlik Sağlayıcı Servisine ihtiyaç vardır. Buradaki ayar ile servise gelen kimlik bilgilerinin nasıl doğrulanacağı ayarlanır. (Kimlik sağlayıcı servislerin detayına bakmak için [Kimlik Sağlayıcı Servisi Tanımlama](https://docs.apinizer.com/apinizer-dokumantasyonu/kimlik-saglayicilar-identity-providers-16810269.html) sayfasını ziyaret edebilirsiniz.) |
| İstemci Adresini Kontrol Et *(Check Client Address)* | Bu seçenek aktif hale getirildiğinde, token servisine gelen isteğin kullanıcı adı ve parolasının yanında IP bilgisinin de varsa IP kısıtlaması tanımına uygunluğunun kontrol edilmesi sağlanır. Bu ayar her kullanıcı için "Security Manager" üzerinde ayrı ayrı yapılır, böylece kullanıcının hangi IP üzerinden gelebileceği de kısıtlanmış olur. |
| Önceki Token'ı Sil *(Delete Previous Token)* | Yeni token alımlarında ya da yapılan yenilemelerde, önceki tokenı geçersiz hale getirir. |
| Token Ölümsüz Olsun *(Token never expires)* | Token, bu seçenek seçildiğinde zamana bağlı olarak geçersiz hale gelmez. |
| Token Geçerlilik Süresi *(Token expires in)* | Token'ın kullanılabilir olacağı yaşam süresini belirtir. |
| Token Yenileme Olsun *(Refreshing token is allowed)* | Token'ın yenilenme özelliğini etkinleştirir. |
| Token Yenileme Sayısı *(Refresh count)* | Token'ın kaç kez yenilenebilir olacağını belirtir. |
| Yenilenmiş Token Geçerlilik Süresi *(Refresh Token expires in)* | Her bir yenilemede, token'ın ne kadarlık yaşam süresine sahip olacağını belirtir. |
| URL Parametrelerine İzin Ver *(Allow URL Parameters)* | Token servisine, token üretimi için istek gönderilirken mesajların ön tanımlı olarak sadece mesaj gövdesinde gönderilmesine izin verilir. Eğer bu bilgilerin Url parametresi halinde de gönderilmesine izin verilmek isteniyorsa bu seçenek ile bu özellik aktifleştirilebilir. Güvenlik açısından risk oluşturacağından kullanılmaması tavsiye edilir. |
| Yetkilendirme Bilgisini Temizle *(Clear Authentication Information)* | Mesaj içeriğindeki mevcut tüm Kimlik Doğrulama Bilgilerini silinmesini sağlar. Bu durumda istemci'den gelen istekte bir Yetkilendirme Bilgisi varsa bu bilgiler silinir ve Backend API'ye gönderilmez. |
| Kimliği Başlığa Ekle *(Add Client Info to Header)* | Kimlik doğrulama başarıyla gerçekleştiğinde, yetkilendirilmiş kullanıcı adını varsayılan olarak "X-Authenticated-UserId" mesaj başlığı anahtar değeri içerisinde Backend API'ye gönderir. "X-Authenticated-UserId" değeri isteğe bağlı olarak özelleştirilebilir. |
| Kimliğin Ekleneceği Başlık *(Authenticated User Header Name)* | "Kimliği Başlığa Ekle" seçeneği işaretlenirse, kullanıcı adı ya da anahtarının ekleneceği başlığın adıdır. |
| Yetki Konfigürasyonu *(Authorization)* | Daha detaylı bilgi için [Yetkilendirme](https://docs.apinizer.com/apinizer-dokumantasyonu/yetkilendirme-authorization-6685587.html) sayfasını ziyaret edebilirsiniz. |

- OAuth2 Kimlik Doğrulama politikası, sadece API Proxy veya API Proxy Grubu seviyesinde eklenebilir. Metod veya endpoint bazlı ekleme yapılamaz.
- Bir API Proxy veya API Proxy Grubu'na birden fazla OAuth2 Kimlik Doğrulama politikası eklenemez. Birden fazla eklendiği durumda yalnızca ilk eklenen politika için token üretilecektir. Bu nedenle tek bir politika tanımlanmalıdır.

## Token Alma

Token alma yöntemleri ve örnekleri için [Token Servisi](https://docs.apinizer.com/apinizer-dokumantasyonu/token-servisi-token-service-16810158.html) sayfasını ziyaret ediniz.

**Koşullar** ve **Hata Mesajı Özelleştirme** panellerinin açıklamasını görüntülemek için [Politikalar (Policies)](https://docs.apinizer.com/apinizer-dokumantasyonu/politikalar-policies-1179919.html) sayfasını ziyaret edebilirsiniz.
