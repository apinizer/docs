---
title: 'API Ã‡aÄŸrÄ±sÄ±'
description: 'API Gateway Ã¼zerinden harici REST API lere gÃ¼venli ve kontrollÃ¼ Ã§aÄŸrÄ± yaparak veri entegrasyonu saÄŸlar'
---

**ğŸ’¡ Politikalar hakkÄ±nda bilginiz var mÄ±?**\
Bu dokÃ¼man spesifik bir politikanÄ±n detaylÄ± kullanÄ±mÄ±nÄ± anlatÄ±r. EÄŸer Apinizer politika yapÄ±sÄ±nÄ± ilk kez kullanÄ±yorsanÄ±z veya politikalarÄ±n genel Ã§alÄ±ÅŸma prensiplerini Ã¶ÄŸrenmek istiyorsanÄ±z, Ã¶ncelikle [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±nÄ± okumanÄ±zÄ± Ã¶neririz.

API Call politikasÄ±, API Gateway Ã¼zerinden baÅŸka REST API'leri Ã§aÄŸÄ±rarak mikroservis mimarisinde servis-servis iletiÅŸimi kurar. Gelen istekleri backend sistemlere yÃ¶nlendirir, yanÄ±tlarÄ± iÅŸler ve API Proxy akÄ±ÅŸÄ±na entegre eder. Bu sayede harici servislerden veri Ã§ekmek, istekleri zenginleÅŸtirmek veya birden fazla kaynaktan gelen yanÄ±tlarÄ± birleÅŸtirmek mÃ¼mkÃ¼n olur.

## AmacÄ± Nedir?

- API Gateway Ã¼zerinden geÃ§en istekleri baÅŸka bir REST API'ye yÃ¶nlendirerek mikroservis mimarilerinde servis-servis iletiÅŸimini saÄŸlamak.
- Gelen istekleri zenginleÅŸtirmek, dÃ¶nÃ¼ÅŸtÃ¼rmek ve birden fazla backend servisinden veri toplayarak birleÅŸtirilmiÅŸ yanÄ±tlar oluÅŸturmak (API Orchestration).
- Harici sistemlerden (CRM, ERP, Ã¶deme gateway'leri vb.) veri Ã§ekmek veya veri gÃ¶ndermek iÃ§in gÃ¼venli ve yÃ¶netilebilir bir kÃ¶prÃ¼ oluÅŸturmak.
- Request ve Response mesajlarÄ± Ã¼zerinde header, parameter ve body manipÃ¼lasyonu yaparak veri dÃ¶nÃ¼ÅŸÃ¼mÃ¼ gerÃ§ekleÅŸtirmek.
- Cache mekanizmasÄ± ile sÄ±k kullanÄ±lan API Ã§aÄŸrÄ±larÄ±nÄ±n sonuÃ§larÄ±nÄ± Ã¶nbelleÄŸe alarak performansÄ± artÄ±rmak ve backend sistemlere olan yÃ¼kÃ¼ azaltmak.

## Ã‡alÄ±ÅŸma Prensibi

- **Ä°stek GeliÅŸi**: API Gateway'e gelen her HTTP/HTTPS isteÄŸi iÃ§in, REST API Call politikasÄ± aktif ise Ã§aÄŸrÄ± iÅŸlemi baÅŸlatÄ±lÄ±r.
- **Politika KontrolÃ¼**: Sistem aÅŸaÄŸÄ±daki sÄ±rayla kontrol yapar:
  - Condition (koÅŸul) tanÄ±mlÄ± mÄ±? Varsa koÅŸul saÄŸlanÄ±yor mu?
  - Politika aktif mi (active=true)?
  - Variable kullanÄ±lÄ±yor mu yoksa Apinizer default mÄ±?
- **Request HazÄ±rlama (Before Call)**: Ä°stek gÃ¶nderilmeden Ã¶nce:
  - Body temizlenir veya yeni iÃ§erik eklenir
  - Header ve parametreler manipÃ¼le edilir (ekleme/silme)
  - Data Manipulation kurallarÄ± uygulanÄ±r
  - Cache kontrolÃ¼ yapÄ±lÄ±r (varsa Ã¶nbellekten dÃ¶ner)
- **API Ã‡aÄŸrÄ±sÄ±**: TanÄ±mlanan URL'ye HTTP method ile istek gÃ¶nderilir:
  - **Synchronous (Senkron)**: YanÄ±t beklenir ve iÅŸleme devam edilir
  - **Asynchronous (Asenkron)**: YanÄ±t beklenmeden iÅŸlem tamamlanÄ±r
- **Response Ä°ÅŸleme (After Call - Sadece Synchronous)**: Gelen yanÄ±t iÅŸlenir:
  - Body Ã¼zerinde dÃ¶nÃ¼ÅŸÃ¼m yapÄ±lÄ±r (NOT_CHANGE, REPLACE, CLEAR)
  - Header ve parametreler manipÃ¼le edilir
  - Data Manipulation kurallarÄ± uygulanÄ±r
  - Cache'e kaydedilir (aktifse)
- **Hata Ä°ÅŸleme**: BaÄŸlantÄ± hatasÄ±, timeout veya beklenmeyen yanÄ±tlar iÃ§in Ã¶zelleÅŸtirilebilir HTTP durum kodu ve hata mesajÄ± dÃ¶ndÃ¼rÃ¼lÃ¼r.

## Ã–zellikler ve Yetenekler

### Temel Ã–zellikler

- **Ã‡aÄŸrÄ± Tipi SeÃ§imi**: Synchronous (yanÄ±t bekle) veya Asynchronous (fire-and-forget) mod desteÄŸi. Asenkron modda yanÄ±t iÅŸleme yapÄ±lmaz.
- **HTTP Method DesteÄŸi**: GET, POST, PUT, DELETE, PATCH, HEAD, OPTIONS, TRACE tÃ¼m HTTP methodlarÄ±nÄ± destekler.
- **Timeout YÃ¶netimi**: API Ã§aÄŸrÄ±larÄ±nda maksimum bekleme sÃ¼resini saniye cinsinden tanÄ±mlayarak sonsuz beklemeleri Ã¶nler ve sistem kaynaklarÄ±nÄ± korur.
- **Aktif/Pasif Durum KontrolÃ¼**: PolitikanÄ±n aktif veya pasif durumunu kolayca deÄŸiÅŸtirme (active/passive toggle). Pasif durumda politika uygulanmaz ancak yapÄ±landÄ±rmasÄ± saklanÄ±r.
- **KoÅŸul BazlÄ± Uygulama**: Query Builder ile karmaÅŸÄ±k koÅŸullar oluÅŸturarak politikanÄ±n ne zaman uygulanacaÄŸÄ±nÄ± belirleme (Ã¶rn: sadece belirli endpoint'lere veya header deÄŸerlerine gÃ¶re).

### Ä°leri DÃ¼zey Ã–zellikler

- **Request/Response ManipÃ¼lasyonu**: Before Call ve After Call aÅŸamalarÄ±nda body, header ve parametreler Ã¼zerinde kapsamlÄ± manipÃ¼lasyon. XML, JSON, RAW, URL-Encoded formatlarÄ±nÄ± destekler.
- **Data Manipulation**: Kaynak ve hedef deÄŸiÅŸkenler arasÄ±nda ADD (ekle), REPLACE (deÄŸiÅŸtir), DELETE (sil) operasyonlarÄ± ile veri dÃ¶nÃ¼ÅŸtÃ¼rme. Variable sistemini kullanarak dinamik veri iÅŸleme.
- **SSL/TLS Certificate DesteÄŸi**: Ã–zel sertifikalarla gÃ¼venli (HTTPS) backend servislerine baÄŸlanma. Certificate Manager entegrasyonu ile merkezi sertifika yÃ¶netimi.
- **Cache MekanizmasÄ±**: Distributed (daÄŸÄ±tÄ±k) veya Local (yerel) cache desteÄŸi. Variable bazlÄ± cache key tanÄ±mlama, capacity ve TTL ayarlarÄ±, null response'larÄ± cache'leme seÃ§eneÄŸi.
- **Test Helper**: API Ã§aÄŸrÄ±sÄ± iÃ§in URL'yi otomatik oluÅŸturma. Mevcut API Proxy'lerden veya Proxy Group'lardan endpoint seÃ§imi, environment bazlÄ± test yapma.
- **Export/Import Ã–zelliÄŸi**: Politika yapÄ±landÄ±rmasÄ±nÄ± ZIP dosyasÄ± olarak export etme. FarklÄ± ortamlara (Development, Test, Production) import etme. Versiyon kontrolÃ¼ ve yedekleme imkanÄ±.
- **Policy Group ve Proxy Group DesteÄŸi**: Birden fazla politikayÄ± Policy Group iÃ§inde yÃ¶netme. Proxy Group'lara toplu politika atama. Merkezi gÃ¼ncelleme ve deploy iÅŸlemleri.
- **Deploy ve Versiyonlama**: Politika deÄŸiÅŸikliklerini canlÄ± ortama deploy etme. Hangi API Proxy'lerde kullanÄ±ldÄ±ÄŸÄ±nÄ± gÃ¶rme (Policy Usage). Proxy Group ve Policy Group kullanÄ±m raporlarÄ±.

## Politika KonfigÃ¼rasyonu

Politika konfigÃ¼rasyonu iÃ§in kullanÄ±lan alanlar aÅŸaÄŸÄ±daki tabloda gÃ¶rÃ¼lmektedir.

| Alan | AÃ§Ä±klama |
| :--- | :------- |
| **Ä°sim (Name)** | PolitikanÄ±n kullanÄ±mÄ±nÄ± ve yÃ¶netimini kolaylaÅŸtÄ±rmak iÃ§in isim yazÄ±labilir. PolitikalarÄ±n yÃ¶netimi ve seÃ§imi sÄ±rasÄ±nda bu isme ihtiyacÄ±nÄ±z olacaktÄ±r. |
| **AÃ§Ä±klama (Description)** | PolitikanÄ±n kullanÄ±mÄ±nÄ± ve yÃ¶netimini kolaylaÅŸtÄ±rmak iÃ§in aÃ§Ä±klama yazÄ±labilir. |
| **Ã‡aÄŸrÄ± Tipi (Call Type)** | SYNCHRONOUS (yanÄ±t bekle) veya ASYNCHRONOUS (fire-and-forget) |
| **HTTP Method** | GET, POST, PUT, DELETE, PATCH, HEAD, OPTIONS, TRACE |
| **Base URL** | Ã‡aÄŸrÄ±lacak API'nin URL'i (zorunlu) |
| **Timeout** | Saniye cinsinden maksimum bekleme sÃ¼resi (zorunlu, minimum: 1) |
| **Clear Body Before Call** | Ä°stek gÃ¶nderilmeden Ã¶nce body'yi temizleme |
| **Use Message Template** | Body iÃ§in ÅŸablon kullanma (Clear Body aktifse) |
| **Request Data Manipulation** | Request Ã¼zerinde ADD, REPLACE, DELETE iÅŸlemleri |
| **Remove All Headers Before Call** | TÃ¼m header'larÄ± silme |
| **Deleted Headers** | Silinecek header listesi |
| **New Headers** | Eklenecek yeni header'lar |
| **New Parameters** | Eklenecek yeni query parametreleri |
| **Enable Cache** | Cache mekanizmasÄ±nÄ± aktifleÅŸtirme |
| **Cache By (Apply By)** | Cache key iÃ§in kullanÄ±lacak deÄŸiÅŸken |
| **Capacity** | Cache kapasitesi (kayÄ±t sayÄ±sÄ±) |
| **TTL** | Cache sÃ¼resi (saniye) |
| **Cache Storage Type** | DISTRIBUTED veya LOCAL |
| **Cache Null Responses** | Null yanÄ±tlarÄ± cache'leme |
| **Certificate Enabled** | SSL/TLS sertifika kullanÄ±mÄ± |
| **After Call Body Operation Type** | NOT_CHANGE_BODY, REPLACE_BODY, CLEAR_BODY (Sadece Synchronous) |
| **Original Message Data Manipulation** | Response Ã¼zerinde ADD, REPLACE, DELETE iÅŸlemleri (Sadece Synchronous) |

**KoÅŸullar (Conditions)** ve **Hata MesajÄ± Ã–zelleÅŸtirme (Error Message Customization)** panellerinin detayÄ± iÃ§in [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±nÄ± ziyaret edebilirsiniz.

## Hata KodlarÄ±

| Hata Kodu | Hata MesajÄ± | HTTP Durum Kodu |
| :-------- | :-------------------------------------------------------------------------------- | :-------------- |
| ERR-061   | API Call response code ({0}) is unexpected! Expected value is between 200 and 400. API Result Body is: {1} | 503             |
| ERR-062   | API Call policy failed! Error message for connection is: {0}                         | 500             |
| ERR-063   | API Call policy failed! Error message is: {0}                         | 500             |