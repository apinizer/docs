---
title: "Token Alma Yöntemleri"
description: "Client Credentials flow, Password flow, Authorization Code flow, Implicit flow, Refresh token kullanımı"
---

Token Service, OAuth2 standartlarına uygun olarak çeşitli token alma yöntemlerini (grant types) destekler. Bu sayfa, farklı token alma yöntemlerini ve kullanım senaryolarını açıklar.

## Genel Bakış

OAuth2 standardı, farklı kullanım senaryoları için çeşitli token alma yöntemleri (grant types) tanımlar:

<CardGroup cols={2}>
  <Card title="Client Credentials" icon="key">
    Server-to-server iletişim için
  </Card>
  <Card title="Password" icon="user">
    Kullanıcı adı/şifre ile token alma
  </Card>
  <Card title="Authorization Code" icon="code">
    Web uygulamaları için
  </Card>
  <Card title="Implicit" icon="globe">
    Mobil uygulamalar için (deprecated)
  </Card>
  <Card title="Refresh Token" icon="rotate-right">
    Token yenileme için
  </Card>
</CardGroup>

## Client Credentials Flow

Client Credentials flow, server-to-server iletişim için kullanılır. Kullanıcı etkileşimi gerektirmez.

### Kullanım Senaryoları

* **Backend Servisler**: Backend servisler arası iletişim
* **Scheduled Jobs**: Zamanlanmış işler için token alma
* **API-to-API**: API'ler arası iletişim

### İstek Formatı

```http
POST /oauth2/token HTTP/1.1
Content-Type: application/x-www-form-urlencoded

grant_type=client_credentials&
client_id=your_client_id&
client_secret=your_client_secret
```

### Yanıt

```json
{
  "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",
  "token_type": "Bearer",
  "expires_in": 3600
}
```

## Password Flow (Resource Owner Password Credentials)

Password flow, kullanıcı adı ve şifre ile token alma için kullanılır.

### Kullanım Senaryoları

* **Trusted Uygulamalar**: Güvenilir uygulamalar için
* **Legacy Sistemler**: Eski sistemlerin entegrasyonu
* **Internal Kullanım**: İç kullanım için

<Warning>
  **Güvenlik** Password flow, güvenlik açısından dikkatli kullanılmalıdır. Sadece güvenilir uygulamalar için önerilir.
</Warning>

### İstek Formatı

```http
POST /oauth2/token HTTP/1.1
Content-Type: application/x-www-form-urlencoded

grant_type=password&
username=user@example.com&
password=user_password&
client_id=your_client_id&
client_secret=your_client_secret
```

### Yanıt

```json
{
  "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",
  "token_type": "Bearer",
  "expires_in": 3600,
  "refresh_token": "refresh_token_value"
}
```

## Authorization Code Flow

Authorization Code flow, web uygulamaları için önerilen güvenli yöntemdir.

### Akış Adımları

1. **Authorization Request**: Kullanıcıyı authorization server'a yönlendirme
2. **Authorization Code**: Kullanıcı onayından sonra authorization code alınması
3. **Token Exchange**: Authorization code ile token alma

### Kullanım Senaryoları

* **Web Uygulamaları**: Web tabanlı uygulamalar
* **SPA (Single Page Applications)**: Modern web uygulamaları
* **Güvenli Erişim**: Kullanıcı onayı gerektiren senaryolar

### İstek Formatı

**1. Authorization Request:**

```
GET /oauth2/authorize?
  response_type=code&
  client_id=your_client_id&
  redirect_uri=https://your-app.com/callback&
  scope=read write&
  state=random_state_value
```

**2. Token Exchange:**

```http
POST /oauth2/token HTTP/1.1
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code&
code=authorization_code_value&
redirect_uri=https://your-app.com/callback&
client_id=your_client_id&
client_secret=your_client_secret
```

### Yanıt

```json
{
  "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",
  "token_type": "Bearer",
  "expires_in": 3600,
  "refresh_token": "refresh_token_value"
}
```

## Implicit Flow

Implicit flow, mobil uygulamalar için kullanılmıştır ancak güvenlik nedenleriyle deprecated (kullanımdan kaldırılmış) olarak işaretlenmiştir.

:::danger Deprecated
Implicit flow artık önerilmemektedir. Authorization Code flow with PKCE kullanılmalıdır.
:::

## Refresh Token Kullanımı

Refresh token, access token'ın süresi dolduğunda yeni token almak için kullanılır.

### Refresh Token İsteği

```http
POST /oauth2/token HTTP/1.1
Content-Type: application/x-www-form-urlencoded

grant_type=refresh_token&
refresh_token=refresh_token_value&
client_id=your_client_id&
client_secret=your_client_secret
```

### Yanıt

```json
{
  "access_token": "new_access_token_value",
  "token_type": "Bearer",
  "expires_in": 3600,
  "refresh_token": "new_refresh_token_value"
}
```

### Refresh Token Özellikleri

* **Uzun Ömürlü**: Access token'dan daha uzun süre geçerlidir
* **Yenilenebilir**: Yeni refresh token alınabilir
* **İptal Edilebilir**: Token iptal edilebilir (revoke)

## Token Alma Yöntemi Seçimi

### Ne Zaman Client Credentials?

* Server-to-server iletişim
* Kullanıcı etkileşimi yok
* Backend servisler arası iletişim

### Ne Zaman Password Flow?

* Güvenilir uygulamalar
* Legacy sistem entegrasyonu
* Internal kullanım

### Ne Zaman Authorization Code?

* Web uygulamaları
* Kullanıcı onayı gerektiren senaryolar
* Güvenli erişim gerektiren durumlar

## En İyi Uygulamalar

<CardGroup cols={2}>
  <Card title="Güvenli Saklama" icon="lock">
    Client secret'ları güvenli saklayın
  </Card>
  <Card title="HTTPS Kullanın" icon="shield">
    Token isteklerini HTTPS üzerinden yapın
  </Card>
  <Card title="Token Expire" icon="clock">
    Kısa expire süreleri kullanın
  </Card>
  <Card title="Refresh Token" icon="rotate-right">
    Refresh token kullanarak token yenileyin
  </Card>
</CardGroup>

## Sonraki Adımlar

<CardGroup cols={2}>
  <Card title="Token Service Genel Bakış" icon="info-circle" href="/tr/gelistirici/politikalar/token-service/genel-bakis">
    Token Service hakkında genel bilgi
  </Card>
  <Card title="Token SSS" icon="question-circle" href="/tr/gelistirici/politikalar/token-service/token-sss">
    Token ile ilgili sık sorulan sorular
  </Card>
</CardGroup>
