---
title: 'JOSE Uygulama PolitikasÄ±'
description: 'Ä°stek veya yanÄ±ttan JWT Ã¼reten, imzalayan ve isteÄŸe baÄŸlÄ± ÅŸifreleyen politika'
---

**Son GÃ¼ncelleme:** 10 KasÄ±m 2025  
**Hedef Kitle:** Sistem YÃ¶neticileri, Backend GeliÅŸtiriciler, DevOps MÃ¼hendisleri

**ğŸ’¡ Politikalar hakkÄ±nda bilginiz var mÄ±?**  
Bu dokÃ¼man spesifik bir politikanÄ±n detaylÄ± kullanÄ±mÄ±nÄ± anlatÄ±r. EÄŸer Apinizer politika yapÄ±sÄ±nÄ± ilk kez kullanÄ±yorsanÄ±z veya politikalarÄ±n genel Ã§alÄ±ÅŸma prensiplerini Ã¶ÄŸrenmek istiyorsanÄ±z, Ã¶ncelikle [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±nÄ± okumanÄ±zÄ± Ã¶neririz.

| **Politika AdÄ±** | JOSE Uygulama PolitikasÄ± |
|---|:---|
| **Ã–zet** | Ä°stek veya yanÄ±ttan JWT Ã¼reten, imzalayan ve isteÄŸe baÄŸlÄ± ÅŸifreleyen politika |
| **Kategori** | GÃ¼venlik ve EriÅŸim KontrolÃ¼ |
| **DÃ¶nÃ¼ÅŸ Durum KodlarÄ±** | <table><thead><tr><th>Hata Kodu</th><th>Hata MesajÄ±</th><th>HTTP Durum Kodu</th></tr></thead><tbody><tr><td>ERR-146</td><td>JWK for Sign is not set in policy!</td><td>500</td></tr><tr><td>ERR-147</td><td>JWK for Sign in policy was not found!</td><td>500</td></tr><tr><td>ERR-148</td><td>JWK for Encryption is not set in policy!</td><td>500</td></tr><tr><td>ERR-149</td><td>JWK for Encryption in policy was not found!</td><td>500</td></tr><tr><td>ERR-150</td><td>JWK for Sign is not set in client's credential!</td><td>500</td></tr><tr><td>ERR-151</td><td>JWK for Sign was not found for client's credential!</td><td>500</td></tr><tr><td>ERR-152</td><td>JWK for Encryption is not set in client's credential!</td><td>500</td></tr><tr><td>ERR-153</td><td>JWK for Encryption was not found for client's credential!</td><td>500</td></tr><tr><td>ERR-154</td><td>JOSE Sign operation was failed! Error message is: {0}</td><td>500</td></tr><tr><td>ERR-155</td><td>JOSE Encryption operation was failed! Error message is: {0}</td><td>500</td></tr><tr><td>ERR-156</td><td>JOSE Encryption can not be done without JOSE Sign operation!</td><td>500</td></tr><tr><td>ERR-157</td><td>JOSE Implementation policy was failed! Error message is: {0}</td><td>500</td></tr><tr><td>ERR-158</td><td>Target value was not found!</td><td>500</td></tr><tr><td>ERR-189</td><td>JWK was expired!</td><td>500</td></tr></tbody></table> |

## Genel BakÄ±ÅŸ

### AmacÄ± Nedir?

- API Proxy (API Vekil Sunucusu) yanÄ±t veya isteÄŸini JOSE standartlarÄ±na uygun biÃ§imde JWT olarak yeniden paketleyerek tÃ¼ketici entegrasyonlarÄ±nÄ± basitleÅŸtirmek.
- Uygulama servisleri arasÄ±nda taÅŸÄ±nan claim verilerini imza ve ÅŸifreleme katmanlarÄ± ile gÃ¼vence altÄ±na almak.
- JWK kasasÄ± ile entegre Ã§alÄ±ÅŸarak anahtar yÃ¶netiminin merkezi ve denetlenebilir biÃ§imde sÃ¼rdÃ¼rÃ¼lmesini saÄŸlamak.
- KoÅŸul motoru desteÄŸiyle belirli endpoint, header ya da ortam kombinasyonlarÄ±nda dinamik olarak tetiklenmek.
- Ek claim haritasÄ± ve veri manipÃ¼lasyonu hedefleri sayesinde kurumlara Ã¶zgÃ¼ token zenginleÅŸtirmelerini kod deÄŸiÅŸikliÄŸi olmadan yÃ¶netmek.

### Ã‡alÄ±ÅŸma Prensibi

1. **Ä°stek GeliÅŸi**: API Gateway'e gelen her HTTP/HTTPS isteÄŸi iÃ§in, istemin kaynak IP adresi tespit edilir.
2. **Politika KontrolÃ¼**: JOSE Uygulama politikasÄ± aktif ise, sistem aÅŸaÄŸÄ±daki sÄ±rayla kontrol yapar:
   - Condition (koÅŸul) tanÄ±mlÄ± mÄ±? Varsa koÅŸul saÄŸlanÄ±yor mu?
   - Politika aktif mi (active=true)?
   - Variable kullanÄ±lÄ±yor mu yoksa Apinizer default mÄ±?
3. **Token Ãœretim ve GÃ¼venlik KatmanÄ±**: Hedef alan belirlendikten sonra claim seti toplanÄ±r, ek claim haritasÄ± eklenir, JWK seÃ§imine gÃ¶re imzalama ve isteÄŸe baÄŸlÄ± ÅŸifreleme uygulanÄ±r.
4. **Karar Verme**:
   - **EÅŸleÅŸme Var**: Ãœretilen JWT belirtilen hedefe (gÃ¶vde, Authorization header veya deÄŸiÅŸken) yazÄ±lÄ±r ve trafik devam eder.
   - **EÅŸleÅŸme Yok**: Politika devre dÄ±ÅŸÄ± kalÄ±r, istek orijinal iÃ§eriÄŸiyle iletilir.
5. **Hata Ä°ÅŸleme**: Politika kuralÄ±na uymayan istekler iÃ§in Ã¶zelleÅŸtirilebilir HTTP durum kodu ve hata mesajÄ± dÃ¶ndÃ¼rÃ¼lÃ¼r.

## Ã–zellikler ve Yetenekler

### Temel Ã–zellikler

- **Esnek JOSE Hedefi**: Token Ã¼retim Ã§Ä±ktÄ±sÄ± gÃ¶vde, Authorization header veya seÃ§ilen deÄŸiÅŸkende saklanabilir; yanÄ±t manipÃ¼lasyonlarÄ±nÄ± kolaylaÅŸtÄ±rÄ±r.
- **HazÄ±r Claim AnahtarlarÄ±**: Issuer, Subject, Audience, Expiration gibi Ã§ekirdek claim alanlarÄ± anahtar/kilit kombinasyonlarÄ±yla yÃ¶netilir.
- **Ek Claim HaritasÄ±**: TÃ¼r kontrollÃ¼ MapValue desteÄŸiyle metin, liste veya sayÄ±sal claim'ler arayÃ¼zden eklenip dÃ¼zenlenebilir.
- **Aktif/Pasif Durum KontrolÃ¼**: PolitikanÄ±n aktif veya pasif durumunu kolayca deÄŸiÅŸtirme (active/passive toggle). Pasif durumda politika uygulanmaz ancak yapÄ±landÄ±rmasÄ± saklanÄ±r.
- **KoÅŸul BazlÄ± Uygulama**: Query Builder ile karmaÅŸÄ±k koÅŸullar oluÅŸturarak politikanÄ±n ne zaman uygulanacaÄŸÄ±nÄ± belirleme (Ã¶rn: sadece belirli endpoint'lere veya header deÄŸerlerine gÃ¶re).

### Ä°leri DÃ¼zey Ã–zellikler

- **JWK YÃ¶netim Entegrasyonu**: Secret Manager Ã¼zerinden JWK arama, seÃ§im, gÃ¼ncelleme ve yeni anahtar Ã¼retimi tek tÄ±klamayla yapÄ±lÄ±r.
- **Ã‡ift KatmanlÄ± GÃ¼venlik**: AynÄ± istekte imza ve ÅŸifreleme kombinasyonu uygulanarak token bÃ¼tÃ¼nlÃ¼ÄŸÃ¼ ve gizliliÄŸi eÅŸzamanlÄ± saÄŸlanÄ±r.
- **Veri ManipÃ¼lasyonu Senkronizasyonu**: KodlanmÄ±ÅŸ claim hedefi ve decode sonrasÄ± deÄŸiÅŸken atamasÄ± ile zincir politikalar arasÄ±nda veri paylaÅŸÄ±mÄ± yapÄ±lÄ±r.
- **Export/Import Ã–zelliÄŸi**: Politika yapÄ±landÄ±rmasÄ±nÄ± ZIP dosyasÄ± olarak export etme. FarklÄ± ortamlara (Development, Test, Production) import etme. Versiyon kontrolÃ¼ ve yedekleme imkanÄ±.
- **Policy Group ve Proxy Group DesteÄŸi**: Birden fazla politikayÄ± Policy Group iÃ§inde yÃ¶netme. Proxy Group'lara toplu politika atama. Merkezi gÃ¼ncelleme ve deploy iÅŸlemleri.
- **Deploy ve Versiyonlama**: Politika deÄŸiÅŸikliklerini canlÄ± ortama deploy etme. Hangi API Proxy'lerde kullanÄ±ldÄ±ÄŸÄ±nÄ± gÃ¶rme (Policy Usage). Proxy Group ve Policy Group kullanÄ±m raporlarÄ±.

## KullanÄ±m SenaryolarÄ±

| Senaryo | Durum | Ã‡Ã¶zÃ¼m (Politika UygulamasÄ±) | Beklenen DavranÄ±ÅŸ / SonuÃ§ |
|---------|-------|----------------------------|---------------------------|
| Mikroservis YanÄ±tÄ±nÄ± JWT'ye DÃ¶nÃ¼ÅŸtÃ¼rme | Servis dÃ¼z metin JSON dÃ¶ndÃ¼rÃ¼yor, tÃ¼ketici JWT bekliyor | `joseTarget=BODY`, hazÄ±r claim'ler aktif, imza aÃ§Ä±k | YanÄ±t JWT formatÄ±nda dÃ¶ner, tÃ¼ketici ek iÅŸ yapmaz |
| Header Ãœzerinden JWT TaÅŸÄ±ma | Mobil istemci Authorization header'Ä±nda imzalÄ± token istiyor | `joseTarget=AUTHORIZATION_HEADER`, `addTypeToHeader=true` | Token `Authorization: JWT <token>` olarak eklenir |
| Ã‡oklu Audience YÃ¶netimi | AynÄ± API farklÄ± hedef sistemlere token iletiyor | `addAudience=true`, audience listesine Ã§oklu deÄŸer eklenir | Token `aud` claim'i Ã§oklu deÄŸer iÃ§erir |
| Ä°Ã§ Sistem AnahtarÄ±yla Ä°mza | Issuer tarafÄ±nda imzalanmÄ±ÅŸ token tercih ediliyor | `sign=true`, `signByIssuer=true` seÃ§ilir | Gateway imza anahtarÄ± istemez, issuer imzasÄ± korunur |
| Ã‡ift KatmanlÄ± GÃ¼venlik | DÄ±ÅŸ entegrasyon imza+ÅŸifreleme kombinasyonu zorunlu kÄ±lÄ±yor | `sign=true`, `encrypt=true`, uygun JWK'lar seÃ§ilir | Token Ã¶nce imzalanÄ±r sonra seÃ§ilen yÃ¶ntemle ÅŸifrelenir |
| Veri ManipÃ¼lasyonu Zinciri | Sonraki politika decode edilmiÅŸ claim'lere ihtiyaÃ§ duyuyor | `encodedClaimsTargetForDataManipulation=BODY`, decoded deÄŸiÅŸken atanÄ±r | Decode edilmiÅŸ claim'ler tanÄ±mlanan deÄŸiÅŸkende saklanÄ±r |

## Politika Parametrelerini YapÄ±landÄ±rma

Bu adÄ±mda, kullanÄ±cÄ± **yeni bir politika oluÅŸturabilir** ya da **mevcut politika parametrelerini yapÄ±landÄ±rarak** eriÅŸim kurallarÄ±nÄ± belirleyebilir. TanÄ±mlanan parametreler, politikanÄ±n Ã§alÄ±ÅŸma ÅŸeklini (Ã¶rneÄŸin hangi IP'lerin izinli olacaÄŸÄ±, coÄŸrafi kÄ±sÄ±tlamalar, koÅŸullu aktivasyonlar vb.) doÄŸrudan etkiler. Bu sayede politika hem kuruma Ã¶zel gereksinimlere gÃ¶re Ã¶zelleÅŸtirilebilir hem de merkezi olarak yÃ¶netilebilir.

### Yeni JOSE Uygulama PolitikasÄ± OluÅŸturma

<img src="/images/gelistirici/politikalar/jose-uygulama-politikasi-1.png" alt="JOSE Uygulama PolitikasÄ±" width="1000" />

### YapÄ±landÄ±rma AdÄ±mlarÄ±

| AdÄ±m | AÃ§Ä±klama / Ä°ÅŸlem |
|------|------------------|
| **AdÄ±m 1: OluÅŸturma SayfasÄ±na Gitme** | - Sol menÃ¼den **Development â†’ Global Settings â†’ Global Policies â†’ JOSE Uygulama PolitikasÄ±** bÃ¶lÃ¼mÃ¼ne gidin.<br />- SaÄŸ Ã¼stteki **[+ Create]** butonuna tÄ±klayÄ±n. |
| **AdÄ±m 2: Temel Bilgileri Girme** | **Policy Status (Politika Durumu):** Aktif/Pasif durumu gÃ¶sterir. Yeni politikalar varsayÄ±lan olarak aktiftir.<br /><br />**Name (Ä°sim) Zorunlu:** Ã–rnek: `Production_JOSE`<br />- Benzersiz isim girin, boÅŸlukla baÅŸlamaz.<br />- Sistem otomatik kontrol eder. YeÅŸil tik: kullanÄ±labilir. KÄ±rmÄ±zÄ± Ã§arpÄ±: mevcut isim.<br /><br />**Description (AÃ§Ä±klama):** Ã–rnek: "Ã‡Ä±kÄ±ÅŸ gÃ¶vdesini imzalÄ± JWT'ye dÃ¶nÃ¼ÅŸtÃ¼rÃ¼r"<br />- Maks. 1000 karakter.<br />- PolitikanÄ±n amacÄ±nÄ± aÃ§Ä±klayÄ±n. |
| **AdÄ±m 3: JOSE Hedefi ve Claim AyarlarÄ±** | - `JOSE Target` alanÄ±ndan gÃ¶vde, Authorization header veya deÄŸiÅŸken seÃ§in.<br />- DeÄŸiÅŸken kullanacaksanÄ±z Variable seÃ§iciden bir proje deÄŸiÅŸkeni atayÄ±n.<br />- Claim panelinde `addIssuer`, `addSubject`, `addAudience`, `addExpirationTime` seÃ§eneklerini gereksinime gÃ¶re aÃ§Ä±n ve zorunlu alanlarÄ± doldurun.<br />- `Additional Claim Map` tablosundan tÃ¼r bazlÄ± claim ekleyerek payload'Ä± zenginleÅŸtirin. |
| **AdÄ±m 4: Ä°mza KonfigÃ¼rasyonu (Varsa)** | - `Sign` anahtarÄ±nÄ± aktifleÅŸtirerek token imzasÄ±nÄ± aÃ§Ä±n.<br />- Issuer tarafÄ±ndan imza saÄŸlanacaksa `Sign by Issuer` seÃ§eneÄŸini kullanÄ±n.<br />- Gateway imzalayacaksa Secret Manager listesinden `jwkIdForValidationAndSign` alanÄ±nÄ± seÃ§in veya yeni anahtar oluÅŸturun. |
| **AdÄ±m 5: Åifreleme ve Veri ManipÃ¼lasyonu (Varsa)** | - Gizlilik gerekiyorsa `Encrypt` anahtarÄ±nÄ± aktifleÅŸtirin ve `Encryption Method` seÃ§in.<br />- Issuer tarafÄ±nda ÅŸifreleme yapÄ±lacaksa `Encrypt by Issuer` seÃ§eneÄŸini aÃ§Ä±n, aksi halde JWK seÃ§in.<br />- `Encoded Claims Target for Data Manipulation` alanÄ±ndan token'Ä±n saklanacaÄŸÄ± hedefi belirleyin, deÄŸiÅŸken gerekiyorsa ilgili variable'Ä± seÃ§in. |
| **AdÄ±m 6: KoÅŸul TanÄ±mlama (Ä°steÄŸe BaÄŸlÄ±)** | - **Condition** sekmesine geÃ§in.<br />- KoÅŸullar, politikanÄ±n hangi durumda aktif olacaÄŸÄ±nÄ± belirler.<br /><br />**Ã–rnekler:**<br />- Ortam bazlÄ±: `Header = X-Environment, Operator = Equals, Value = production`<br />- API Key bazlÄ±: `Header = X-API-Key, Starts With = PROD-`<br />- Endpoint bazlÄ±: `Path = /api/admin/*`<br /><br />KoÅŸul tanÄ±mlamazsa politika her zaman aktif<br /><br />Detaylar iÃ§in bakabilirsiniz: [KoÅŸullar (Conditions)](/tr/gelistirici/politikalar/politika-nedir#conditions) |
| **AdÄ±m 7: Hata MesajÄ± Ã–zelleÅŸtirme (Ä°steÄŸe BaÄŸlÄ±)** | - **Error Message Customization** sekmesine gidin.<br />- EriÅŸim reddedildiÄŸinde dÃ¶necek mesajÄ± Ã¶zelleÅŸtirin.<br /><br />**VarsayÄ±lan:**<br />`{ "statusCode": 403, "message": "[Default hata mesajÄ±]" }`<br /><br />**Ã–zel:**<br />`{ "statusCode": 403, "errorCode": "[CUSTOM_ERROR_CODE]", "message": "[Ã–zel mesaj]" }` |
| **AdÄ±m 8: Kaydetme** | - SaÄŸ Ã¼stteki **[Save]** butonuna tÄ±klayÄ±n.<br /><br />**Kontrol Listesi:** Benzersiz isim. Zorunlu alanlar dolu. En az bir tanÄ±mlÄ± JOSE hedefi ve gerekli JWK seÃ§imleri mevcut<br /><br />**SonuÃ§:**<br />- Politika listeye eklenir.<br />- API'lere baÄŸlanabilir.<br />- Global politikaysa otomatik uygulanÄ±r. |

## PolitikayÄ± Silme

Bu politikanÄ±n silme adÄ±mlarÄ± ve kullanÄ±mdayken uygulanacak iÅŸlemler, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **PolitikayÄ± Silme** bÃ¶lÃ¼mÃ¼nde detaylÄ± olarak aÃ§Ä±klanmÄ±ÅŸtÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me bakabilirsiniz: [PolitikayÄ± Silme](/tr/gelistirici/politikalar/politika-nedir#politikayÄ±-silme)

## PolitikayÄ± DÄ±ÅŸa/Ä°Ã§e Aktarma

Bu politikanÄ±n dÄ±ÅŸa aktarma (Export) adÄ±mlarÄ± ve kullanÄ±labilecek seÃ§enekler, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **DÄ±ÅŸa Aktarma Ä°ÅŸlemi** bÃ¶lÃ¼mÃ¼nde aÃ§Ä±klanmaktadÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me bakabilirsiniz: [PolitikayÄ± DÄ±ÅŸa/Ä°Ã§e Aktarma](/tr/gelistirici/politikalar/politika-nedir#politikayÄ±-dÄ±ÅŸa-iÃ§e-aktarma)

## PolitikayÄ± API'ye BaÄŸlama

Bu politikanÄ±n API'lere nasÄ±l baÄŸlanacaÄŸÄ±na iliÅŸkin sÃ¼reÃ§, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **PolitikayÄ± API'ye BaÄŸlama** bÃ¶lÃ¼mÃ¼nde detaylandÄ±rÄ±lmÄ±ÅŸtÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me gÃ¶z atabilirsiniz: [PolitikayÄ± API'ye BaÄŸlama](/tr/gelistirici/politikalar/politika-nedir#politikayÄ±-apiye-baÄŸlama)

## Ä°leri DÃ¼zey Ã–zellikler

| Ã–zellik | AÃ§Ä±klama ve AdÄ±mlar |
|---------|---------------------|
| **Dinamik Claim Haritalama** | - `Additional Claim Map` tablosundan **+** butonuna basÄ±n.<br />- Claim anahtarÄ±nÄ± ve uygun `valueType` bilgisini seÃ§in.<br />- DeÄŸer alanÄ±nÄ± doldurup kaydedin; deÄŸiÅŸiklik anÄ±nda listeye yansÄ±r. |
| **Ã‡ift Rol JWK YÃ¶netimi** | - Ä°mza veya ÅŸifreleme panelinden ilgili JWK seÃ§icisini aÃ§Ä±n.<br />- Var olan anahtarÄ± seÃ§in veya **New** seÃ§eneÄŸiyle Secret Manager'a yÃ¶nlenin.<br />- GÃ¼ncel JWK kaydedildiÄŸinde politika formu otomatik gÃ¼ncellenir. |
| **Token Zinciri ManipÃ¼lasyonu** | - `Encoded Claims Target` alanÄ±ndan token'Ä±n yazÄ±lacaÄŸÄ± hedefi seÃ§in.<br />- Decode edilmiÅŸ veriyi baÅŸka politikaya aktaracaksanÄ±z target deÄŸiÅŸkenini tanÄ±mlayÄ±n.<br />- Ä°lgili ikinci politikada aynÄ± deÄŸiÅŸkeni kaynak olarak kullanarak veri akÄ±ÅŸÄ±nÄ± tamamlayÄ±n. |

## Best Practices

### YapÄ±lmasÄ± Gerekenler ve En Ä°yi Uygulamalar

| Kategori | AÃ§Ä±klama / Ã–neriler |
|----------|---------------------|
| **Claim TasarÄ±mÄ±** | **KÃ¶tÃ¼:** Gereksiz tÃ¼m alanlarÄ± claim olarak eklemek.<br />**Ä°yi:** Sadece iÅŸlevsel claim'leri tanÄ±mlamak.<br />**En Ä°yi:** DÃ¼zenli claim denetimleri ile minimal ama yeterli seti sÃ¼rdÃ¼rmek. |
| **JWK YÃ¶netimi** | **KÃ¶tÃ¼:** SÃ¼resi dolmuÅŸ anahtarlarÄ± kullanmaya devam etmek.<br />**Ä°yi:** JWK rotasyonunu manuel aralÄ±klarla yapmak.<br />**En Ä°yi:** Secret Manager Ã¼zerinden otomatik rotasyon takvimi kurgulamak. |
| **Ä°mza ve Åifreleme Kombinasyonu** | **KÃ¶tÃ¼:** AynÄ± token'a gereksiz yere hem imza hem ÅŸifreleme eklemek.<br />**Ä°yi:** GÃ¼venlik gereksinimine gÃ¶re sadece biriyle yetinmek.<br />**En Ä°yi:** Hassas veride Ã¶nce imza sonra ÅŸifreleme uygulayarak tam gÃ¼venlik saÄŸlamak. |
| **Veri ManipÃ¼lasyonu** | **KÃ¶tÃ¼:** Decode edilmiÅŸ veriyi boÅŸ isimli deÄŸiÅŸkenlere yazmak.<br />**Ä°yi:** AnlamlÄ± deÄŸiÅŸken isimleri kullanmak.<br />**En Ä°yi:** Politikalar arasÄ± veri akÄ±ÅŸÄ±nÄ± belgelemek ve standart isimler belirlemek. |
| **Hata MesajÄ± Stratejisi** | **KÃ¶tÃ¼:** VarsayÄ±lan hata mesajÄ±nÄ± tÃ¼m ortamda bÄ±rakmak.<br />**Ä°yi:** Ortam bazlÄ± Ã¶zel mesajlar hazÄ±rlamak.<br />**En Ä°yi:** Hata mesajlarÄ±nda izlenebilirlik iÃ§in referans kodlarÄ± bulundurmak. |

### GÃ¼venlik En Ä°yi UygulamalarÄ±

| GÃ¼venlik AlanÄ± | AÃ§Ä±klama / UyarÄ±lar |
|----------------|---------------------|
| **Anahtar Saklama** | JWK'larÄ± sadece Secret Manager iÃ§erisinde tutun, dÄ±ÅŸa aktarÄ±mlarÄ± ÅŸifreli kanallarla yapÄ±n. |
| **Token YaÅŸam SÃ¼resi** | Expiration deÄŸerlerini kÄ±sa tutun, Sliding veya Refresh token mekanizmalarÄ± kurun. |
| **Issuer ve Audience DoÄŸruluÄŸu** | `issuer` ve `audienceList` deÄŸerlerini kurumsal naming standardÄ±na gÃ¶re belirleyip revizyonlarda gÃ¼ncelleyin. |
| **Ek Claim Hijyeni** | Ek claim'lerde kiÅŸisel veri varsa ÅŸifreleme zorunlu hale getirin ve veri minimizasyonu uygulayÄ±n. |
| **Ä°mza AnahtarÄ± Yetkileri** | JWK dÃ¼zenleme yetkisini ROLE_API_SECURITY ile sÄ±nÄ±rlandÄ±rÄ±n, audit loglarÄ±nÄ± takip edin. |

### KaÃ§Ä±nÄ±lmasÄ± Gerekenler

| Kategori | AÃ§Ä±klama / UyarÄ±lar |
|----------|---------------------|
| **TutarsÄ±z Claim YapÄ±sÄ±** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Åema dÄ±ÅŸÄ± claim'ler tÃ¼ketici tarafÄ±nda parse hatasÄ±na yol aÃ§ar.<br />**Alternatif:** Claim deÄŸiÅŸikliklerini sÃ¼rÃ¼m kontrollÃ¼ olarak devreye alÄ±n. |
| **YanlÄ±ÅŸ JWK EÅŸlemesi** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Eksik veya farklÄ± algoritmaya sahip JWK seÃ§imi token doÄŸrulamasÄ±nÄ± bozar.<br />**Alternatif:** Ä°lgili algoritma iÃ§in filtrelenmiÅŸ JWK listesini kullanÄ±n. |
| **Sonsuz Token SÃ¼resi** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** GÃ¼venlik ihlali durumunda token iptali mÃ¼mkÃ¼n olmaz.<br />**Alternatif:** KÄ±sa sÃ¼reli token ve revocation list tasarlayÄ±n. |
| **Hedef Alan UyumsuzluÄŸu** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** YanÄ±t gÃ¶vdesi yerine header'a yazÄ±lan token tÃ¼ketilmeyebilir.<br />**Alternatif:** Entegrasyon dÃ¶kÃ¼manÄ± doÄŸrultusunda hedef alanÄ± netleÅŸtirin. |

### Performans Ä°puÃ§larÄ±

| Kriter | Ã–neri / Etki |
|--------|--------------|
| **Token Boyutu** | **Ã–neri:** Gereksiz claim'leri kaldÄ±rÄ±n ve JSON minimal formatta tutun.<br />**Etki:** GÃ¶nderim sÃ¼resi ve bant geniÅŸliÄŸi dÃ¼ÅŸer. |
| **Åifreleme Metodu** | **Ã–neri:** DonanÄ±m desteÄŸi olan algoritmalarÄ± (Ã¶rn. A256GCM) tercih edin.<br />**Etki:** CPU kullanÄ±mÄ± azalÄ±r, gecikme dÃ¼ÅŸer. |
| **Ek Claim SayÄ±sÄ±** | **Ã–neri:** MapValue tablosunda sadece gerekli claim'leri tanÄ±mlayÄ±n.<br />**Etki:** Token boyutu kÃ¼Ã§Ã¼lÃ¼r, doÄŸrulama sÃ¼resi kÄ±salÄ±r. |
| **KoÅŸul Motoru** | **Ã–neri:** Query Builder'da gereksiz nested koÅŸullardan kaÃ§Ä±nÄ±n.<br />**Etki:** Politika deÄŸerlendirme sÃ¼reci hÄ±zlanÄ±r. |
| **JWK Lookup** | **Ã–neri:** SÄ±k kullanÄ±lan JWK'larÄ± cacheleyen Secret Manager seÃ§eneklerini aktif edin.<br />**Etki:** Ä°mza/ÅŸifreleme sÄ±rasÄ±nda I/O gecikmeleri azalÄ±r. |

## SÄ±k Sorulan Sorular (SSS)

| Kategori | Soru (S) | Cevap (C) |
|----------|----------|-----------|
| **Genel** | JOSE Uygulama PolitikasÄ± hangi durumlarda kullanÄ±lÄ±r? | Token Ã¼retimi, claim yÃ¶netimi ve gÃ¼venli iletim gerektiren entegrasyonlarda kullanÄ±lÄ±r; Ã¶zellikle tÃ¼keticinin JWT beklediÄŸi senaryolarda etkilidir. |
| **Genel** | Ä°mza ve ÅŸifrelemeyi aynÄ± anda aÃ§mak zorunlu mu? | HayÄ±r, gereksinime gÃ¶re sadece imza veya sadece ÅŸifreleme kullanÄ±labilir; her ikisi birden hassas veriler iÃ§in Ã¶nerilir. |
| **Teknik** | JWK seÃ§imi nasÄ±l yapÄ±lÄ±r? | Secret Manager JWK listesi aÃ§Ä±lÄ±r; uygun algoritma ve amaÃ§la eÅŸleÅŸen anahtar seÃ§ilir veya yeni anahtar oluÅŸturulur. |
| **Teknik** | DeÄŸiÅŸkenden hedef seÃ§ince ne olur? | Politika token'Ä± belirtilen proje deÄŸiÅŸkenine yazar; baÅŸka politikalar veya backend bu deÄŸiÅŸkeni okuyabilir. |
| **KullanÄ±m** | Audience listesine nasÄ±l deÄŸer eklenir? | `Add Audience` aktif edilerek giriÅŸ kutusuna deÄŸer yazÄ±lÄ±r ve onaylanÄ±r; her deÄŸer chip olarak listelenir. |
| **KullanÄ±m** | Hata mesajÄ±nÄ± Ã¶zelleÅŸtirmek zorunda mÄ±yÄ±m? | Zorunlu deÄŸil; ancak tÃ¼ketici tarafÄ± iÃ§in yÃ¶nlendirici bilgi gerekiyorsa Error Message sekmesinde Ã¶zelleÅŸtirme yapÄ±labilir. |

**Bu dokÃ¼man Apinizer Ã¼rÃ¼n dokÃ¼mantasyonunun bir parÃ§asÄ±dÄ±r. Â©ï¸ 2025 Apinizer - TÃ¼m haklarÄ± saklÄ±dÄ±r.**

Bu dokÃ¼mantasyon, Apinizer yazÄ±lÄ±mÄ±nÄ± kullanan kiÅŸi ve kuruluÅŸlar tarafÄ±ndan dahili kullanÄ±m amacÄ±yla serbestÃ§e kullanÄ±labilir, kopyalanabilir ve daÄŸÄ±tÄ±labilir.
