---
title: "Digest Kimlik DoÄŸrulama"
description: "HTTP Digest kimlik bilgilerini doÄŸrular, isteÄŸe Ã¶zel baÅŸlÄ±k ve yetkilendirme seÃ§enekleri saÄŸlar"
---

**Son GÃ¼ncelleme**: 07 KasÄ±m 2025 **Hedef Kitle**: Sistem YÃ¶neticileri, Backend GeliÅŸtiriciler, DevOps MÃ¼hendisleri

**ğŸ’¡ Politikalar hakkÄ±nda bilginiz var mÄ±?**\
Bu dokÃ¼man spesifik bir politikanÄ±n detaylÄ± kullanÄ±mÄ±nÄ± anlatÄ±r. EÄŸer Apinizer politika yapÄ±sÄ±nÄ± ilk kez kullanÄ±yorsanÄ±z veya politikalarÄ±n genel Ã§alÄ±ÅŸma prensiplerini Ã¶ÄŸrenmek istiyorsanÄ±z, Ã¶ncelikle [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±nÄ± okumanÄ±zÄ± Ã¶neririz.

| **Politika AdÄ±** | Digest Kimlik DoÄŸrulama PolitikasÄ± |
|------------------|-------------------------------------|
| **Ã–zet** | HTTP Digest kimlik bilgilerini doÄŸrular, isteÄŸe Ã¶zel baÅŸlÄ±k ve yetkilendirme seÃ§enekleri saÄŸlar |
| **Kategori** | GÃ¼venlik ve EriÅŸim KontrolÃ¼ |
| **DÃ¶nÃ¼ÅŸ Durum KodlarÄ±** | <table><thead><tr><th><strong>Hata Kodu</strong></th><th><strong>Hata MesajÄ±</strong></th><th><strong>HTTP Durum Kodu</strong></th></tr></thead><tbody><tr><td>ERR-051</td><td>Authentication policy failed! Error message is: {0}</td><td>500</td></tr></tbody></table> |

## Genel BakÄ±ÅŸ

HTTP Digest kimlik bilgilerini doÄŸrular, isteÄŸe Ã¶zel baÅŸlÄ±k ve yetkilendirme seÃ§enekleri saÄŸlar.

## AmacÄ± Nedir?

- Dizinde saklanan Secret Manager deÄŸiÅŸkenleriyle eÅŸleÅŸtirerek gelen HTTP Digest kimlik doÄŸrulamasÄ±nÄ± zorunlu kÄ±lmak ve anonim eriÅŸimi engellemek.
- Ä°steÄŸin Authorization baÅŸlÄ±ÄŸÄ±nÄ± kontrol edip, upstream servisler iÃ§in gÃ¼venli kullanÄ±cÄ± kimliÄŸi ve rol aktarÄ±mÄ± saÄŸlamak.
- Opsiyonel istemci IP doÄŸrulamasÄ± ve Clear Auth gibi ek kontrollerle saldÄ±rÄ± yÃ¼zeyini azaltmak.
- Dahili yetkilendirme motoru veya harici servislerle entegre olarak rol bazlÄ± eriÅŸim kararlarÄ±nÄ± merkezileÅŸtirmek.
- Hata mesajÄ± ve koÅŸul bazlÄ± Ã§alÄ±ÅŸtÄ±rma seÃ§enekleriyle politikanÄ±n farklÄ± ortam gereksinimlerine uyarlanmasÄ±nÄ± saÄŸlamak.

### Ã‡alÄ±ÅŸma Prensibi

1. **Ä°stek GeliÅŸi**: API Gateway'e gelen her HTTP/HTTPS isteÄŸi iÃ§in, istemin kaynak IP adresi tespit edilir.
2. **Politika KontrolÃ¼**: Digest Kimlik DoÄŸrulama politikasÄ± aktif ise, sistem aÅŸaÄŸÄ±daki sÄ±rayla kontrol yapar:
   - Condition (koÅŸul) tanÄ±mlÄ± mÄ±? Varsa koÅŸul saÄŸlanÄ±yor mu?
   - Politika aktif mi (active=true)?
   - Variable kullanÄ±lÄ±yor mu yoksa Apinizer default mÄ±?
3. **Digest Kimlik DoÄŸrulama KontrolÃ¼**: Authorization header iÃ§indeki digest parametreleri Ã§Ã¶zÃ¼mlenir, username/password/nonce/created deÄŸiÅŸkenleri Secret Manager Ã¼zerinden alÄ±nÄ±r ve RFC uyumlu Ã¶zet karÅŸÄ±laÅŸtÄ±rmasÄ± yapÄ±lÄ±r; **deÄŸiÅŸkenlerden biri eksikse istek hemen reddedilir.**
4. **Karar Verme**:
   - **EÅŸleÅŸme Var**: KullanÄ±cÄ± tanÄ±mlÄ±ysa isteÄŸe devam edilir, Clear Auth kapalÄ±ysa orijinal baÅŸlÄ±k saklanÄ±r, Add User to Header aktifse kullanÄ±cÄ± bilgisi istenen header'a eklenir, yetkilendirme aÃ§Ä±ksa rol listesi hesaplanÄ±r.
   - **EÅŸleÅŸme Yok**: VarsayÄ±lan veya Ã¶zelleÅŸtirilmiÅŸ hata yanÄ±tÄ± hazÄ±rlanÄ±r, isteÄŸin iletimi durdurulur, yetkilendirme Ã§aÄŸrÄ±larÄ± tetiklenmez.
5. **Hata Ä°ÅŸleme**: Politika kuralÄ±na uymayan istekler iÃ§in Ã¶zelleÅŸtirilebilir HTTP durum kodu ve hata mesajÄ± dÃ¶ndÃ¼rÃ¼lÃ¼r.

## Ã–zellikler ve Yetenekler

### Temel Ã–zellikler

- **Secret Manager DeÄŸiÅŸken YÃ¶netimi**: KullanÄ±cÄ± adÄ±, parola, nonce ve created deÄŸerleri Apinizer Secret Manager deÄŸiÅŸkenleriyle iliÅŸkilendirilir; deÄŸiÅŸken gÃ¼ncellemeleri tek noktadan yÃ¶netilir.
- **Authorization Header Ä°ÅŸleme**: Clear Auth seÃ§eneÄŸi ile doÄŸrulama sonrasÄ± hassas kimlik bilgileri upstream servislere geÃ§meden silinebilir.
- **Ä°stemci IP DoÄŸrulamasÄ±**: checkClientIpAddress parametresiyle talep eden IP'nin kayÄ±tlÄ± kimlik bilgisiyle eÅŸleÅŸmesi saÄŸlanarak paylaÅŸÄ±m saldÄ±rÄ±larÄ± engellenir.
- **Aktif/Pasif Durum KontrolÃ¼**: PolitikanÄ±n aktif veya pasif durumunu kolayca deÄŸiÅŸtirme (active/passive toggle). Pasif durumda politika uygulanmaz ancak yapÄ±landÄ±rmasÄ± saklanÄ±r.
- **KoÅŸul BazlÄ± Uygulama**: Query Builder ile karmaÅŸÄ±k koÅŸullar oluÅŸturarak politikanÄ±n ne zaman uygulanacaÄŸÄ±nÄ± belirleme (Ã¶rn: sadece belirli endpoint'lere veya header deÄŸerlerine gÃ¶re).

### Ä°leri DÃ¼zey Ã–zellikler

- **Yetkilendirme KatmanÄ± Entegrasyonu**: AuthorizationConfiguration bileÅŸeniyle LDAP, veritabanÄ± veya REST API tabanlÄ± rol doÄŸrulamasÄ± eklenebilir, roller header'a taÅŸÄ±nabilir.
- **Metot BazlÄ± EriÅŸim KÄ±sÄ±tlama**: enableMethodAccess sayesinde HTTP metoduna gÃ¶re rol zorunluluÄŸu tanÄ±mlanÄ±r, hassas iÅŸlemler ayrÄ± korunur.
- **Secret Manager Senkronizasyonu**: Otomatik variable seÃ§imi, digest politikalarÄ±na Ã¶zgÃ¼ username/password/nonce/created varsayÄ±lanlarÄ±nÄ± hÄ±zla yÃ¼kler.
- **Export/Import Ã–zelliÄŸi**: Politika yapÄ±landÄ±rmasÄ±nÄ± ZIP dosyasÄ± olarak export etme. FarklÄ± ortamlara (Development, Test, Production) import etme. Versiyon kontrolÃ¼ ve yedekleme imkanÄ±.
- **Policy Group ve Proxy Group DesteÄŸi**: Birden fazla politikayÄ± Policy Group iÃ§inde yÃ¶netme. Proxy Group'lara toplu politika atama. Merkezi gÃ¼ncelleme ve deploy iÅŸlemleri.
- **Deploy ve Versiyonlama**: Politika deÄŸiÅŸikliklerini canlÄ± ortama deploy etme. Hangi API Proxy'lerde kullanÄ±ldÄ±ÄŸÄ±nÄ± gÃ¶rme (Policy Usage). Proxy Group ve Policy Group kullanÄ±m raporlarÄ±.

## KullanÄ±m SenaryolarÄ±

| Senaryo | Durum | Ã‡Ã¶zÃ¼m (Politika UygulamasÄ±) | Beklenen DavranÄ±ÅŸ / SonuÃ§ |
| :------ | :---- | :--------------------------- | :------------------------ |
| **Kurumsal Portal** | YalnÄ±zca kayÄ±tlÄ± kullanÄ±cÄ±lar portal arayÃ¼zÃ¼ne eriÅŸebilmeli | Username/password/nonce/created deÄŸiÅŸkenleri Secret Manager'dan seÃ§ilir, Add User to Header aktif edilir | BaÅŸarÄ±lÄ± kullanÄ±cÄ± bilgisi `X-Authenticated-UserId` baÅŸlÄ±ÄŸÄ±na taÅŸÄ±nÄ±r, diÄŸer istekler 401 dÃ¶ner |
| **Operasyon API'si** | Operasyon ekip IP listesi dÄ±ÅŸÄ±nda eriÅŸim olmamalÄ± | checkClientIpAddress aktif edilir, IP deÄŸiÅŸkenleri Secret Manager'da gÃ¼ncellenir | Liste dÄ±ÅŸÄ± IP'den gelen digest istekleri 401 dÃ¶ner, loglanÄ±r |
| **ÃœÃ§Ã¼ncÃ¼ Parti Entegrasyon** | Partner servis rol bazlÄ± yetkiye ihtiyaÃ§ duyuyor | enableAuthorization aÃ§Ä±lÄ±r, Authorization API seÃ§ilir, roller header'a eklenir | DoÄŸrulanan kullanÄ±cÄ± rolleri `X-Authenticated-UserRoles` iÃ§inde upstream servise iletilir |
| **CanlÄ± BakÄ±m ZamanÄ±** | BakÄ±mda geÃ§ici olarak digest devre dÄ±ÅŸÄ± bÄ±rakÄ±lmalÄ± | Politika pasif yapÄ±lÄ±r, aÃ§Ä±klamaya bakÄ±m notu eklenir | Ä°stekler digest kontrolÃ¼ olmadan geÃ§er, bakÄ±m sonrasÄ± tekrar aktive edilir |
| **Mikroservis GÃ¼venliÄŸi** | BazÄ± endpoint'lerde ek gÃ¼venlik gerekiyor | Query Builder ile `/admin/*` path'ine koÅŸul eklenir, Clear Auth kapatÄ±lÄ±r | Sadece yÃ¶netim endpoint'lerinde digest Ã§alÄ±ÅŸÄ±r, diÄŸerlerinde politika devreye girmez |
| **Test OrtamÄ± SimÃ¼lasyonu** | QA ortamÄ±nda farklÄ± kullanÄ±cÄ± seti kullanÄ±lacak | Export alÄ±nÄ±r, test ortamÄ±nda import edilip Secret Manager deÄŸiÅŸkenleri QA kullanÄ±cÄ±larÄ±yla gÃ¼ncellenir | QA ortamÄ± kendi digest kimlik bilgileriyle izole Ã§alÄ±ÅŸÄ±r |

## Politika Parametrelerini YapÄ±landÄ±rma

Bu adÄ±mda, kullanÄ±cÄ± **yeni bir politika oluÅŸturabilir** ya da **mevcut politika parametrelerini yapÄ±landÄ±rarak** eriÅŸim kurallarÄ±nÄ± belirleyebilir.

### Yeni Digest Kimlik DoÄŸrulama PolitikasÄ± OluÅŸturma

<img src="/images/gelistirici/politikalar/digest-kimlik-dogrulama-1.png" alt="Digest Kimlik DoÄŸrulama PolitikasÄ± YapÄ±landÄ±rma" width="1000" />

#### YapÄ±landÄ±rma AdÄ±mlarÄ±

| AdÄ±m | AÃ§Ä±klama / Ä°ÅŸlem |
| :--- | :--------------- |
| **AdÄ±m 1: OluÅŸturma SayfasÄ±na Gitme** | - Sol menÃ¼den **Development â†’ Global Settings â†’ Global Policies â†’ Digest Kimlik DoÄŸrulama PolitikasÄ±** bÃ¶lÃ¼mÃ¼ne gidin.<br />- SaÄŸ Ã¼stteki **[+ Create]** butonuna tÄ±klayÄ±n. |
| **AdÄ±m 2: Temel Bilgileri Girme** | **Policy Status (Politika Durumu):** Aktif/Pasif durumu gÃ¶sterir. Yeni politikalar varsayÄ±lan olarak aktiftir.<br /><br />**Name (Ä°sim) Zorunlu:**<br />Ã–rnek: `Production_DigestAuth`<br />- Benzersiz isim girin, boÅŸlukla baÅŸlamaz.<br />- Sistem otomatik kontrol eder. YeÅŸil tik: kullanÄ±labilir. KÄ±rmÄ±zÄ± Ã§arpÄ±: mevcut isim.<br /><br />**Description (AÃ§Ä±klama):**<br />Ã–rnek: "CanlÄ± ortam iÃ§in digest kimlik doÄŸrulamasÄ±"<br />- Maks. 1000 karakter.<br />- PolitikanÄ±n amacÄ±nÄ± aÃ§Ä±klayÄ±n. |
| **AdÄ±m 3: Secret Manager DeÄŸiÅŸkenlerini SeÃ§me** | Username, Password, Nonce ve Created deÄŸiÅŸkenlerini sÄ±rasÄ±yla belirleyin.<br />- DeÄŸiÅŸken diyaloglarÄ±yla mevcut kayÄ±tlarÄ± gÃ¼ncelleyebilir veya yenilerini seÃ§ebilirsiniz.<br />- Her dÃ¶rt deÄŸiÅŸken seÃ§ilmeden politika kaydedilmez. |
| **AdÄ±m 4: Ä°stemci Kontrollerini Ayarlama** | **Clear Auth:**<br />- Checkbox aktif edilirse, upstream servise gÃ¶nderilmeden Ã¶nce Authorization baÅŸlÄ±ÄŸÄ±nÄ± temizler.<br />- Mikroservis mimarilerinde backend'in ÅŸifre bilgisine eriÅŸmesini engellemek iÃ§in kullanÄ±lÄ±r.<br /><br />**Check Client IP Address:**<br />- Checkbox aktif edilirse, IP kontrolÃ¼ yapÄ±lÄ±r.<br />- Kimlik bilgisi paylaÅŸÄ±mÄ±nÄ± engeller. |
| **AdÄ±m 5: BaÅŸlÄ±k ve Yetkilendirme YapÄ±landÄ±rmasÄ±** | **Add User to Header:**<br />- Toggle aktif edilirse, doÄŸrulanan kullanÄ±cÄ± bilgisi Ã¶zel header ile backend'e iletilir.<br />- **User Header Name** alanÄ± aÃ§Ä±lÄ±r (varsayÄ±lan: `X-Authenticated-UserId`).<br /><br />**AuthorizationConfiguration:**<br />- Yetkilendirme KaynaÄŸÄ±, rol baÅŸlÄ±ÄŸÄ± ve metot kÄ±sÄ±tlarÄ±nÄ± tanÄ±mlayÄ±n. |
| **AdÄ±m 6: KoÅŸul TanÄ±mlama (Ä°steÄŸe BaÄŸlÄ±)** | - **Condition** sekmesine geÃ§in.<br />- KoÅŸullar, politikanÄ±n hangi durumda aktif olacaÄŸÄ±nÄ± belirler.<br /><br />**Ã–rnekler:**<br />- Ortam bazlÄ±: `Header = X-Environment, Operator = Equals, Value = production`<br />- API Key bazlÄ±: `Header = X-API-Key, Starts With = PROD-`<br />- Endpoint bazlÄ±: `Path = /api/admin/*`<br /><br />KoÅŸul tanÄ±mlamazsa politika her zaman aktif<br /><br />Detaylar iÃ§in bakabilirsiniz: [KoÅŸullar (Conditions)](/tr/gelistirici/politikalar/politika-nedir#conditions) |
| **AdÄ±m 7: Hata MesajÄ± Ã–zelleÅŸtirme (Ä°steÄŸe BaÄŸlÄ±)** | - **Error Message Customization** sekmesine gidin.<br />- EriÅŸim reddedildiÄŸinde dÃ¶necek mesajÄ± Ã¶zelleÅŸtirin.<br /><br />**VarsayÄ±lan:**<br />`{ "statusCode": 403, "message": "[Default hata mesajÄ±]" }`<br /><br />**Ã–zel:**<br />`{ "statusCode": 403, "errorCode": "[CUSTOM_ERROR_CODE]", "message": "[Ã–zel mesaj]" }` |
| **AdÄ±m 8: Kaydetme** | - SaÄŸ Ã¼stteki **[Save]** butonuna tÄ±klayÄ±n.<br /><br />**Kontrol Listesi:**<br />- Benzersiz isim<br />- Zorunlu alanlar dolu<br />- En az bir digest deÄŸiÅŸken seti seÃ§ili<br /><br />**SonuÃ§:**<br />- Politika listeye eklenir.<br />- API Proxy (API Vekil Sunucusu)'lere baÄŸlanabilir.<br />- Global politikaysa otomatik uygulanÄ±r. |

**KoÅŸullar (Conditions)** ve **Hata MesajÄ± Ã–zelleÅŸtirme (Error Message Customization)** panellerinin detayÄ± iÃ§in [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±nÄ± ziyaret edebilirsiniz.

## PolitikayÄ± Silme

Bu politikanÄ±n silme adÄ±mlarÄ± ve kullanÄ±mdayken uygulanacak iÅŸlemler, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **PolitikayÄ± Silme** bÃ¶lÃ¼mÃ¼nde detaylÄ± olarak aÃ§Ä±klanmÄ±ÅŸtÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me bakabilirsiniz: [PolitikayÄ± Silme](/tr/gelistirici/politikalar/politika-nedir#politikayÄ±-silme)

## PolitikayÄ± DÄ±ÅŸa/Ä°Ã§e Aktarma

Bu politikanÄ±n dÄ±ÅŸa aktarma (Export) adÄ±mlarÄ± ve kullanÄ±labilecek seÃ§enekler, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **DÄ±ÅŸa Aktarma Ä°ÅŸlemi** bÃ¶lÃ¼mÃ¼nde aÃ§Ä±klanmaktadÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me bakabilirsiniz: [PolitikayÄ± DÄ±ÅŸa/Ä°Ã§e Aktarma](/tr/gelistirici/politikalar/politika-nedir#politikayÄ±-dÄ±ÅŸa-iÃ§e-aktarma)

## PolitikayÄ± API'ye BaÄŸlama

Bu politikanÄ±n API'lere nasÄ±l baÄŸlanacaÄŸÄ±na iliÅŸkin sÃ¼reÃ§, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **PolitikayÄ± API'ye BaÄŸlama** bÃ¶lÃ¼mÃ¼nde detaylandÄ±rÄ±lmÄ±ÅŸtÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me gÃ¶z atabilirsiniz: [PolitikayÄ± API'ye BaÄŸlama](/tr/gelistirici/politikalar/politika-nedir#politikayÄ±-apiye-baÄŸlama)

## Ä°leri DÃ¼zey Ã–zellikler

| Ã–zellik | AÃ§Ä±klama ve AdÄ±mlar |
| :------ | :------------------ |
| **Yetkilendirme KaynaÄŸÄ± SenaryolarÄ±** | - AuthorizationConfiguration bileÅŸeninden LDAP, Database veya API kaynaÄŸÄ±nÄ± seÃ§in.<br />- Rol eÅŸlemesi iÃ§in credentialRoleIdList listesini doldurun.<br />- Use Secret Manager seÃ§eneÄŸi ile hassas baÄŸlantÄ± bilgilerini yÃ¶netilebilir deÄŸiÅŸkenlerde tutun. |
| **Metot BazlÄ± EriÅŸim KontrolÃ¼** | - enableMethodAccess seÃ§eneÄŸini aktif edin.<br />- policyAuthorizationMethodDefList altÄ±nda HTTP metodunu ve gerekli rolÃ¼ eÅŸleÅŸtirin.<br />- Yetkisi olmayan metod Ã§aÄŸrÄ±larÄ± iÃ§in Ã¶zel hata mesajÄ± tanÄ±mlayÄ±n. |
| **Rol BaÅŸlÄ±ÄŸÄ± YerleÅŸimi** | - addRolesToHeader seÃ§eneÄŸini iÅŸaretleyin.<br />- rolesHeaderName alanÄ±nÄ± hedef servisin beklediÄŸi baÅŸlÄ±ÄŸa gÃ¶re gÃ¼ncelleyin.<br />- BaÅŸarÄ±lÄ± doÄŸrulamada roller otomatik olarak oluÅŸturulmuÅŸ baÅŸlÄ±kta iletilsin. |

## Best Practices

### YapÄ±lmasÄ± Gerekenler ve En Ä°yi Uygulamalar

| Kategori | AÃ§Ä±klama / Ã–neriler |
| :------- | :------------------ |
| **Secret Manager YÃ¶netimi** | **KÃ¶tÃ¼:** Digest kullanÄ±cÄ±larÄ±nÄ± dÃ¼z metinle saklamak<br />**Ä°yi:** Secret Manager'de deÄŸiÅŸken oluÅŸturmak<br />**En Ä°yi:** DeÄŸiÅŸkenlere eriÅŸimi RBAC ile sÄ±nÄ±rlandÄ±rmak |
| **Authorization Header KullanÄ±mÄ±** | **KÃ¶tÃ¼:** Clear Auth kapalÄ±yken hassas baÅŸlÄ±ÄŸÄ± ilerletmek<br />**Ä°yi:** Clear Auth'Ä± hassas entegrasyonlarda aktif tutmak<br />**En Ä°yi:** Clear Auth artÄ± Ã¶zel log maskeleme uygulamak |
| **KoÅŸul TasarÄ±mÄ±** | **KÃ¶tÃ¼:** PolitikanÄ±n her isteÄŸe uygulanmasÄ±<br />**Ä°yi:** YalnÄ±zca yÃ¶netim endpoint'lerine koÅŸul koymak<br />**En Ä°yi:** KoÅŸullarÄ± ortam, metot ve header kombinasyonlarÄ±na gÃ¶re optimize etmek |
| **Rol Ä°letimi** | **KÃ¶tÃ¼:** Roller olmadan downstream yetkilendirmeye gÃ¼venmek<br />**Ä°yi:** Roller iÃ§in default header kullanmak<br />**En Ä°yi:** Add Roles to Header + imzalÄ± header validasyonu uygulamak |
| **Versiyonlama** | **KÃ¶tÃ¼:** DeÄŸiÅŸiklikleri kaydetmeden Ã¶nce yedek almamak<br />**Ä°yi:** Export alÄ±p saklamak<br />**En Ä°yi:** Export dosyalarÄ±nÄ± kurumsal versiyon yÃ¶netiminde arÅŸivlemek |

### GÃ¼venlik En Ä°yi UygulamalarÄ±

| GÃ¼venlik AlanÄ± | AÃ§Ä±klama / UyarÄ±lar |
| :-------------- | :------------------ |
| **Kimlik Bilgisi KorumasÄ±** | Secret Manager eriÅŸimlerini denetleyin, deÄŸiÅŸkenleri uygulama kaynak koduna gÃ¶mmeyin. |
| **Replay KorumasÄ±** | Nonce ve created deÄŸerlerini zorunlu kÄ±lÄ±n, loglarda maskeleyin. |
| **IP Whitelisting** | checkClientIpAddress seÃ§eneÄŸini, sabit IP'li tÃ¼keticilerde etkinleÅŸtirin. |
| **Log Maskeleme** | Authorization baÅŸlÄ±ÄŸÄ±nÄ± log'larken Ã¶zetleyin veya maskeleme kurallarÄ± uygulayÄ±n. |
| **Yetkilendirme Denetimi** | enableAuthorization aÃ§Ä±kken, rol eÅŸlemelerinin gÃ¼ncel olduÄŸundan emin olmak iÃ§in dÃ¼zenli audit yapÄ±n. |

### KaÃ§Ä±nÄ±lmasÄ± Gerekenler

| Kategori | AÃ§Ä±klama / UyarÄ±lar |
| :------- | :------------------ |
| **Eksik DeÄŸiÅŸken TanÄ±mÄ±** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Zorunlu digest alanlarÄ± olmadan politika istekleri reddeder.<br />**Alternatif:** TÃ¼m deÄŸiÅŸkenleri Secret Manager'dan seÃ§ip test edin. |
| **YanlÄ±ÅŸ Header AdÄ±** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Upstream servis kullanÄ±cÄ± kimliÄŸini okuyamaz.<br />**Alternatif:** userHeaderName'i hedef servisin beklediÄŸi adla eÅŸleÅŸtirin. |
| **KontrolsÃ¼z Clear Auth KapalÄ± KullanÄ±mÄ±** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Authorization baÅŸlÄ±ÄŸÄ± iÃ§ aÄŸda gereksizce yayÄ±lÄ±r.<br />**Alternatif:** Clear Auth'Ä± aÃ§Ä±p gerekli bilgileri Ã¶zel header'da taÅŸÄ±yÄ±n. |
| **Test EdilmemiÅŸ Authorization KurallarÄ±** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** YanlÄ±ÅŸ rol atamalarÄ± Ã¼retim kesintisine yol aÃ§abilir.<br />**Alternatif:** Rolleri GeliÅŸtirme ortamÄ±nda senaryo bazlÄ± test edin. |

### Performans Ä°puÃ§larÄ±

| Kriter | Ã–neri / Etki |
| :----- | :---------- |
| **Secret Manager EriÅŸimi** | **Ã–neri:** SÄ±k kullanÄ±lan deÄŸiÅŸkenleri Secret Manager cache'ine alÄ±n.<br />**Etki:** Kimlik doÄŸrulama gecikmesi azalÄ±r. |
| **Authorization Servis Ã‡aÄŸrÄ±larÄ±** | **Ã–neri:** Harici yetkilendirme API'sini dÃ¼ÅŸÃ¼k gecikmeli halde tutun.<br />**Etki:** Toplam politika yanÄ±t sÃ¼resi dÃ¼ÅŸer. |
| **KoÅŸul DeÄŸerlendirme** | **Ã–neri:** Query Builder'da gereksiz OR bloklarÄ±nÄ± temizleyin.<br />**Etki:** Ä°stek baÅŸÄ±na koÅŸul deÄŸerlendirme sÃ¼resi kÄ±salÄ±r. |
| **Loglama Seviyesi** | **Ã–neri:** BaÅŸarÄ±lÄ± isteklerde log seviyesini INFO yerine DEBUG'a Ã§ekin.<br />**Etki:** YÃ¼ksek trafikte log yazma maliyeti azalÄ±r. |
| **Rol DaÄŸÄ±tÄ±mÄ±** | **Ã–neri:** Role header'larÄ±nÄ± yalnÄ±zca enableAuthorization aktifken Ã¼retin.<br />**Etki:** Gereksiz header oluÅŸturma yÃ¼kÃ¼ ortadan kalkar. |

## SÄ±k Sorulan Sorular (SSS)

| Kategori | Soru (S) | Cevap (C) |
| :------- | :------- | :-------- |
| **Genel** | Digest Kimlik DoÄŸrulama PolitikasÄ± hangi isteklerde devreye girer? | Politika aktif ve koÅŸullarÄ± saÄŸlanan tÃ¼m HTTP/HTTPS isteklerinde Authorization header'Ä± kontrol eder. |
| **Genel** | Clear Auth ne zaman kullanÄ±lmalÄ±? | Upstream servislerin digest header'Ä±na ihtiyaÃ§ duymadÄ±ÄŸÄ±, yalnÄ±zca kullanÄ±cÄ± kimliÄŸine ihtiyaÃ§ duyduÄŸu durumlarda etkinleÅŸtirilmelidir. |
| **Teknik** | Secret Manager deÄŸiÅŸkeni nasÄ±l seÃ§iliyor? | Variable diyalogu ile mevcut deÄŸiÅŸkenler listelenir, seÃ§ilen kayÄ±t otomatik olarak ilgili alanla eÅŸleÅŸtirilir. |
| **Teknik** | Authorization entegrasyonu baÅŸarÄ±sÄ±z olursa ne olur? | Yetkilendirme hata dÃ¶ndÃ¼rÃ¼rse politika 403 Forbidden Ã¼retir ve Ã¶zelleÅŸtirilmiÅŸ hata mesajÄ± tetiklenir. |
| **KullanÄ±m** | AynÄ± kullanÄ±cÄ± iÃ§in farklÄ± nonce deÄŸerleri desteklenir mi? | Evet, nonce deÄŸiÅŸkeni Secret Manager'da dinamik gÃ¼ncellenebilir; replay korumasÄ± iÃ§in Ãºnicos deÄŸerler Ã¶nerilir. |
| **KullanÄ±m** | Politika yerelleÅŸtirilince ne deÄŸiÅŸir? | Localize iÅŸlemi global politikayÄ± kopyalar, yeni politika yalnÄ±zca seÃ§ilen API Proxy (API Vekil Sunucusu) iÃ§inde dÃ¼zenlenir. |

**Bu dokÃ¼man Apinizer Ã¼rÃ¼n dokÃ¼mantasyonunun bir parÃ§asÄ±dÄ±r. Â©ï¸ 2025 Apinizer - TÃ¼m haklarÄ± saklÄ±dÄ±r.**

Bu dokÃ¼mantasyon, Apinizer yazÄ±lÄ±mÄ±nÄ± kullanan kiÅŸi ve kuruluÅŸlar tarafÄ±ndan dahili kullanÄ±m amacÄ±yla serbestÃ§e kullanÄ±labilir, kopyalanabilir ve daÄŸÄ±tÄ±labilir.
