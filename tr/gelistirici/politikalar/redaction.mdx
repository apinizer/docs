---
title: "Veri Değiştirme (Redaction)"
description: "Backend API'den dönen mesajın içindeki başlık, parametre veya gövde alanlarını veya değerlerini koşullu olarak değiştirebilir veya silebilir, farklı kullanıcı tiplerine göre yanıt özelleştirmesi sağlayabilirsiniz"
---

<Tip>
Bu doküman spesifik bir politikanın detaylı kullanımını anlatır. Eğer Apinizer politika yapısını ilk kez kullanıyorsanız veya politikaların genel çalışma prensiplerini öğrenmek istiyorsanız, öncelikle [Politika Nedir?](/tr/apinizer-anlama/temel-kavramlar/politika-nedir) sayfasını okumanızı öneririz.
</Tip>

## Genel Bakış

### Amacı Nedir?

- Backend API'den dönen mesajın içindeki başlık (header), parametre (parameter) veya gövde (body) alanlarını veya değerlerini koşullu olarak değiştirir veya siler.
- Farklı kullanıcı tiplerine göre yanıt özelleştirmesi yaparak, her kullanıcı tipi için ayrı API oluşturma ihtiyacını ortadan kaldırır.
- Mesaj içeriğindeki hassas bilgileri maskeleyerek veya kaldırarak veri gizliliği sağlar.
- Koşul bazlı eylemlerle esnek veri manipülasyonu yapar, numerik, metin ve zaman veri tiplerinde çeşitli operatörler kullanır.

### Çalışma Prensibi

1. **Yanıt Alınması**: Backend API'den dönen mesaj API Gateway'e ulaşır.
2. **Politika Kontrolü**: Veri Değiştirme politikası aktif ise, sistem aşağıdaki sırayla kontrol yapar:
   - Condition (koşul) tanımlı mı? Varsa koşul sağlanıyor mu?
   - Politika aktif mi (active=true)?
   - Kural kümeleri tanımlı mı?
3. **Kural Değerlendirmesi**: Her kural kümesi için:
   - Değişken varlığı veya değişken değeri kontrolü yapılır.
   - Koşul sağlanırsa, tanımlı eylemler sırasıyla uygulanır.
4. **Eylem Uygulama**:
   - **Değiştir (Modify)**: Seçilen alanın değeri, veri tipine göre operatör kullanılarak değiştirilir.
   - **Sil (Delete)**: Seçilen alan veya değer mesajdan kaldırılır.
5. **Sonuç**: Özelleştirilmiş yanıt istemciye iletilir.

### İş Kuralı Politikası ile Farkları

<Tip>
Mesaj içerisinde veri dönüşümü yapıldığı için İş Kuralı politikası (Business Rule) ile karıştırılabilir. Bu iki politika arasındaki farklar;

- İş Kuralı politikası hem istek hattına hem de yanıt hattına eklenirken, Veri Değiştirme politikası sadece yanıt hattına eklenmektedir.
- İş Kuralı politikasında doğrudan eylemler (Ekle, Değiştir, Sil, Akışı Kes) tanımlanabilirken, Veri Değiştirme politikasında belirli bir alan ya da alanın değeri ile karşılaşıldığında eylemler (Değiştir, Sil) tanımlanır.
</Tip>

## Özellikler ve Yetenekler

### Temel Özellikler

- **Koşullu Veri Manipülasyonu**: Değişken varlığı veya değişken değerine göre mesaj içeriğini dinamik olarak değiştirir veya siler.
- **Çoklu Veri Tipi Desteği**: Numerik, metin ve zaman veri tiplerinde çeşitli operatörlerle işlem yapar.
- **Esnek Eylem Tanımlama**: Bir kurala birden fazla eylem eklenebilir, eylemler sırasıyla uygulanır.
- **Değişken Bazlı Erişim**: Mesajın başlık, parametre veya gövde alanlarına değişkenlerle erişim sağlar.
- **Aktif/Pasif Durum Kontrolü**: Politikanın aktif veya pasif durumunu kolayca değiştirme (active/passive toggle). Pasif durumda politika uygulanmaz ancak yapılandırması saklanır.
- **Koşul Bazlı Uygulama**: Query Builder ile karmaşık koşullar oluşturarak politikanın ne zaman uygulanacağını belirleme (örn: sadece belirli endpoint'lere veya header değerlerine göre).

### İleri Düzey Özellikler

- **Gelişmiş Metin İşlemleri**: Base64 encode/decode, mask, format, substring, replace, transform gibi metin manipülasyon operatörleri.
- **Matematiksel İşlemler**: Numerik değerlerde toplama, çıkarma, çarpma, bölme, mod alma, üs alma işlemleri.
- **Zaman Manipülasyonu**: Zaman değerlerine ekleme veya çıkarma işlemleri.
- **XSLT ve JOLT Dönüşümleri**: Transform operatörü ile XML ve JSON dönüşümleri yapabilir.
- **Export/Import Özelliği**: Politika yapılandırmasını ZIP dosyası olarak export etme. Farklı ortamlara (Development, Test, Production) import etme. Versiyon kontrolü ve yedekleme imkanı.
- **Policy Group ve Proxy Group Desteği**: Birden fazla politikayı Policy Group içinde yönetme. Proxy Group'lara toplu politika atama. Merkezi güncelleme ve deploy işlemleri.
- **Deploy ve Versiyonlama**: Politika değişikliklerini canlı ortama deploy etme. Hangi API Proxy'lerde kullanıldığını görme (Policy Usage). Proxy Group ve Policy Group kullanım raporları.

## Kullanım Senaryoları

| Senaryo | Durum | Çözüm (Politika Uygulaması) | Beklenen Davranış / Sonuç |
|---------|-------|----------------------------|---------------------------|
| Hassas Bilgi Maskeleme | API yanıtında kredi kartı numarası, telefon numarası gibi hassas bilgilerin gizlenmesi gerekiyor | Mask operatörü kullanılarak belirli karakterler `*` ile değiştirilir. | Hassas bilgiler maskelenmiş şekilde istemciye iletilir. |
| Kullanıcı Tipine Göre Veri Filtreleme | Farklı kullanıcı tiplerine farklı veri setleri gösterilmesi gerekiyor | Kullanıcı tipine göre koşul tanımlanır, ilgili alanlar silinir veya değiştirilir. | Her kullanıcı tipi kendi yetkisi dahilindeki verileri görür. |
| Fiyat Bilgisi Özelleştirme | Farklı müşteri segmentlerine farklı fiyatlandırma gösterilmesi gerekiyor | Fiyat alanı değişken değerine göre değiştirilir, indirim oranları uygulanır. | Müşteri segmentine göre özelleştirilmiş fiyatlar gösterilir. |
| Header Temizleme | Backend'den gelen bazı header'ların istemciye iletilmemesi gerekiyor | İlgili header alanları silme eylemi ile kaldırılır. | Belirtilen header'lar yanıttan çıkarılır. |
| Veri Dönüşümü | Backend'den gelen verinin formatının değiştirilmesi gerekiyor | Transform operatörü ile XSLT veya JOLT dönüşümü uygulanır. | Veri istenen formata dönüştürülerek iletilir. |
| Base64 Kodlama/Çözme | Mesaj içeriğindeki Base64 kodlanmış verilerin işlenmesi gerekiyor | Encode Base64 veya Decode Base64 operatörü kullanılır. | Veriler kodlanır veya çözülür. |
| Zaman Bilgisi Manipülasyonu | Yanıttaki zaman bilgilerinin farklı zaman dilimlerine göre ayarlanması gerekiyor | Zaman tipinde ekleme veya çıkarma işlemi yapılır. | Zaman bilgileri istenen zaman dilimine göre ayarlanır. |
| API Proxy Grubunda Standartlaştırma *(opsiyonel)* | Aynı veri manipülasyon kuralını çoklu API Proxy üzerinde uygulama | Politika Policy Group'a eklenir, Proxy Group'a bağlanır, merkezi deploy yapılır. | Tüm bağlı API Proxy örnekleri aynı Veri Değiştirme kuralını kullanır. |

## Politika Parametrelerini Yapılandırma

Bu adımda, kullanıcı **yeni bir politika oluşturabilir** ya da **mevcut politika parametrelerini yapılandırarak** veri manipülasyon kurallarını belirleyebilir. Tanımlanan parametreler, politikanın çalışma şeklini (örneğin hangi alanların değiştirileceği, hangi koşullarda eylem yapılacağı, koşullu aktivasyonlar vb.) doğrudan etkiler. Bu sayede politika hem kuruma özel gereksinimlere göre özelleştirilebilir hem de merkezi olarak yönetilebilir.

### Yeni Veri Değiştirme Politikası Oluşturma

### Yapılandırma Adımları

| Adım | Açıklama / İşlem |
|------|------------------|
| **Adım 1: Oluşturma Sayfasına Gitme** | - Sol menüden **Development → Global Settings → Global Policies → Redaction** bölümüne gidin.<br />- Sağ üstteki **[+ Create]** butonuna tıklayın. |
| **Adım 2: Temel Bilgileri Girme** | **Policy Status (Politika Durumu):** Aktif/Pasif durumu gösterir. Yeni politikalar varsayılan olarak aktiftir.<br /><br />**Name (İsim) Zorunlu:** Örnek: `Production_DataRedaction`<br />- Benzersiz isim girin, boşlukla başlamaz.<br />- Sistem otomatik kontrol eder. Yeşil tik: kullanılabilir. Kırmızı çarpı: mevcut isim.<br /><br />**Description (Açıklama):** Örnek: "Üretim servisi için hassas bilgi maskeleme kuralı"<br />- Maks. 1000 karakter.<br />- Politikanın amacını açıklayın. |
| **Adım 3: Kural Kümesi Oluşturma** | **Kural Kümeleri (Rule Sets):**<br />- **[+ Add Rule Set]** butonuna tıklayarak yeni kural ekleyin.<br />- Her kural kümesi için aşağıdaki adımları takip edin. |
| **Adım 4: Kural Konfigürasyonu** | **Şuna göre düzelt (Redact By):**<br />- **Değişken varlığı (Existence of a variable):** Mesajın hangi öğesine (başlık, parametre, gövde) bakılacağını belirtir.<br />- **Değişken değer (Value of a variable):** Öğenin hangi değerlerde olması gerektiğini belirtir.<br /><br />**Kural kümesi için değişken (Variable for rule set):** Mesaj içindeki öğeye erişmek için değişken seçin.<br /><br />**Değerler (Values):** Değişken değer seçildiyse, virgülle ayrılmış değerleri girin. |
| **Adım 5: Eylem Tanımlama** | **Eylem Tanımları:**<br />- **[+ Add Action]** butonuna tıklayarak eylem ekleyin.<br />- **Değiştir (Modify)** veya **Sil (Delete)** eylemlerinden birini seçin.<br />- Eylemler sırasıyla uygulanır, sıralamayı değiştirebilirsiniz. |
| **Adım 6: Değiştir Eylemi Yapılandırma** | **Değişkeni Değiştir (Modify Variable):** Değiştirilecek öğeyi belirtmek için değişken seçin.<br /><br />**Değişken Veri Tipini (Variable Data Type):** Numerik, Metin veya Zaman seçin.<br /><br />**Operatör (Operator):** Veri tipine göre uygun operatörü seçin (örn: Replace, Mask, Ekleme, vb.).<br /><br />**Değer Kaynağı (Target Value Source Type):**<br />- **Değeri Belirtin (Specify the Value):** Manuel değer girin.<br />- **Değişken Kullan (Use a Variable):** Değişkenden değer alın.<br /><br />**Değer (Value)** veya **Hedefteki değer kaynağı için değişken (Variable for target value source):** İlgili alanı doldurun. |
| **Adım 7: Sil Eylemi Yapılandırma** | **Sil (Delete):** Silinecek öğeyi belirtmek için değişken seçin. Bu eylem bulunamazsa hata vermez, diğer işlemlere devam eder. |
| **Adım 8: Koşul Tanımlama (İsteğe Bağlı)** | - **Condition** sekmesine geçin.<br />- Koşullar, politikanın hangi durumda aktif olacağını belirler.<br /><br />**Örnekler:**<br />- Ortam bazlı: `Header = X-Environment, Operator = Equals, Value = production`<br />- Endpoint bazlı: `Path = /api/admin/*`<br />- Kullanıcı tipi bazlı: `Header = X-User-Type, Operator = Equals, Value = premium`<br /><br />Koşul tanımlamazsa politika her zaman aktif. |
| **Adım 9: Hata Mesajı Özelleştirme (İsteğe Bağlı)** | - **Error Message Customization** sekmesine gidin.<br />- Eylem başarısız olduğunda dönecek mesajı özelleştirin.<br /><br />**Varsayılan:**<br />`{ "statusCode": 500, "message": "[Default hata mesajı]" }`<br /><br />**Özel:**<br />`{ "statusCode": 500, "errorCode": "[CUSTOM_ERROR_CODE]", "message": "[Özel mesaj]" }` |
| **Adım 10: Kaydetme** | - Sağ üstteki **[Save]** butonuna tıklayın.<br /><br />**Kontrol Listesi:** Benzersiz isim. Zorunlu alanlar dolu. En az bir kural kümesi tanımlanmış.<br /><br />**Sonuç:**<br />- Politika listeye eklenir.<br />- API'lere bağlanabilir.<br />- Global politikaysa otomatik uygulanır. |

## Kural ve Eylem Detayları

### Kural Oluşturma

Kural, yanıtın neye göre düzeltileceğini belirten kriterdir. Eylem ise bu kriter ile karşılaşıldığında mesajda yapılacak düzenleme işlemidir.

Bir kurala birden fazla eylem eklenebilir. Verilen eylem sırasına göre mesaj özelleştirme yapılır. Ek olarak, politikada birden fazla kural olabilir.

Kural konfigürasyonu için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan | Açıklama |
|------|----------|
| **Şuna göre düzelt (Redact By)** | Düzeltme işlemi, gönderilen mesaj içerisinden seçilecek farklı değerlere göre yapılabilir.<br/><br/>**Değişken varlığı (Existence of a variable):** Kural uygulanırken mesajın hangi öğesine (başlık, parametre, gövde) bakması gerektiği söylenir.<br/><br/>**Değişken değer (Value of a variable):** Kural uygulanırken mesajın içerisindeki öğenin hangi değerlerde olması gerektiği belirtilir. |
| **Kural kümesi için değişken (Variable for rule set)** | Mesaj içindeki öğeye erişmek için bir değişken seçilir. |
| **Değerler (Values)** | Eğer düzeltme yönetimi Değişken değer olarak seçilmişse, bu alan aktif olur. Değişken ile seçilen alanda hangi değerlerin olması gerektiği virgül ile ayrılarak yazılmalıdır. |
| **Eylem Tanımları** | Bu tabloda uygulanabilecek eylemler çalışma sırasına göre listelenir ya da yenisi tanımlanabilir. |

### Eylem Oluşturma

2 tip eylem seçilebilir:

- **Değiştir (Modify):** İsteğin/yanıtın başlık, parametre veya gövdesi içerisinde var olan bir alanın değeri değiştirilir.
- **Sil (Delete):** İsteğin/yanıtın başlık, parametre veya gövdesi içerisinde var olan bir alanın değeri veya alanın tamamı silinir.

#### Düzenleme Eylemi

Mesajın, başlık, parametre ya da gövdesindeki değeri değiştirmek için kullanılır.

Bu eylem seçildiğinde mesajda eklenmek istenen değerin olduğu varsayılır, bulunamaması durumunda politika hata verir. Kuralın koşul kısmında buna dikkat edilmelidir.

Düzenleme eylemi konfigürasyonu için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan | Açıklama |
|------|----------|
| **Değişkeni Değiştir (Modify Variable)** | Mesajın hangi öğesi değiştirileceğini belirtmek için değişken seçilir. |
| **Değişken Veri Tipini (Variable Data Type)** | Değişken değerinin, hangi veri tipinde olduğu belirtilir. Aşağıdaki tabloda detayları yer almaktadır. |
| **Operatör (Operator)** | Veri tipinde hangi işlemin uygulanacağı seçilir. Aşağıdaki tabloda detayları yer almaktadır. |
| **Değer Kaynağı (Target Value Source Type)** | Değer kaynağının nereden alınacağını seçilir.<br/><br/>**Değeri Belirtin (Specify the Value):** Bu seçenek seçildiğinde, kaynağın değeri manuel olarak girilir.<br/><br/>**Değişken Kullan (Use a Variable):** Bu seçenek ile, değer değişkeninden oluşturulur. |
| **Değer (Value)** | Değiştirilecek öğenin değeri yazılır. |
| **Hedefteki değer kaynağı için değişken (Variable for target value source)** | Değiştirilecek öğenin değeri değişkenden seçilir. |

##### Veri Tipi ve Operatörler

Veri tipi (Variable Data Type) ve bu veri tiplerine ait işlemler (Operator) şunlar olabilir:

| Veri Tipi | Eylem | Açıklama |
|-----------|-------|----------|
| **Numerik** | Ekleme | Değiştirilecek olan değer ile hedef değeri toplayarak değiştirir. |
| | Silme | Değiştirilecek olan değerden hedef değeri silerek değiştirir. |
| | Çarpma | Değiştirilecek olan değer ile hedef değeri çarparak değiştirir. |
| | Bölme | Değiştirilecek olan değer ile hedef değeri bölerek değiştirir. |
| | Mod Alma | Değiştirilecek olan değerin hedef değere göre modunu alarak değiştirir. |
| | Üssünü Alma | Değiştirilecek olan değerin hedef değer kadar üssünü alarak değiştirir. |
| **Metin** | Concat | Değiştirilecek olan değerin sonuna hedef değeri bitiştirir. |
| | Decode Base64 | Değiştirilecek olan değeri Base64 şifre çözme işlemine tabi tutarak değiştirir. |
| | Encode Base64 | Değiştirilecek olan değeri Base64 şifreleme işlemine tabi tutarak değiştirir. |
| | Format | javax.swing.text.MaskFormatter sınıfında belirtildiği özellikler ile değeri maskeleyerek değiştirir. |
| | Insert | Değiştirilecek olan değerin belirtilen metin indeksinden itibaren hedef değeri yazarak değiştirir. |
| | Mask | Değiştirilecek olan değeri tamamını ya da metin indeksleri ile belirtilen aralığını maskeleyerek değiştirir. |
| | Replace First | Değiştirilecek olan değerde belirtilen değiştirme verisinin ilk eşleşenini hedef değer ile değiştirir. |
| | Replace | Değiştirilecek olan değer içindeki belirtilen değiştirme verisinin tüm eşleşenlerini hedef değer ile değiştirir. |
| | Replace With | Değiştirilecek olan değeri hedef değer ile tamamen değiştirir. |
| | Substring | Değiştirilecek olan değerin belirtilen metin indeksleri kısmının dışında kalan alanları silerek değiştirir. |
| | Transform | Değiştirilecek olan değeri XSLT veya JOLT işlemine tabi tutarak değiştirir. |
| | Trim | Değiştirilecek olan değerin başındaki ve sonundaki boşlukları kaldırır. |
| **Zaman** | Ekleme | Değiştirilecek olan değere belirtilen zaman birimi ve miktarını ekler. |
| | Silme | Değiştirilecek olan değere belirtilen zaman birimi ve miktarını siler. |

#### Silme Eylemi

Mesajın, başlık, parametre ya da gövdesindeki değeri silmek için kullanılır.

Bu eylem seçildiğinde mesajda silinmek istenen değerin olduğu varsayılır, bulunamaması durumunda politika hata vermez, diğer işlemlere devam edilir.

Mesajın neresinin silineceği değişken ile belirtilir.

**Koşullar** ve **Hata Mesajı Özelleştirme** panellerinin açıklaması için [Politika Nedir?](/tr/apinizer-anlama/temel-kavramlar/politika-nedir) sayfasındaki [Koşullar](/tr/apinizer-anlama/temel-kavramlar/politika-nedir#koşullar) ve [Hata Mesajı Özelleştirme (Error Message Customization)](/tr/apinizer-anlama/temel-kavramlar/politika-nedir#hata-mesajı-özelleştirme-error-message-customization) bölümlerini inceleyebilirsiniz.

## Politikayı Silme

Bu politikanın silme adımları ve kullanımdayken uygulanacak işlemler için [Politika Yönetimi](/tr/gelistirici/api-proxy-konfigurasyonu/politika-yonetimi) sayfasındaki [Akıştan Politika Kaldırma](/tr/gelistirici/api-proxy-konfigurasyonu/politika-yonetimi#akıştan-politika-kaldırma) bölümüne bakabilirsiniz.

## Politikayı Dışa/İçe Aktarma

Bu politikanın dışa aktarma (Export) ve içe aktarma (Import) adımları için [Export/Import](/tr/admin/gizlilik-yonetimi/export-import) sayfasına bakabilirsiniz.

## Politikayı API'ye Bağlama

Bu politikanın API'lere nasıl bağlanacağına ilişkin süreç için [Politika Yönetimi](/tr/gelistirici/api-proxy-konfigurasyonu/politika-yonetimi) sayfasındaki [Politikayı API'ye Bağlama](/tr/gelistirici/api-proxy-konfigurasyonu/politika-yonetimi#akışa-politika-ekleme) bölümüne bakabilirsiniz.

## İleri Düzey Özellikler

| Özellik | Açıklama ve Adımlar |
|---------|---------------------|
| **XSLT ve JOLT Dönüşümleri** | - Transform operatörü ile XML ve JSON verilerini dönüştürebilirsiniz.<br />- XSLT şablonları veya JOLT spec dosyaları kullanarak karmaşık dönüşümler yapabilirsiniz.<br />- Dönüşüm şablonları değişkenlerden veya manuel olarak girilebilir. |
| **Koşullu Maskeleme** | - Mask operatörü ile hassas bilgilerin belirli kısımlarını maskeleyebilirsiniz.<br />- Metin indeksleri kullanarak maskeleme aralığını belirleyebilirsiniz.<br />- Format operatörü ile telefon numarası, kredi kartı gibi formatlı verileri maskeleyebilirsiniz. |
| **Çoklu Kural Yönetimi** | - Birden fazla kural kümesi tanımlayarak farklı senaryolar için ayrı kurallar oluşturabilirsiniz.<br />- Her kural kümesi bağımsız olarak çalışır ve kendi eylemlerini uygular.<br />- Kural kümeleri arasında öncelik sırası yoktur, tüm kurallar değerlendirilir. |
| **Değişken Bazlı Dinamik Değerler** | - Değer kaynağı olarak değişken kullanarak dinamik değer atamaları yapabilirsiniz.<br />- İstek veya yanıt içindeki diğer alanlardan değer alarak işlem yapabilirsiniz.<br />- Proje değişkenlerini kullanarak merkezi değer yönetimi sağlayabilirsiniz. |

## Best Practices

### Yapılması Gerekenler ve En İyi Uygulamalar

| Kategori | Açıklama / Öneriler |
|----------|---------------------|
| **Kural Tasarımı** | **Kötü:** Tüm alanları tek bir kuralda değiştirmeye çalışmak.<br />**İyi:** İlgili alanları mantıksal gruplara ayırarak ayrı kural kümeleri oluşturmak.<br />**En İyi:** Her kullanıcı tipi veya senaryo için özel kural kümeleri tanımlamak, koşulları net belirlemek. |
| **Eylem Sıralaması** | **Kötü:** Eylemleri rastgele sıralamak.<br />**İyi:** Mantıksal sıraya göre eylemleri düzenlemek (önce değiştir, sonra sil).<br />**En İyi:** Eylemlerin birbirini etkilemeyeceğinden emin olmak, test senaryolarıyla doğrulamak. |
| **Değişken Yönetimi** | **Kötü:** Her kuralda farklı değişkenler kullanmak, tutarsızlık yaratmak.<br />**İyi:** Standart değişken setleri kullanmak, değişken isimlendirmelerini tutarlı tutmak.<br />**En İyi:** Proje değişkenlerini merkezi olarak yönetmek, dokümantasyon yapmak. |
| **Koşul Kullanımı** | **Kötü:** Koşul tanımlamadan tüm isteklere politika uygulamak.<br />**İyi:** Temel koşullar tanımlayarak gereksiz işlem yükünden kaçınmak.<br />**En İyi:** Karmaşık koşulları Query Builder ile optimize etmek, performans testleri yapmak. |
| **Hata Yönetimi** | **Kötü:** Hata mesajlarını varsayılan bırakmak, kullanıcıya anlamlı bilgi vermemek.<br />**İyi:** Özel hata mesajları tanımlamak, hata kodları eklemek.<br />**En İyi:** Hata senaryolarını önceden düşünmek, test etmek, loglama stratejisi belirlemek. |
| **Politika Yaşam Döngüsü** | **Kötü:** Üretim değişikliklerini direkt canlıda yapmak.<br />**İyi:** Test ortamında aynı politikayı localize edip denemek.<br />**En İyi:** Export/Import ile sürüm oluşturup Deploy sonrası kullanım raporlarını izlemek. |

### Güvenlik En İyi Uygulamaları

| Güvenlik Alanı | Açıklama / Uyarılar |
|----------------|---------------------|
| **Hassas Bilgi Maskeleme** | Kredi kartı numarası, telefon, email gibi hassas bilgileri mutlaka maskeleyin; tam silme yerine mask kullanarak veri bütünlüğünü koruyun. |
| **Değişken Doğrulama** | Değişken varlığı kontrolü yapmadan eylem uygulamayın; bulunamayan değerler için hata yönetimi ekleyin. |
| **Eylem Güvenliği** | Silme eylemlerini dikkatli kullanın; kritik alanları silmeden önce koşulları net belirleyin, test edin. |
| **Performans Optimizasyonu** | Karmaşık Transform işlemlerini minimize edin; XSLT/JOLT şablonlarını optimize edin, gereksiz işlem yükünden kaçının. |
| **Loglama Stratejisi** | Maskeleme veya silme işlemlerini loglayın ancak hassas bilgileri loglara yazmayın; audit trail için güvenli loglama yapın. |

### Kaçınılması Gerekenler

| Kategori | Açıklama / Uyarılar |
|----------|---------------------|
| **Yanlış Veri Tipi Seçimi** | **Neden kaçınılmalı:** Numerik operatörü metin değerine uygulamak hata üretir veya beklenmeyen sonuçlar verir.<br />**Alternatif:** Değişken değerinin veri tipini önceden doğrulayın, uygun operatör seçin. |
| **Eksik Koşul Tanımlama** | **Neden kaçınılmalı:** Koşul tanımlamadan tüm yanıtlara politika uygulamak performans sorunlarına yol açar.<br />**Alternatif:** Mutlaka koşul tanımlayın, sadece gerekli durumlarda politika aktif olsun. |
| **Değişken Erişim Hataları** | **Neden kaçınılmalı:** Var olmayan değişkenlere erişmeye çalışmak politika hatalarına neden olur.<br />**Alternatif:** Değişken varlığı kontrolü yapın, hata yönetimi ekleyin. |
| **Global Değişiklikleri Doğrudan Deploy Etmek** | **Neden kaçınılmalı:** Çoklu API Proxy aynı anda etkilenir, servis kesintisi doğabilir.<br />**Alternatif:** Önce lokalize edip test edin, sonra global politikayı güncelleyin. |

### Performans İpuçları

| Kriter | Öneri / Etki |
|--------|--------------|
| **Kural Sayısı** | **Öneri:** Gereksiz kural kümelerini azaltın, benzer kuralları birleştirin.<br />**Etki:** Politika değerlendirme süresi kısalır, CPU yükü düşer. |
| **Eylem Karmaşıklığı** | **Öneri:** Karmaşık Transform işlemlerini minimize edin, basit operatörleri tercih edin.<br />**Etki:** İşlem süresi kısalır, bellek kullanımı azalır. |
| **Koşul Optimizasyonu** | **Öneri:** Koşulları basit tutun, karmaşık koşulları parçalara ayırın.<br />**Etki:** Koşul değerlendirme hızlanır, erken çıkış sağlanır. |
| **Değişken Erişimi** | **Öneri:** Sık kullanılan değişkenleri önbelleğe alın, gereksiz değişken erişimlerinden kaçının.<br />**Etki:** Değişken çözümleme süresi kısalır, performans artar. |

## Sık Sorulan Sorular (SSS)

| Kategori | Soru | Cevap |
|----------|----------|-----------|
| **Genel** | Veri Değiştirme politikası hangi senaryolarda tercih edilmeli? | Backend API'den dönen mesajların içeriğinin kullanıcı tipine, koşula veya güvenlik gereksinimlerine göre değiştirilmesi veya filtrelenmesi gereken tüm durumlarda kullanılabilir. |
| **Genel** | İş Kuralı politikası ile Veri Değiştirme politikası arasındaki fark nedir? | İş Kuralı politikası hem istek hem de yanıt hattında çalışır ve doğrudan eylemler tanımlanabilir. Veri Değiştirme politikası sadece yanıt hattında çalışır ve koşullu eylemler tanımlanır. |
| **Teknik** | Değiştir eylemi bulunamayan bir değere uygulanırsa ne olur? | Politika hata verir ve yanıt iletilmez. Bu durumu önlemek için kural koşulunda değişken varlığı kontrolü yapılmalıdır. |
| **Teknik** | Sil eylemi bulunamayan bir değere uygulanırsa ne olur? | Politika hata vermez, diğer işlemlere devam eder. Bu davranış silme eyleminin güvenli çalışmasını sağlar. |
| **Kullanım** | Bir kurala birden fazla eylem eklenebilir mi? | Evet, bir kurala birden fazla eylem eklenebilir. Eylemler tanımlandıkları sıraya göre uygulanır. |
| **Kullanım** | Transform operatörü ile hangi dönüşümler yapılabilir? | XSLT şablonları ile XML dönüşümleri veya JOLT spec dosyaları ile JSON dönüşümleri yapılabilir. |
| **Kullanım** | Mask operatörü nasıl kullanılır? | Mask operatörü ile metin değerlerinin tamamı veya belirtilen indeks aralığı maskeleme karakteri (genellikle `*`) ile değiştirilir. |
