---
title: 'SAML Kimlik DoÄŸrulama (SAML Validation)'
description: 'Gelen SAML mesajlarÄ±nÄ±n imza doÄŸrulamasÄ±nÄ± JKS key store ile yapar ve isteÄŸe baÄŸlÄ± olarak SAML bloklarÄ±nÄ± temizler'
---

**Son GÃ¼ncelleme:** 11 KasÄ±m 2025  
**Hedef Kitle:** Sistem YÃ¶neticileri, Backend GeliÅŸtiriciler, DevOps MÃ¼hendisleri

**ğŸ’¡ Politikalar hakkÄ±nda bilginiz var mÄ±?**  
Bu dokÃ¼man spesifik bir politikanÄ±n detaylÄ± kullanÄ±mÄ±nÄ± anlatÄ±r. EÄŸer Apinizer politika yapÄ±sÄ±nÄ± ilk kez kullanÄ±yorsanÄ±z veya politikalarÄ±n genel Ã§alÄ±ÅŸma prensiplerini Ã¶ÄŸrenmek istiyorsanÄ±z, Ã¶ncelikle [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±nÄ± okumanÄ±zÄ± Ã¶neririz.

| **Politika AdÄ±** | SAML DoÄŸrulama |
|---|:---|
| **Ã–zet** | Gelen SAML mesajlarÄ±nÄ±n imza doÄŸrulamasÄ±nÄ± JKS key store ile yapar ve isteÄŸe baÄŸlÄ± olarak SAML bloklarÄ±nÄ± temizler. |
| **Kategori** | GÃ¼venlik ve EriÅŸim KontrolÃ¼ |
| **DÃ¶nÃ¼ÅŸ Durum KodlarÄ±** | <table><thead><tr><th>Hata Kodu</th><th>Hata MesajÄ±</th><th>HTTP Durum Kodu</th></tr></thead><tbody><tr><td>ERR-094</td><td>SAML 2.0 Validation policy failed! Error message is: {0}</td><td>500</td></tr><tr><td>ERR-095</td><td>SAML 2.0 Assertion signature was not found!</td><td>403</td></tr><tr><td>ERR-096</td><td>SAML 2.0 Assertion signature is not valid!</td><td>403</td></tr><tr><td>ERR-097</td><td>Keystore could not be loaded for SAML 2.0 Validation! Error message is: {0}</td><td>403</td></tr><tr><td>ERR-098</td><td>Signature was valid, but signer is not known at SAML 2.0 Validation!</td><td>403</td></tr></tbody></table> |

## Genel BakÄ±ÅŸ

### AmacÄ± Nedir?

- API Proxy (API Vekil Sunucusu) akÄ±ÅŸlarÄ±ndan geÃ§en SAML assertion'larÄ±nÄ± doÄŸrulayarak kimlik federasyonunu merkezileÅŸtirir.
- KullanÄ±cÄ± veya sistem SSO taleplerinde yalnÄ±zca gÃ¼venilir imzacÄ±larÄ±n kabul edilmesini saÄŸlayarak eriÅŸim gÃ¼venliÄŸini artÄ±rÄ±r.
- JKS tabanlÄ± key store yÃ¶netimi sayesinde sertifika rotasyonlarÄ±nÄ±n merkezi olarak kontrol edilmesine imkÃ¢n tanÄ±r.
- XPath tabanlÄ± temizleme ile doÄŸrulanan SAML bloklarÄ±nÄ±n aÅŸaÄŸÄ± akÄ±ÅŸ servislerine sÄ±zmasÄ±nÄ± engeller ve veri gizliliÄŸini korur.

### Ã‡alÄ±ÅŸma Prensibi

1. **Ä°stek GeliÅŸi**: API Gateway'e gelen her HTTP/HTTPS isteÄŸi iÃ§in, istemin kaynak IP adresi tespit edilir.
2. **Politika KontrolÃ¼**: SAML DoÄŸrulama politikasÄ± aktif ise, sistem aÅŸaÄŸÄ±daki sÄ±rayla kontrol yapar:
   - Condition (koÅŸul) tanÄ±mlÄ± mÄ±? Varsa koÅŸul saÄŸlanÄ±yor mu?
   - Politika aktif mi (active=true)?
   - Variable kullanÄ±lÄ±yor mu yoksa Apinizer default mÄ±?
3. **SAML DoÄŸrulama KontrolÃ¼**: Ä°stek gÃ¶vdesindeki SAML assertion seÃ§ili key store'daki sertifikalarla imza doÄŸrulamasÄ±ndan geÃ§irilir; gerekli ise XPath ifadesiyle ilgili XML dÃ¼ÄŸÃ¼mÃ¼ temizlenir.
4. **Karar Verme**:
   - **EÅŸleÅŸme Var**: Ä°mza doÄŸrulanÄ±rsa istek, gÃ¼ncellenmiÅŸ payload ile akÄ±ÅŸÄ±n bir sonraki adÄ±mÄ±na yÃ¶nlendirilir.
   - **EÅŸleÅŸme Yok**: Ä°mza doÄŸrulamasÄ± baÅŸarÄ±sÄ±zsa veya key store bulunamazsa istek durdurulur ve Ã¶zelleÅŸtirilebilir hata yanÄ±tÄ± dÃ¶ndÃ¼rÃ¼lÃ¼r.
5. **Hata Ä°ÅŸleme**: Politika kuralÄ±na uymayan istekler iÃ§in Ã¶zelleÅŸtirilebilir HTTP durum kodu ve hata mesajÄ± dÃ¶ndÃ¼rÃ¼lÃ¼r.

## Ã–zellikler ve Yetenekler

### Temel Ã–zellikler

- **Key Store DoÄŸrulamasÄ±**: JKS formatÄ±ndaki key store iÃ§indeki sertifikalarla SAML imza doÄŸrulamasÄ± gerÃ§ekleÅŸtirir; key store seÃ§ilmeden kayÄ±t yapÄ±lamaz.
- **Bilinmeyen Ä°mzacÄ± ToleransÄ±**: `allowUnknownSigner` seÃ§eneÄŸiyle bilinen CA zincirine baÄŸlÄ± olmayan sertifikalarÄ±n kontrollÃ¼ biÃ§imde kabul edilmesini saÄŸlar.
- **XPath TabanlÄ± SAML Temizleme**: `clearSaml` ve `clearSamlPath` alanlarÄ±yla doÄŸrulama sonrasÄ± mesaj gÃ¶vdesindeki SAML bloklarÄ±nÄ± temizleyerek veri sÄ±zÄ±ntÄ±sÄ±nÄ± engeller.
- **Aktif/Pasif Durum KontrolÃ¼**: PolitikanÄ±n aktif veya pasif durumunu kolayca deÄŸiÅŸtirme (active/passive toggle). Pasif durumda politika uygulanmaz ancak yapÄ±landÄ±rmasÄ± saklanÄ±r.
- **KoÅŸul BazlÄ± Uygulama**: Query Builder ile karmaÅŸÄ±k koÅŸullar oluÅŸturarak politikanÄ±n ne zaman uygulanacaÄŸÄ±nÄ± belirleme (Ã¶rn: sadece belirli endpoint'lere veya header deÄŸerlerine gÃ¶re).

### Ä°leri DÃ¼zey Ã–zellikler

- **Dinamik Key Store YÃ¶netimi**: YapÄ±landÄ±rma ekranÄ±ndan yeni key store oluÅŸturma dialog'u Ã§aÄŸÄ±rarak sertifika setlerini anÄ±nda Ã¼zerinde Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ±z projeye ekler.
- **XPath Test Otomasyonu**: Test Transformation Data bileÅŸeniyle `clearSamlPath` ifadesini gerÃ§ek veri Ã¶rnekleri Ã¼zerinde test ederek yanlÄ±ÅŸ temizleme riskini azaltÄ±r.
- **VarsayÄ±lan Ä°mza DÃ¼ÄŸÃ¼mÃ¼ AlgÄ±sÄ±**: `clearSamlPath` aktif edildiÄŸinde varsayÄ±lan imza dÃ¼ÄŸÃ¼mÃ¼ XPath'i otomatik atanÄ±r ve ihtiyaÃ§ halinde Ã¶zelleÅŸtirilebilir.
- **Export/Import Ã–zelliÄŸi**: Politika yapÄ±landÄ±rmasÄ±nÄ± ZIP dosyasÄ± olarak export etme. FarklÄ± ortamlara (Development, Test, Production) import etme. Versiyon kontrolÃ¼ ve yedekleme imkanÄ±.
- **Policy Group ve Proxy Group DesteÄŸi**: Birden fazla politikayÄ± Policy Group iÃ§inde yÃ¶netme. Proxy Group'lara toplu politika atama. Merkezi gÃ¼ncelleme ve deploy iÅŸlemleri.
- **Deploy ve Versiyonlama**: Politika deÄŸiÅŸikliklerini canlÄ± ortama deploy etme. Hangi API Proxy'lerde kullanÄ±ldÄ±ÄŸÄ±nÄ± gÃ¶rme (Policy Usage). Proxy Group ve Policy Group kullanÄ±m raporlarÄ±.

## KullanÄ±m SenaryolarÄ±

| Senaryo | Durum | Ã‡Ã¶zÃ¼m (Politika UygulamasÄ±) | Beklenen DavranÄ±ÅŸ / SonuÃ§ |
|---------|-------|----------------------------|---------------------------|
| Kurumsal SSO Entegrasyonu | Kurum iÃ§i IdP'den gelen SAML assertion'larÄ± mikroservislere yÃ¶nlendirilecek | Key store olarak kurumsal CA sertifikasÄ± seÃ§ilir, `clearSaml` kapalÄ± tutulur. | DoÄŸrulanan SAML assertion diÄŸer Policy adÄ±mlarÄ±na geÃ§er. |
| SaaS Yetkilendirme GeÃ§idi | SaaS saÄŸlayÄ±cÄ±sÄ±ndan gelen SAML'de Ã¼Ã§Ã¼ncÃ¼ taraf sertifikalar mevcut | `allowUnknownSigner` aktif edilir, condition ile ilgili endpoint hedeflenir. | Yetkisiz sertifikalar kabul edilir ancak diÄŸer koÅŸullar saÄŸlanmazsa reddedilir. |
| SAML Veri Maskesi | Mesaj gÃ¶vdesinde SAML assertion kalmamasÄ± gerekiyor | `clearSaml` aktif, `clearSamlPath` firma standardÄ±na gÃ¶re gÃ¼ncellenir. | DoÄŸrulama sonrasÄ± SAML bloÄŸu temizlenmiÅŸ payload downstream servise gider. |
| Test OrtamÄ± DoÄŸrulama | GeliÅŸtirme ortamÄ±nda self-signed sertifika kullanÄ±lÄ±yor | AyrÄ± bir test key store import edilir, condition ile ortam header'Ä±na baÄŸlanÄ±r. | Sadece test isteÄŸinde self-signed kabul edilir, canlÄ±da reddedilir. |
| Key Store Rotasyonu | SertifikalarÄ±n periyodik yenilenmesi gerekiyor | Yeni key store import edilir, eski key store condition ile devre dÄ±ÅŸÄ± bÄ±rakÄ±lÄ±r. | Kesinti olmadan sertifika geÃ§iÅŸi yapÄ±lÄ±r. |
| Hata MesajÄ± Lokalizasyonu | FarklÄ± istemcilere Ã¶zel hata mesajÄ± gÃ¶sterilecek | Error Message Customization sekmesinde locale bazlÄ± mesajlar tanÄ±mlanÄ±r. | Ä°stemci diline gÃ¶re Ã¶zelleÅŸtirilmiÅŸ 4xx yanÄ±tlarÄ± dÃ¶ner. |

## Politika Parametrelerini YapÄ±landÄ±rma

Bu adÄ±mda, kullanÄ±cÄ± **yeni bir politika oluÅŸturabilir** ya da **mevcut politika parametrelerini yapÄ±landÄ±rarak** eriÅŸim kurallarÄ±nÄ± belirleyebilir. TanÄ±mlanan parametreler, politikanÄ±n Ã§alÄ±ÅŸma ÅŸeklini (Ã¶rneÄŸin hangi IP'lerin izinli olacaÄŸÄ±, coÄŸrafi kÄ±sÄ±tlamalar, koÅŸullu aktivasyonlar vb.) doÄŸrudan etkiler. Bu sayede politika hem kuruma Ã¶zel gereksinimlere gÃ¶re Ã¶zelleÅŸtirilebilir hem de merkezi olarak yÃ¶netilebilir.

### Yeni SAML DoÄŸrulama PolitikasÄ± OluÅŸturma

<img src="/images/gelistirici/politikalar/saml-1.png" alt="SAML DoÄŸrulama PolitikasÄ±" width="1000" />

### YapÄ±landÄ±rma AdÄ±mlarÄ±

| AdÄ±m | AÃ§Ä±klama / Ä°ÅŸlem |
|------|------------------|
| **AdÄ±m 1: OluÅŸturma SayfasÄ±na Gitme** | - Sol menÃ¼den **Development â†’ Global Settings â†’ Global Policies â†’ SAML DoÄŸrulama** bÃ¶lÃ¼mÃ¼ne gidin.<br />- SaÄŸ Ã¼stteki **[+ Create]** butonuna tÄ±klayÄ±n. |
| **AdÄ±m 2: Temel Bilgileri Girme** | **Policy Status (Politika Durumu):** Aktif/Pasif durumu gÃ¶sterir. Yeni politikalar varsayÄ±lan olarak aktiftir.<br /><br />**Name (Ä°sim) Zorunlu:** Ã–rnek: `Production_SAMLValidation`<br />- Benzersiz isim girin, boÅŸlukla baÅŸlamaz.<br />- Sistem otomatik kontrol eder. YeÅŸil tik: kullanÄ±labilir. KÄ±rmÄ±zÄ± Ã§arpÄ±: mevcut isim.<br /><br />**Description (AÃ§Ä±klama):** Ã–rnek: "Kurumsal IdP SAML doÄŸrulamasÄ±"<br />- Maks. 1000 karakter.<br />- PolitikanÄ±n amacÄ±nÄ± aÃ§Ä±klayÄ±n. |
| **AdÄ±m 3: Key Store ve Ä°mza DoÄŸrulama YapÄ±landÄ±rmasÄ±** | - Gerekli JKS key store'u seÃ§in veya yeni key store oluÅŸtur dialog'unu aÃ§Ä±n.<br />- Key store seÃ§ilmeden kayÄ±t iÅŸlemi tamamlanmaz.<br />- AllowUnknownSigner seÃ§eneÄŸini gereksinime gÃ¶re aktif edin. |
| **AdÄ±m 4: SAML Temizleme AyarlarÄ± (Varsa)** | - `clearSaml` seÃ§eneÄŸini aÃ§arak doÄŸrulanan SAML dÃ¼ÄŸÃ¼mÃ¼nÃ¼ temizleyin.<br />- `clearSamlPath` alanÄ±nÄ± kendi XML yapÄ±nÄ±za gÃ¶re gÃ¼ncelleyin; gerekirse varsayÄ±lan XPath'i koruyun. |
| **AdÄ±m 5: XPath Testi ve VarsayÄ±lanlarÄ± (Varsa)** | - Test Transformation Data bileÅŸeniyle `clearSamlPath` ifadesini Ã¶rnek payload Ã¼zerinde Ã§alÄ±ÅŸtÄ±rÄ±n, yanlÄ±ÅŸ dÃ¼ÄŸÃ¼m silinmesini engelleyin. |
| **AdÄ±m 6: KoÅŸul TanÄ±mlama (Ä°steÄŸe BaÄŸlÄ±)** | - **Condition** sekmesine geÃ§in.<br />- KoÅŸullar, politikanÄ±n hangi durumda aktif olacaÄŸÄ±nÄ± belirler.<br /><br />**Ã–rnekler:**<br />- Ortam bazlÄ±: `Header = X-Environment, Operator = Equals, Value = production`<br />- API Key bazlÄ±: `Header = X-API-Key, Starts With = PROD-`<br />- Endpoint bazlÄ±: `Path = /api/admin/*`<br /><br />KoÅŸul tanÄ±mlamazsa politika her zaman aktif<br />Detaylar iÃ§in bakabilirsiniz: [KoÅŸullar (Conditions)](/tr/gelistirici/politikalar/politika-nedir#conditions) |
| **AdÄ±m 7: Hata MesajÄ± Ã–zelleÅŸtirme (Ä°steÄŸe BaÄŸlÄ±)** | - **Error Message Customization** sekmesine gidin.<br />- EriÅŸim reddedildiÄŸinde dÃ¶necek mesajÄ± Ã¶zelleÅŸtirin.<br /><br />**VarsayÄ±lan:**<br />`{ "statusCode": 403, "message": "[Default hata mesajÄ±]" }`<br /><br />**Ã–zel:**<br />`{ "statusCode": 403, "errorCode": "[CUSTOM_ERROR_CODE]", "message": "[Ã–zel mesaj]" }` |
| **AdÄ±m 8: Kaydetme** | - SaÄŸ Ã¼stteki **[Save]** butonuna tÄ±klayÄ±n.<br /><br />**Kontrol Listesi:** Benzersiz isim. Zorunlu alanlar dolu. En az bir SAML doÄŸrulama gerekliliÄŸi (key store seÃ§imi, opsiyonel XPath) mevcut<br /><br />**SonuÃ§:**<br />- Politika listeye eklenir.<br />- API'lere baÄŸlanabilir.<br />- Global politikaysa otomatik uygulanÄ±r. |

## PolitikayÄ± Silme

Bu politikanÄ±n silme adÄ±mlarÄ± ve kullanÄ±mdayken uygulanacak iÅŸlemler, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **PolitikayÄ± Silme** bÃ¶lÃ¼mÃ¼nde detaylÄ± olarak aÃ§Ä±klanmÄ±ÅŸtÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me bakabilirsiniz: [PolitikayÄ± Silme](/tr/gelistirici/politikalar/politika-nedir#politikayÄ±-silme)

## PolitikayÄ± DÄ±ÅŸa/Ä°Ã§e Aktarma

Bu politikanÄ±n dÄ±ÅŸa aktarma (Export) adÄ±mlarÄ± ve kullanÄ±labilecek seÃ§enekler, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **DÄ±ÅŸa Aktarma Ä°ÅŸlemi** bÃ¶lÃ¼mÃ¼nde aÃ§Ä±klanmaktadÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me bakabilirsiniz: [PolitikayÄ± DÄ±ÅŸa/Ä°Ã§e Aktarma](/tr/gelistirici/politikalar/politika-nedir#politikayÄ±-dÄ±ÅŸa-iÃ§e-aktarma)

## PolitikayÄ± API'ye BaÄŸlama

Bu politikanÄ±n API'lere nasÄ±l baÄŸlanacaÄŸÄ±na iliÅŸkin sÃ¼reÃ§, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **PolitikayÄ± API'ye BaÄŸlama** bÃ¶lÃ¼mÃ¼nde detaylandÄ±rÄ±lmÄ±ÅŸtÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me gÃ¶z atabilirsiniz: [PolitikayÄ± API'ye BaÄŸlama](/tr/gelistirici/politikalar/politika-nedir#politikayÄ±-apiye-baÄŸlama)

## Ä°leri DÃ¼zey Ã–zellikler

| Ã–zellik | AÃ§Ä±klama ve AdÄ±mlar |
|---------|---------------------|
| **Key Store Diyalog Entegrasyonu** | - Key store listeleme alanÄ±ndan yeni kayÄ±t oluÅŸturma butonunu aÃ§Ä±n.<br />- Yeni JKS dosyasÄ±nÄ± iÃ§eri aktarÄ±n ve zorunlu alanlarÄ± doldurun.<br />- OluÅŸan key store otomatik olarak politika formuna set edilir. |
| **XPath Temizleme Testi** | - `clearSamlPath` alanÄ±nÄ± doldurduktan sonra test butonuna basÄ±n.<br />- Ã–rnek XML verisiyle XPath sonucu Ã¶nizleyin.<br />- YanlÄ±ÅŸ dÃ¼ÄŸÃ¼m seÃ§imi tespit edilirse XPath'i gÃ¼ncelleyin. |
| **Global Politika Lokalizasyonu** | - Detay ekranÄ±ndan **Localize** butonuna tÄ±klayÄ±n.<br />- Local kopyada koÅŸullarÄ± ve key store'u yeni ortama gÃ¶re dÃ¼zenleyin.<br />- Gerekiyorsa global sÃ¼rÃ¼mÃ¼ gÃ¼ncelleyip yeniden deploy edin. |

## Best Practices

### YapÄ±lmasÄ± Gerekenler ve En Ä°yi Uygulamalar

| Kategori | AÃ§Ä±klama / Ã–neriler |
|----------|---------------------|
| **Key Store YÃ¶netimi** | **KÃ¶tÃ¼:** Key store'u manuel kopyalanmÄ±ÅŸ JKS dosyalarÄ±yla gÃ¼ncellemek.<br />**Ä°yi:** Her ortama ait ayrÄ± JKS sÃ¼rÃ¼mÃ¼ tutmak.<br />**En Ä°yi:** Otomatik sertifika rotasyonu ve expiration takibi iÃ§in merkezi key store yÃ¶netimi kullanmak. |
| **XPath BakÄ±mÄ±** | **KÃ¶tÃ¼:** VarsayÄ±lan XPath'i her payload iÃ§in deÄŸiÅŸtirmeden bÄ±rakmak.<br />**Ä°yi:** XPath'i gerÃ§ek XML yapÄ±sÄ±na gÃ¶re uyarlamak.<br />**En Ä°yi:** Test Transformation Data ile her deÄŸiÅŸiklikte doÄŸrulamak ve sÃ¼rÃ¼m kontrolÃ¼nde saklamak. |
| **Hata MesajÄ± TasarÄ±mÄ±** | **KÃ¶tÃ¼:** Genel 500 mesajÄ± dÃ¶ndÃ¼rmek.<br />**Ä°yi:** 401/403 kodlarÄ±na Ã¶zel aÃ§Ä±klamalar eklemek.<br />**En Ä°yi:** Hata kodlarÄ±nÄ± istemci tÃ¼rÃ¼ne gÃ¶re Ã¶zelleÅŸtirip lokalizasyon yapmak. |
| **KoÅŸul TasarÄ±mÄ±** | **KÃ¶tÃ¼:** PolitikanÄ±n tÃ¼m trafiÄŸe uygulanmasÄ±.<br />**Ä°yi:** Endpoint bazlÄ± koÅŸullar tanÄ±mlamak.<br />**En Ä°yi:** Ortam, istemci ve Method bazlÄ± birleÅŸik koÅŸullar ile granular kontrol saÄŸlamak. |
| **Ortamlar ArasÄ± TaÅŸÄ±ma** | **KÃ¶tÃ¼:** Production key store'u GeliÅŸtirme ortamÄ±na kopyalamak.<br />**Ä°yi:** Ortam bazlÄ± key store setleri hazÄ±rlamak.<br />**En Ä°yi:** Export/Import sÃ¼reÃ§lerinde isimlendirme standardÄ± ve baÄŸÄ±mlÄ±lÄ±k kontrolÃ¼ uygulamak. |

### GÃ¼venlik En Ä°yi UygulamalarÄ±

| GÃ¼venlik AlanÄ± | AÃ§Ä±klama / UyarÄ±lar |
|----------------|---------------------|
| **Sertifika YaÅŸam DÃ¶ngÃ¼sÃ¼** | JKS dosyalarÄ±nÄ±n son kullanma tarihini takip edin, expiration yaklaÅŸÄ±nca Ã¶nceden yenileyin. |
| **Ä°mza DoÄŸrulama PolitikalarÄ±** | `allowUnknownSigner` Ã¶zelliÄŸini sadece geÃ§ici gereksinimlerde aÃ§Ä±n, aksi halde gÃ¼venilmeyen sertifikalar kabul edilebilir. |
| **Key Store EriÅŸim Yetkisi** | Key store yÃ¶netimini yetkili DevOps kullanÄ±cÄ±larÄ±yla sÄ±nÄ±rlandÄ±rÄ±n, eriÅŸim loglarÄ±nÄ± saklayÄ±n. |
| **Payload TemizliÄŸi** | `clearSamlPath` kullanÄ±mÄ± sonrasÄ± Ã§Ä±ktÄ±yÄ± loglayarak hassas verinin sistem dÄ±ÅŸÄ±na Ã§Ä±kmadÄ±ÄŸÄ±ndan emin olun. |
| **Hata MesajÄ± Maskeleme** | Hata mesajlarÄ±nda assertion detaylarÄ±nÄ± gÃ¶stermeyin, istismar riskini azaltÄ±n. |

### KaÃ§Ä±nÄ±lmasÄ± Gerekenler

| Kategori | AÃ§Ä±klama / UyarÄ±lar |
|----------|---------------------|
| **YanlÄ±ÅŸ Key Store** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** YanlÄ±ÅŸ JKS seÃ§mek tÃ¼m doÄŸrulamalarÄ± baÅŸarÄ±sÄ±z kÄ±lar.<br />**Alternatif:** Ortama uygun key store'larÄ± etiketleyip doÄŸru listelemeyi saÄŸlayÄ±n. |
| **Genel XPath KullanÄ±mÄ±** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** VarsayÄ±lan XPath her ÅŸemada Ã§alÄ±ÅŸmaz ve yanlÄ±ÅŸ dÃ¼ÄŸÃ¼mÃ¼ silebilir.<br />**Alternatif:** Her payload tipi iÃ§in doÄŸrulanmÄ±ÅŸ Ã¶zel XPath tanÄ±mlayÄ±n. |
| **SÃ¼rekli Allow Unknown Signer** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** GÃ¼venlik duvarÄ±ndan sÄ±zan sertifikalar kabul edilebilir.<br />**Alternatif:** Sadece geÃ§ici testlerde aÃ§Ä±n, sonra kapatÄ±n. |
| **KoÅŸulsuz Uygulama** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Gereksiz doÄŸrulama yÃ¼kÃ¼ ve hatalÄ± bloklama oluÅŸur.<br />**Alternatif:** Query Builder ile hedef endpoint veya header bazlÄ± koÅŸullar belirleyin. |

### Performans Ä°puÃ§larÄ±

| Kriter | Ã–neri / Etki |
|--------|--------------|
| **Key Store Boyutu** | **Ã–neri:** Gereksiz sertifikalarÄ± JKS'den temizleyin.<br />**Etki:** DoÄŸrulama sÃ¼resi kÄ±salÄ±r. |
| **XPath KarmaÅŸÄ±klÄ±ÄŸÄ±** | **Ã–neri:** Basit ve spesifik XPath ifadeleri kullanÄ±n.<br />**Etki:** XML parse ve temizleme sÃ¼resi azalÄ±r. |
| **KoÅŸul Filtreleme** | **Ã–neri:** Politika sadece gerekli endpoint ve metotlarda Ã§alÄ±ÅŸsÄ±n.<br />**Etki:** Gateway Ã¼zerindeki CPU yÃ¼kÃ¼ dÃ¼ÅŸer. |
| **Log DÃ¼zeyi** | **Ã–neri:** Debug loglarÄ±nÄ± Production'da kapalÄ± tutun.<br />**Etki:** IO yÃ¼kÃ¼ ve gecikme azalÄ±r. |
| **Hata MesajÄ± Ã–zelleÅŸtirme** | **Ã–neri:** SÄ±k kullanÄ±lan hata yanÄ±tlarÄ±nÄ± cache'leyin.<br />**Etki:** YanÄ±t oluÅŸturma sÃ¼releri dÃ¼ÅŸer. |

## SÄ±k Sorulan Sorular (SSS)

| Kategori | Soru (S) | Cevap (C) |
|----------|----------|-----------|
| **Genel** | SAML DoÄŸrulama politikasÄ± hangi aÄŸ akÄ±ÅŸlarÄ±nda kullanÄ±lmalÄ±? | Kimlik federasyonu yapÄ±lan ve SAML assertion taÅŸÄ±yan tÃ¼m API Proxy akÄ±ÅŸlarÄ±nda kullanÄ±lmalÄ±dÄ±r. |
| **Genel** | Key store olmadan politika kaydedilebilir mi? | HayÄ±r, zorunlu olarak bir JKS key store seÃ§ilmelidir. |
| **Teknik** | `allowUnknownSigner` aktif olduÄŸunda baÅŸka kontrol yapÄ±lÄ±r mÄ±? | Politikadaki koÅŸullar ve diÄŸer Policy adÄ±mlarÄ± Ã§alÄ±ÅŸmaya devam eder, sadece sertifika zinciri kontrolÃ¼ esnekleÅŸir. |
| **Teknik** | `clearSamlPath` alanÄ± boÅŸ bÄ±rakÄ±lÄ±rsa ne olur? | `clearSaml` aÃ§Ä±kken alan boÅŸ ise doÄŸrulama baÅŸarÄ±sÄ±z olur ve politika kaydedilemez. |
| **KullanÄ±m** | XPath test fonksiyonu Production'da kullanÄ±labilir mi? | Evet, ancak Ã¶rnek payload giriÅŸi yaparken hassas verileri maskeleyin. |
| **KullanÄ±m** | Global politikayÄ± local kopyaya dÃ¶nÃ¼ÅŸtÃ¼rdÃ¼kten sonra ne deÄŸiÅŸir? | Local kopya sadece seÃ§ilen API Proxy iÃ§in geÃ§erli olur ve global sÃ¼rÃ¼mdeki gÃ¼ncellemeler local kopyayÄ± etkilemez. |

**Bu dokÃ¼man Apinizer Ã¼rÃ¼n dokÃ¼mantasyonunun bir parÃ§asÄ±dÄ±r. Â©ï¸ 2025 Apinizer - TÃ¼m haklarÄ± saklÄ±dÄ±r.**

Bu dokÃ¼mantasyon, Apinizer yazÄ±lÄ±mÄ±nÄ± kullanan kiÅŸi ve kuruluÅŸlar tarafÄ±ndan dahili kullanÄ±m amacÄ±yla serbestÃ§e kullanÄ±labilir, kopyalanabilir ve daÄŸÄ±tÄ±labilir.
