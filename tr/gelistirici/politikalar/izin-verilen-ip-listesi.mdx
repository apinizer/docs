---
title: 'Ä°zin Verilen IP Listesi'
description: 'Sadece belirlenen IP adreslerinden, IP gruplarÄ±ndan veya coÄŸrafi konumlardan gelen istekleri kabul eder; diÄŸer tÃ¼m istekleri engeller'
---

**ğŸ’¡ Politikalar hakkÄ±nda bilginiz var mÄ±?**\\
Bu dokÃ¼man spesifik bir politikanÄ±n detaylÄ± kullanÄ±mÄ±nÄ± anlatÄ±r. EÄŸer Apinizer politika yapÄ±sÄ±nÄ± ilk kez kullanÄ±yorsanÄ±z veya politikalarÄ±n genel Ã§alÄ±ÅŸma prensiplerini Ã¶ÄŸrenmek istiyorsanÄ±z, Ã¶ncelikle [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±nÄ± okumanÄ±zÄ± Ã¶neririz.

## Genel BakÄ±ÅŸ

### AmacÄ± Nedir?

- **EriÅŸim GÃ¼venliÄŸini ArtÄ±rmak**: API Gateway (API Vekil Sunucusu) Ã¼zerinden sunulan servislere yalnÄ±zca gÃ¼venilir IP adreslerinden eriÅŸim saÄŸlanmasÄ±nÄ± garanti eder.
- **Yetkisiz EriÅŸimi Engellemek**: Beyaz listede yer almayan kaynaklardan gelen istekleri otomatik olarak reddederek gÃ¼venlik aÃ§Ä±klarÄ±nÄ± minimize eder.
- **CoÄŸrafi KÄ±sÄ±tlama Uygulamak**: Belirli Ã¼lke ve ÅŸehirlerden gelen istekleri kabul ederek veya engelleyerek coÄŸrafi bazlÄ± gÃ¼venlik politikalarÄ± oluÅŸturur.
- **Merkezi IP YÃ¶netimi**: IP gruplarÄ± kullanarak aynÄ± IP setlerini farklÄ± politikalarda tekrar kullanÄ±labilir hale getirir.
- **Dinamik IP YÃ¶netimi**: Variable (deÄŸiÅŸken) mekanizmasÄ± ile runtime'da IP listesini dinamik olarak deÄŸiÅŸtirme imkanÄ± saÄŸlar.

### Ã‡alÄ±ÅŸma Prensibi

1. **Ä°stek GeliÅŸi**: API Gateway'e gelen her HTTP/HTTPS isteÄŸi iÃ§in, istemcinin kaynak IP adresi tespit edilir.
2. **Politika KontrolÃ¼**: IP Beyaz Listesi politikasÄ± aktif ise, sistem aÅŸaÄŸÄ±daki sÄ±rayla kontrol yapar:
   - Condition (koÅŸul) tanÄ±mlÄ± mÄ±? Varsa koÅŸul saÄŸlanÄ±yor mu?
   - Politika aktif mi (active=true)?
   - Variable kullanÄ±lÄ±yor mu yoksa Apinizer default mi?
3. **IP DoÄŸrulama**: Ä°stemci IP adresi ÅŸu kaynaklardan biriyle eÅŸleÅŸiyor mu kontrol edilir:
   - Manuel tanÄ±mlanan IP listesi (ipList)
   - IP GruplarÄ±ndaki IP'ler (ipGroupIdList)
   - Geolocation ayarlarÄ± (geoLocationDataList)
4. **Karar Verme**:
   - **EÅŸleÅŸme Var**: Ä°stek bir sonraki politika adÄ±mÄ±na veya backend servisine yÃ¶nlendirilir.
   - **EÅŸleÅŸme Yok**: Ä°stek reddedilir ve Ã¶zelleÅŸtirilmiÅŸ hata mesajÄ± dÃ¶ndÃ¼rÃ¼lÃ¼r (default: 403 Forbidden).
5. **Hata Ä°ÅŸleme**: Politika kuralÄ±na uymayan isteklere Ã¶zelleÅŸtirilebilir HTTP durum kodu ve hata mesajÄ± dÃ¶ndÃ¼rÃ¼lÃ¼r.

## Ã–zellikler ve Yetenekler

### Temel Ã–zellikler

- **Manuel IP Listesi YÃ¶netimi**: IPv4 adresleri ve CIDR notasyonu (Ã¶rn: 192.168.1.0/24) ile IP aralÄ±klarÄ±nÄ± tanÄ±mlama. Her IP adresi virgÃ¼l ile ayrÄ±larak eklenebilir ve gerÃ§ek zamanlÄ± doÄŸrulama yapÄ±lÄ±r.
- **IP Grubu Entegrasyonu**: Ã–nceden tanÄ±mlanmÄ±ÅŸ IP gruplarÄ±nÄ± politikaya ekleme. Birden fazla IP grubunu aynÄ± anda seÃ§me ve yÃ¶netme imkanÄ±. IP gruplarÄ± merkezi olarak gÃ¼ncellenir, politikada otomatik yansÄ±r.
- **Global ve Local Politika DesteÄŸi**: Global olarak tanÄ±mlanÄ±p birden fazla API Proxy'de kullanÄ±labilir veya spesifik bir API Proxy iÃ§in local politika olarak yapÄ±landÄ±rÄ±labilir.
- **Aktif/Pasif Durum KontrolÃ¼**: PolitikanÄ±n aktif veya pasif durumunu kolayca deÄŸiÅŸtirme (active/passive toggle). Pasif durumda politika uygulanmaz ancak yapÄ±landÄ±rma saklanÄ±r.
- **KoÅŸul BazlÄ± Uygulama**: Query Builder ile karmaÅŸÄ±k koÅŸullar oluÅŸturarak politikanÄ±n ne zaman uygulanacaÄŸÄ±nÄ± belirleme (Ã¶rn: sadece belirli endpoint'lere veya header deÄŸerlerine gÃ¶re).

### Ä°leri DÃ¼zey Ã–zellikler

- **Geolocation (CoÄŸrafi Konum) DesteÄŸi**: Geolocation servis entegrasyonu ile Ã¼lke ve ÅŸehir bazÄ±nda IP kontrolÃ¼. TÃ¼m Ã¼lke veya spesifik ÅŸehirlerden gelen istekleri kabul etme/engelleme. Birden fazla Ã¼lke ve ÅŸehir kombinasyonu tanÄ±mlama imkanÄ±.
- **Variable (DeÄŸiÅŸken) MekanizmasÄ±**: Variable kullanarak IP listesini runtime'da dinamik olarak deÄŸiÅŸtirme. Harici sistemlerden (database, cache, API) IP listesi alma. Variable ile merge etme veya override etme seÃ§enekleri.
- **Hata MesajÄ± Ã–zelleÅŸtirme**: HTTP durum kodu Ã¶zelleÅŸtirme (default: 403). Custom JSON veya XML hata mesajÄ± tanÄ±mlama. FarklÄ± hata senaryolarÄ± iÃ§in farklÄ± mesajlar yapÄ±landÄ±rma.
- **Export/Import Ã–zelliÄŸi**: Politika yapÄ±landÄ±rmasÄ±nÄ± ZIP dosyasÄ± olarak export etme. FarklÄ± ortamlara (Development, Test, Production) import etme. Versiyon kontrolÃ¼ ve yedekleme imkanÄ±.
- **Policy Group ve Proxy Group DesteÄŸi**: Birden fazla politikayÄ± Policy Group iÃ§inde yÃ¶netme. Proxy Group'lara toplu politika atama. Merkezi gÃ¼ncelleme ve deploy iÅŸlemleri.
- **Deploy ve Versiyonlama**: Politika deÄŸiÅŸikliklerini canlÄ± ortama deploy etme. Hangi API Proxy'lerde kullanÄ±ldÄ±ÄŸÄ±nÄ± gÃ¶rme (Policy Usage). Proxy Group ve Policy Group kullanÄ±m raporlarÄ±.

## KullanÄ±m SenaryolarÄ±

| Senaryo | Durum | Ã‡Ã¶zÃ¼m (Politika UygulamasÄ±) | Beklenen DavranÄ±ÅŸ / SonuÃ§ |
|---------|-------|----------------------------|---------------------------|
| Kurumsal AÄŸdan EriÅŸim | YalnÄ±zca ÅŸirket iÃ§i aÄŸdan (192.168.0.0/16) API'lere eriÅŸim izni verilmesi gerekiyor | IP listesine `192.168.0.0/16` CIDR bloÄŸunu ekleyin. PolitikayÄ± ilgili API Proxy'ye lokal veya global olarak atayÄ±n. | Sadece 192.168.x.x aÄŸÄ±ndan gelen istekler kabul edilir. DiÄŸer IP'lerden 403 hatasÄ± dÃ¶ner. |
| ÃœÃ§Ã¼ncÃ¼ Parti Entegrasyon | Belirli bir partner firmanÄ±n sabit IP'lerinden (203.0.113.10, 203.0.113.11) gelen isteklere izin vermek | IP listesine `203.0.113.10` ve `203.0.113.11` adreslerini ekleyin. Gerekirse "Partner IP Grubu" oluÅŸturup tekrar kullanÄ±n. | Sadece partner IP'lerinden gelen istekler kabul edilir. Entegrasyonlar gÃ¼venli ÅŸekilde Ã§alÄ±ÅŸÄ±r. |
| CoÄŸrafi KÄ±sÄ±tlama | Sadece TÃ¼rkiye'den (TR) gelen isteklerin kabul edilmesi | Geolocation ayarlarÄ±nÄ± etkinleÅŸtirin. "Ãœlke SeÃ§" listesinden TÃ¼rkiye'yi seÃ§in ve politikaya ekleyin. | Ä°stemci IP'si TÃ¼rkiye coÄŸrafyasÄ±na ait deÄŸilse 403 hatasÄ± dÃ¶ner. TR IP'leri kabul edilir. |
| Åehir BazlÄ± EriÅŸim | YalnÄ±zca Ä°stanbul ve Ankara ÅŸehirlerinden gelen istekleri kabul etme | Geolocation bÃ¶lÃ¼mÃ¼nden TÃ¼rkiye'yi seÃ§in. Åehir listesinden Ä°stanbul ve Ankara'yÄ± seÃ§in. "Ekle" butonuna tÄ±klayÄ±n. | Sadece Ä°stanbul ve Ankara ÅŸehirlerinden gelen IP'ler kabul edilir. DiÄŸer ÅŸehirler reddedilir. |
| GeliÅŸtirme/Test OrtamÄ± | Test ortamÄ±nda sadece QA ekibinin IP'lerinden eriÅŸim izni | "QA Team IPs" adÄ±nda bir IP Grubu oluÅŸturun. Bu grubu politikaya ekleyin. Test ortamÄ±na Ã¶zel global politika yapÄ±n. | QA ekibi test API'lere eriÅŸebilir. Ãœretim ortamÄ±nda farklÄ± politika uygulanÄ±r. |
| Dinamik IP YÃ¶netimi | IP listesi dÃ¼zenli olarak deÄŸiÅŸiyor (gÃ¼nlÃ¼k gÃ¼ncelleme) | Variable mekanizmasÄ± kullanÄ±n. Variable'Ä± external sistemden (database, API) besleyin. Politikada "Use Apinizer Default" kapatÄ±p variable seÃ§in. | Her istek geldiÄŸinde variable'dan gÃ¼ncel IP listesi alÄ±nÄ±r. Manuel gÃ¼ncelleme gerekmez. |
| Acil Durum EriÅŸimi | Belirli bir kritik IP'den gelen istekleri her zaman kabul etme | Manuel IP listesine kritik IP'yi ekleyin. KoÅŸul bÃ¶lÃ¼mÃ¼nde acil durum header'Ä± kontrolÃ¼ ekleyin (opsiyonel). | Kritik IP her zaman eriÅŸim saÄŸlar. Acil durumlarda politika bypass edilebilir. |

## Politika Parametrelerini YapÄ±landÄ±rma

Bu adÄ±mda, kullanÄ±cÄ± **yeni bir politika oluÅŸturabilir** ya da **mevcut politika parametrelerini yapÄ±landÄ±rarak** eriÅŸim kurallarÄ±nÄ± belirleyebilir. TanÄ±mlanan parametreler, politikanÄ±n Ã§alÄ±ÅŸma ÅŸeklini (Ã¶rneÄŸin hangi IP'lerin izinli olacaÄŸÄ±, coÄŸrafi kÄ±sÄ±tlamalar, koÅŸullu aktivasyonlar vb.) doÄŸrudan etkiler. Bu sayede politika hem kuruma Ã¶zel gereksinimlere gÃ¶re Ã¶zelleÅŸtirilebilir hem de merkezi olarak yÃ¶netilebilir.

### Yeni Allowed IP List PolitikasÄ± OluÅŸturma

### YapÄ±landÄ±rma AdÄ±mlarÄ±

| AdÄ±m | AÃ§Ä±klama / Ä°ÅŸlem |
|------|------------------|
| **AdÄ±m 1: OluÅŸturma SayfasÄ±na Gitme** | - Sol menÃ¼den **Development â†’ Global Settings â†’ Global Policies â†’ Allowed IP List** bÃ¶lÃ¼mÃ¼ne gidin.<br/>- SaÄŸ Ã¼stteki **[+ Create]** butonuna tÄ±klayÄ±n. |
| **AdÄ±m 2: Temel Bilgileri Girme** | **Policy Status (Politika Durumu):** Aktif/Pasif durumu gÃ¶sterir. Yeni politikalar varsayÄ±lan olarak aktiftir.<br/><br/>**Name (Ä°sim) Zorunlu:** Ã–rnek: `Production_IP_Whitelist`<br/>- Benzersiz isim girin, boÅŸlukla baÅŸlamaz.<br/>- Sistem otomatik kontrol eder: YeÅŸil tik: kullanÄ±labilir KÄ±rmÄ±zÄ± Ã§arpÄ±: mevcut isim.<br/><br/>**Description (AÃ§Ä±klama):** Ã–rnek: "Prod ortamÄ± iÃ§in yalnÄ±zca kurum iÃ§i ve partner sistemlerinden gelen isteklere izin verir."<br/>- Maks. 1000 karakter.<br/>- PolitikanÄ±n amacÄ±nÄ± aÃ§Ä±klayÄ±n. |
| **AdÄ±m 3: IP Listesi YapÄ±landÄ±rmasÄ±** | **Use Apinizer Default:** â˜‘ï¸ VarsayÄ±lan IP algÄ±lama mekanizmasÄ±nÄ± kullanÄ±r. Kendi deÄŸiÅŸkeninizi (Variable) tanÄ±mlamanÄ±z gerekir.<br/><br/>**IP Ekleme:**<br/>- Tekil IP: `192.168.1.100` â†’ Enter veya âœ“ ile eklenir.<br/>- CIDR: `192.0.2.0/24` â†’ 192.0.2.0â€“192.0.2.255 arasÄ± kapsanÄ±r.<br/>  /24 â†’ 256 IP, /30 â†’ 4 IP, /32 â†’ tekil IP.<br/><br/>**IP Silme:** IP etiketine veya âœ• simgesine tÄ±klayÄ±n.<br/><br/>IP aralÄ±ÄŸÄ± belirtmek iÃ§in ('*' ve '-') karakterleri kullanÄ±labilir.<br/><br/>**Ã–rnekler:**<br/>- `10.0.0.1` â†’ Tek IP<br/>- `192.168.1.0/24` â†’ 256 IP<br/>- `172.16.0.0/12` â†’ 1.048.576 IP<br/>- `203.0.113.0/30` â†’ 4 IP (.0-.3)<br/>- `10.3.10.*` deÄŸeri '10.3.10.0' ile '10.3.10.255' arasÄ±ndaki IP'leri belirtir.<br/>- `10.3.10.4-18` deÄŸeri '10.3.10.4' ile '10.3.10.18' arasÄ±ndaki IP'leri ifade eder (4 ve 18 dahil).<br/><br/>IP ekledikten sonra enter tuÅŸuna basÄ±lmalÄ±dÄ±r. |
| **AdÄ±m 4: IP GruplarÄ± KullanÄ±mÄ± (Ä°steÄŸe BaÄŸlÄ±)** | - "Click to add IP Groups" butonuna tÄ±klayÄ±n.<br/>- Sol tarafta mevcut IP gruplarÄ±, saÄŸda seÃ§ilenler gÃ¶rÃ¼nÃ¼r.<br/><br/>**Ekleme:**<br/>- Sol listeden grup seÃ§in â†’ [Select].<br/>- SaÄŸ tarafa taÅŸÄ±nÄ±r.<br/>- Bir grup birden fazla politikada kullanÄ±labilir.<br/><br/>**KaldÄ±rma:**<br/>- SaÄŸ listede ğŸ—‘ï¸ simgesine tÄ±klayÄ±n â†’ sol listeye dÃ¶ner.<br/><br/>**Avantaj:**<br/>- IP listelerini merkezi yÃ¶netin.<br/>- Tek gÃ¼ncelleme tÃ¼m politikalara yansÄ±r.<br/>- Partner eriÅŸimi iÃ§in idealdir. |
| **AdÄ±m 5: CoÄŸrafi Konum Filtresi (Ä°steÄŸe BaÄŸlÄ±)** | - Country (Ãœlke) dropdown'Ä±ndan Ã¼lke seÃ§in (Ã¶rnek: Turkey).<br/>- City (Åehir) dropdown'Ä± Ã¼lke seÃ§ilince aktif olur (Ã¶rnek: Istanbul, Ankara, Izmir).<br/>- [+ Add] ile tabloya eklenir.<br/>- SatÄ±rlar ğŸ—‘ï¸ ile tekil, Ã¼stteki ğŸ—‘ï¸ ile toplu silinebilir.<br/><br/>**Ã–rnek Senaryolar:**<br/>- YalnÄ±zca TÃ¼rkiye: Country: Turkey, City: â€”<br/>- TÃ¼rkiye bÃ¼yÃ¼k ÅŸehirler: Istanbul, Ankara, Izmir, Bursa<br/>- Birden fazla Ã¼lke: Turkey (tÃ¼mÃ¼), Germany (Berlin, Munich), USA (tÃ¼mÃ¼) |
| **AdÄ±m 6: KoÅŸul TanÄ±mlama (Ä°steÄŸe BaÄŸlÄ±)** | - **Condition** sekmesine geÃ§in.<br/>- KoÅŸullar, politikanÄ±n hangi durumda aktif olacaÄŸÄ±nÄ± belirler.<br/><br/>**Ã–rnekler:**<br/>- Ortam bazlÄ±: `Header = X-Environment, Operator = Equals, Value = production`<br/>- API Key bazlÄ±: `Header = X-API-Key, Starts With = PROD-`<br/>- Endpoint bazlÄ±: `Path = /api/admin/*`<br/><br/>KoÅŸul tanÄ±mlanmazsa politika her zaman aktiftir.<br/>Detaylar iÃ§in bakabilirsiniz: [KoÅŸullar (Conditions)](/tr/gelistirici/politikalar/politika-nedir#conditions) |
| **AdÄ±m 7: Hata MesajÄ± Ã–zelleÅŸtirme (Ä°steÄŸe BaÄŸlÄ±)** | - **Error Message Customization** sekmesine gidin<br/>- EriÅŸim reddedildiÄŸinde dÃ¶necek mesajÄ± Ã¶zelleÅŸtirin.<br/><br/>**VarsayÄ±lan:**<br/>```json\n{\n  "statusCode": 403,\n  "message": "Access denied: IP not whitelisted"\n}\n```<br/><br/>**Ã–zel:**<br/>```json\n{\n  "statusCode": 403,\n  "errorCode": "ACCESS_DENIED",\n  "message": "You do not have permission to access this API.",\n  "details": "Your IP address is not on the allowed list. Please contact support@sirket.com for access."\n}\n``` |
| **AdÄ±m 8: Kaydetme** | - SaÄŸ Ã¼stteki **[Save]** butonuna tÄ±klayÄ±n.<br/><br/>**Kontrol Listesi:** Benzersiz isim Zorunlu alanlar dolu En az bir IP veya grup mevcut<br/><br/>**SonuÃ§:**<br/>- Politika listeye eklenir.<br/>- API'lere baÄŸlanabilir.<br/>- Global politikaysa otomatik uygulanÄ±r. |

## PolitikayÄ± Silme

Bu politikanÄ±n silme adÄ±mlarÄ± ve kullanÄ±mdayken uygulanacak iÅŸlemler, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **PolitikayÄ± Silme** bÃ¶lÃ¼mÃ¼nde detaylÄ± olarak aÃ§Ä±klanmÄ±ÅŸtÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me bakabilirsiniz: [PolitikayÄ± Silme](/tr/gelistirici/politikalar/politika-nedir#politika-silme)

## PolitikayÄ± DÄ±ÅŸa/Ä°Ã§e Aktarma

Bu politikanÄ±n dÄ±ÅŸa aktarma (Export) adÄ±mlarÄ± ve kullanÄ±labilecek seÃ§enekler, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **DÄ±ÅŸa Aktarma Ä°ÅŸlemi** bÃ¶lÃ¼mÃ¼nde aÃ§Ä±klanmaktadÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me bakabilirsiniz: [PolitikayÄ± DÄ±ÅŸa/Ä°Ã§e Aktarma](/tr/gelistirici/politikalar/politika-nedir#politika-export)

## PolitikayÄ± API'ye BaÄŸlama

Bu politikanÄ±n API'lere nasÄ±l baÄŸlanacaÄŸÄ±na iliÅŸkin sÃ¼reÃ§, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **PolitikayÄ± API'ye BaÄŸlama** bÃ¶lÃ¼mÃ¼nde detaylandÄ±rÄ±lmÄ±ÅŸtÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me gÃ¶z atabilirsiniz: [PolitikayÄ± API'ye BaÄŸlama](/tr/gelistirici/politikalar/politika-nedir#politika-api-baglama)

## Ä°leri DÃ¼zey Ã–zellikler

| Ã–zellik | AÃ§Ä±klama ve AdÄ±mlar |
|---------|---------------------|
| **Variable ile Dinamik IP YÃ¶netimi** | - Ã–ncelikle bir Variable oluÅŸturun (Variables menÃ¼sÃ¼nden). Variable tipi "String List" veya "JSON" olmalÄ±dÄ±r.<br/>- Variable'Ä± external sistem ile besleyin (Database, Hazelcast, API vb.).<br/>- Politika oluÅŸturma/dÃ¼zenleme sayfasÄ±nda "Use Apinizer Default" toggle'Ä±nÄ± kapatÄ±n.<br/>- "Variable" bÃ¶lÃ¼mÃ¼nden ilgili variable'Ä± seÃ§in.<br/>- Kaydedin. ArtÄ±k her istek geldiÄŸinde IP listesi variable'dan okunur.<br/>- Manuel gÃ¼ncelleme gerektirmez, gerÃ§ek zamanlÄ± IP listesi yÃ¶netimi. |
| **IP Grubu ile Merkezi YÃ¶netim** | - IP Group menÃ¼sÃ¼nden yeni bir IP Grubu oluÅŸturun (Ã¶rn: "Partner IPs").<br/>- IP grubuna IP'leri ekleyin (aynÄ± mantÄ±k, IPv4 ve CIDR destekli).<br/>- FarklÄ± IP Beyaz Listesi politikalarÄ±nda bu grubu kullanÄ±n.<br/>- IP Grubunu gÃ¼ncelleyin (yeni IP ekle/Ã§Ä±kar).<br/>- DeÄŸiÅŸiklik otomatik olarak bu grubu kullanan tÃ¼m politikalara yansÄ±r.<br/>- **Avantaj:** Bir IP setini birden fazla politikada kullanma, tek noktadan gÃ¼ncelleme. |
| **Geolocation ile Ãœlke BazlÄ± Engelleme** | **Ã–n Gereksinim:** Geolocation Settings'den Geolocation servisinin aktif edilmiÅŸ olmasÄ±.<br/>- Politika sayfasÄ±nda "Geolocation" bÃ¶lÃ¼mÃ¼nde Ã¼lke dropdown'Ä±nÄ± aÃ§Ä±n.<br/>- Ä°stenen Ã¼lkeyi seÃ§in (Ã¶rn: Germany).<br/>- Åehir seÃ§meden [ Add ] butonuna tÄ±klayÄ±n (tÃ¼m Ã¼lke iÃ§in geÃ§erli olur).<br/>- Birden fazla Ã¼lke ekleyebilirsiniz.<br/>- **Avantaj:** IP bilgisine gerek kalmadan coÄŸrafi lokasyon bazlÄ± eriÅŸim kontrolÃ¼ |
| **Geolocation ile Åehir BazlÄ± Engelleme** | - Ãœlke seÃ§tikten sonra "City" dropdown'Ä± aktif olur.<br/>- Bir veya birden fazla ÅŸehir seÃ§in (multi-select destekler).<br/>- [ Add ] butonuna tÄ±klayÄ±n.<br/>- Eklenen ÅŸehirler tablo formatÄ±nda gÃ¶rÃ¼nÃ¼r.<br/>- **Ã–rnek:** "TÃ¼rkiye - Ä°stanbul" ve "TÃ¼rkiye - Ankara" seÃ§ilirse sadece bu iki ÅŸehirden istekler kabul edilir.<br/>- **Dikkat:** Åehir verisinin doÄŸruluÄŸu Geolocation saÄŸlayÄ±cÄ±sÄ±na baÄŸlÄ±dÄ±r. |
| **Condition ile KoÅŸullu IP KontrolÃ¼** | - Politika dÃ¼zenleme sayfasÄ±nda "Condition" sekmesine geÃ§in.<br/>- Query Builder'da koÅŸul oluÅŸturun (Ã¶rn: `path='/admin' OR header.X-Admin-Request='true'`).<br/>- KoÅŸul saÄŸlandÄ±ÄŸÄ±nda IP kontrolÃ¼ yapÄ±lÄ±r, saÄŸlanmazsa politika atlanÄ±r.<br/>- Kaydedin.<br/>- Admin endpoint'lere Ã¶zel IP kÄ±sÄ±tlamasÄ±, public API'lere IP kontrolÃ¼ yok.<br/>- **Avantaj:** AynÄ± API Proxy'de farklÄ± endpoint'ler iÃ§in farklÄ± politika davranÄ±ÅŸlarÄ±. |
| **Hata MesajÄ± Ã–zelleÅŸtirme** | - "Error Message Customization" sekmesine geÃ§in.<br/>- Hata tipi seÃ§in (Ã¶rn: "IP Not Whitelisted").<br/>- HTTP Status Code deÄŸiÅŸtirin (Ã¶rn: 403 yerine 401).<br/>- Custom JSON mesajÄ± girin:<br/>```json\n{\n  "error": "EriÅŸim Reddedildi",\n  "message": "IP adresiniz beyaz listede deÄŸil",\n  "code": "IP_NOT_ALLOWED"\n}\n```<br/>- Dil bazlÄ± mesajlar ekleyin (TR, EN).<br/>- Kaydedin.<br/>- **Avantaj:** KullanÄ±cÄ±ya daha anlamlÄ± hata mesajlarÄ±, custom error tracking. |
| **Export/Import ile Politika TaÅŸÄ±ma** | **Export:**<br/>- Politika listesinde "..." menÃ¼sÃ¼nden [ Export ] seÃ§in.<br/>- ZIP dosyasÄ± indirilir (format: `DD-MMM-YYYY-policy-[name]-export.zip`).<br/><br/>**Import:**<br/>- Liste sayfasÄ±nda [ Import ] butonuna tÄ±klayÄ±n.<br/>- Export edilmiÅŸ ZIP dosyasÄ±nÄ± seÃ§in.<br/>- Import ayarlarÄ±nÄ± yapÄ±n (override, yeni ad vb.).<br/>- Import iÅŸlemini tamamlayÄ±n.<br/>- **Avantaj:** GeliÅŸtirme â†’ Test â†’ CanlÄ± ortam arasÄ±nda politika taÅŸÄ±ma, yedekleme. |
| **Policy Group ile Toplu YÃ¶netim** | - "Policy Group" menÃ¼sÃ¼nden yeni bir grup oluÅŸturun.<br/>- IP Beyaz Listesi politikasÄ± dahil birden fazla politikayÄ± gruba ekleyin.<br/>- Policy Group'u bir veya birden fazla API Proxy'ye atayÄ±n.<br/>- Grup iÃ§indeki tÃ¼m politikalar toplu olarak uygulanÄ±r.<br/>- **Avantaj:** Birden fazla politikayÄ± paket olarak yÃ¶netme, toplu deploy. |

## Ä°puÃ§larÄ± ve En Ä°yi Uygulamalar

### YapÄ±lmasÄ± Gerekenler ve En Ä°yi Uygulamalar

| Kategori | AÃ§Ä±klama / Ã–neriler |
|----------|---------------------|
| **IP FormatÄ± ve TanÄ±mlama** | **KÃ¶tÃ¼:** `192.168.1` (eksik format)<br/>**Ä°yi:** `192.168.1.100` (tam IPv4 adresi)<br/>**En Ä°yi:** `192.168.1.0/24` (CIDR ile IP aralÄ±ÄŸÄ±, 254 adresi tek tanÄ±mla) |
| **IP Grubu KullanÄ±mÄ±** | **KÃ¶tÃ¼:** Her politikada aynÄ± IP listesini manuel eklemek<br/>**Ä°yi:** IP grubunu bir kez tanÄ±mlamak<br/>**En Ä°yi:** Ä°lgili IP'leri kategorize ederek gruplamak (Ã¶rn: "Partner IPs", "Office IPs", "QA Team IPs") |
| **Global vs Local Politika SeÃ§imi** | **KÃ¶tÃ¼:** Her API Proxy iÃ§in ayrÄ± local IP Beyaz Listesi politikasÄ± oluÅŸturmak<br/>**Ä°yi:** Ortak gÃ¼venlik politikasÄ± olarak global politika kullanmak<br/>**En Ä°yi:** Genel kurallar iÃ§in global, Ã¶zel durumlar iÃ§in local politika kullanmak |
| **Geolocation KullanÄ±mÄ±** | **KÃ¶tÃ¼:** TÃ¼m Ã¼lke IP bloklarÄ±nÄ± manuel eklemek<br/>**Ä°yi:** Geolocation servisini aktif etmek<br/>**En Ä°yi:** Ãœlke ve ÅŸehir kombinasyonlarÄ±nÄ± kullanarak hassas kontrol saÄŸlamak |
| **Variable ile Dinamik YÃ¶netim** | **KÃ¶tÃ¼:** Her IP deÄŸiÅŸikliÄŸinde politikayÄ± gÃ¼ncellemek<br/>**Ä°yi:** Variable kullanarak harici sistemden IP listesi almak<br/>**En Ä°yi:** Variable'Ä± Hazelcast/Database'de cache'leyerek yÃ¼ksek performans saÄŸlamak |
| **Hata MesajÄ± Ã–zelleÅŸtirme** | **KÃ¶tÃ¼:** Default 403 hatasÄ± kullanmak<br/>**Ä°yi:** Custom JSON mesajÄ± ile detaylÄ± aÃ§Ä±klama yapmak<br/>**En Ä°yi:** FarklÄ± hata senaryolarÄ± iÃ§in farklÄ± mesajlar, log ID eklemek |
| **Politika AdlandÄ±rma** | **KÃ¶tÃ¼:** `policy1`, `ipwhite` gibi belirsiz isimler<br/>**Ä°yi:** `IP_White_List_Production` gibi aÃ§Ä±klayÄ±cÄ± isimler<br/>**En Ä°yi:** `[ENV]_[Purpose]_IP_White` formatÄ± (Ã¶rn: `PROD_Partner_API_IP_White`) |
| **Condition KullanÄ±mÄ±** | **KÃ¶tÃ¼:** TÃ¼m endpoint'lere aynÄ± IP kÄ±sÄ±tlamasÄ± uygulamak<br/>**Ä°yi:** Public ve private endpoint'leri ayÄ±rmak<br/>**En Ä°yi:** Condition ile `/admin/*` path'lerine Ã¶zel IP kontrolÃ¼, `/public/*` path'lerine IP kontrolÃ¼ yapmamak |

### GÃ¼venlik En Ä°yi UygulamalarÄ±

| GÃ¼venlik AlanÄ± | AÃ§Ä±klama / UyarÄ±lar |
|----------------|---------------------|
| **En Az Yetki Prensibi (Least Privilege)** | **Kritik:** IP Beyaz Listesine sadece gerÃ§ekten gerekli IP'leri ekleyin. GeniÅŸ CIDR bloklarÄ± (Ã¶rn: `0.0.0.0/0`) kullanmaktan **kesinlikle** kaÃ§Ä±nÄ±n.<br/>**Ã–neri:** /32 (tek IP) veya en fazla /24 (256 IP) kullanÄ±n. |
| **IP Spoofing ve Proxy GÃ¼venliÄŸi** | **UyarÄ±:** EÄŸer API Gateway Ã¶nÃ¼nde bir Load Balancer veya Reverse Proxy varsa, gerÃ§ek istemci IP'sini almak iÃ§in `X-Forwarded-For` veya `X-Real-IP` header'larÄ±nÄ± doÄŸru yapÄ±landÄ±rÄ±n.<br/>**Risk:** IP spoofing ile beyaz listeyi bypass etme riski. |
| **Geolocation GÃ¼venilirliÄŸi** | **Not:** Geolocation servisleri %100 doÄŸru deÄŸildir. VPN ve Proxy kullanÄ±mÄ± ile atlatÄ±labilir.<br/>**Ã–neri:** Geolocation'Ä± tek baÅŸÄ±na deÄŸil, diÄŸer gÃ¼venlik katmanlarÄ± (JWT, API Key vb.) ile birlikte kullanÄ±n. |
| **Variable GÃ¼venliÄŸi** | **GÃ¼venlik Riski:** Variable iÃ§eriÄŸi harici sistemden geliyorsa, bu sistemin gÃ¼venliÄŸini saÄŸlayÄ±n.<br/>**Ã–neri:** Variable datasource'u iÃ§in authentication, encryption ve access control uygulayÄ±n. |
| **Hata MesajÄ± Bilgi SÄ±zÄ±ntÄ±sÄ±** | **Dikkat:** Hata mesajlarÄ±nda sistem mimarisi veya internal IP'ler hakkÄ±nda bilgi vermeyin.<br/>**KÃ¶tÃ¼:** "Your IP 203.0.113.5 is not in whitelist. Allowed range: 192.168.1.0/24"<br/>**Ä°yi:** "Access denied. Your IP address is not authorized." |
| **DÃ¼zenli GÃ¼ncelleme ve GÃ¶zden GeÃ§irme** | **Best Practice:** IP Beyaz Listesini dÃ¼zenli olarak gÃ¶zden geÃ§irin (Ã¶rn: aylÄ±k).<br/>**Aksiyon:** KullanÄ±lmayan, eski partner IP'lerini kaldÄ±rÄ±n. DeÄŸiÅŸen IP'leri gÃ¼ncelleyin. Audit log'larÄ±nÄ± kontrol edin. |
| **Multi-Factor Security** | **Ã–neri:** IP Beyaz Listesini tek gÃ¼venlik katmanÄ± olarak kullanmayÄ±n.<br/>**Best Practice:** IP kontrolÃ¼ + API Key/JWT + Rate Limiting kombinasyonu kullanÄ±n. |
| **Production Ortam Ä°zolasyonu** | **Kritik:** Production ortamÄ± iÃ§in ayrÄ± global politika oluÅŸturun. Test/Development ortamlarÄ±nÄ±n IP'lerini production politikasÄ±na **asla** eklemeyin.<br/>**Ã–neri:** Ortam bazlÄ± Policy Group kullanÄ±n. |

### KaÃ§Ä±nÄ±lmasÄ± Gerekenler

| Kategori | AÃ§Ä±klama / UyarÄ±lar |
|----------|---------------------|
| **GeniÅŸ CIDR BloklarÄ± Kullanma** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** `10.0.0.0/8` gibi geniÅŸ bloklar milyonlarca IP'yi kapsayabilir ve gÃ¼venlik riskini artÄ±rÄ±r.<br/>**Alternatif:** Spesifik subnet'ler kullanÄ±n (Ã¶rn: `10.10.50.0/24`). Ä°htiyaÃ§ duyulan IP'leri teker teker veya kÃ¼Ã§Ã¼k CIDR bloklarla ekleyin. |
| **Variable KullanÄ±rken Fallback TanÄ±mlamama** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Variable servisi down olursa veya boÅŸ dÃ¶nerse tÃ¼m istekler engellenebilir.<br/>**Alternatif:** Variable + Manuel IP listesini birlikte kullanÄ±n. Variable okunamazsa manuel listeye fallback yapÄ±landÄ±rmasÄ± ekleyin. Monitoring ve alerting kurun. |
| **PolitikayÄ± Pasif Durumda BÄ±rakma** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Pasif politika trafiÄŸe uygulanmaz, unutulmasÄ± durumunda gÃ¼venlik aÃ§Ä±ÄŸÄ± oluÅŸabilir.<br/>**Alternatif:** GeÃ§ici olarak test etmek iÃ§in kÄ±sa sÃ¼reliÄŸine pasif yapÄ±n. Test tamamlandÄ±ktan sonra aktif edin veya silin. |
| **Hata MesajÄ±nda IP Bilgisi Vermek** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Hata mesajÄ±nda istemcinin veya izin verilen IP'lerin gÃ¶sterilmesi saldÄ±rganlara bilgi verir.<br/>**Alternatif:** Genel hata mesajlarÄ± kullanÄ±n: "Access denied" veya "Unauthorized". DetaylÄ± loglarÄ± sadece sunucu tarafÄ±nda tutun. |
| **Local Politika ile YÃ¶netimi KarmaÅŸÄ±klaÅŸtÄ±rma** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Her API Proxy iÃ§in ayrÄ± local IP Beyaz Listesi politikasÄ± oluÅŸturmak, yÃ¶netimi zorlaÅŸtÄ±rÄ±r ve IP gÃ¼ncellemelerinde tutarsÄ±zlÄ±k yaratÄ±r.<br/>**Alternatif:** Global politika kullanÄ±n. Sadece gerÃ§ekten farklÄ± IP gereksinimlerine sahip API Proxy'ler iÃ§in local politika oluÅŸturun. |
| **Geolocation'a AÅŸÄ±rÄ± GÃ¼venmek** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** VPN, Tor, Proxy kullanÄ±mÄ± ile coÄŸrafi konum atlatÄ±labilir. Hassas iÅŸlemler iÃ§in yeterli deÄŸildir.<br/>**Alternatif:** Geolocation'Ä± ek gÃ¼venlik katmanÄ± olarak kullanÄ±n. Kritik iÅŸlemler iÃ§in IP + Authentication + MFA kombinasyonu uygulayÄ±n. |
| **Politika GÃ¼ncellemelerini Deploy Etmemek** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Global politikada yapÄ±lan deÄŸiÅŸiklikler deploy edilmeden canlÄ± ortama yansÄ±maz.<br/>**Alternatif:** Politika gÃ¼ncellendikten sonra Deploy butonunu kullanÄ±n. Deploy iÅŸlemini CI/CD pipeline'a entegre edin. |
| **Test Etmeden Production'a GeÃ§iÅŸ** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** YanlÄ±ÅŸ IP yapÄ±landÄ±rmasÄ± tÃ¼m kullanÄ±cÄ±larÄ±n engellenmesine neden olabilir.<br/>**Alternatif:** Test ortamÄ±nda politikayÄ± doÄŸrulayÄ±n. Ã–nce passive modda deploy edin, loglarÄ± kontrol edin. Sonra aktif edin. Rollback planÄ± hazÄ±rlayÄ±n. |

### Performans Ä°puÃ§larÄ±

| Kriter | Ã–neri / Etki |
|--------|--------------|
| **IP Grubu Boyutu** | **Ã–neri:** IP gruplarÄ±nÄ± maksimum 100-200 IP ile sÄ±nÄ±rlayÄ±n. Daha fazla IP gerekiyorsa birden fazla grup oluÅŸturun.<br/>**Etki:** Her istekte tÃ¼m IP listesi kontrol edilir. Ã‡ok bÃ¼yÃ¼k listeler performansÄ± dÃ¼ÅŸÃ¼rÃ¼r (her IP iÃ§in O(n) karÅŸÄ±laÅŸtÄ±rma). |
| **CIDR BloklarÄ±nÄ± Tercih Etme** | **Ã–neri:** MÃ¼mkÃ¼n olduÄŸunca IP aralÄ±klarÄ± iÃ§in CIDR notasyonu kullanÄ±n.<br/>**Performans FarkÄ±:** `192.168.1.1, 192.168.1.2, ..., 192.168.1.254` (254 entry) yerine `192.168.1.0/24` (1 entry) kullanmak 100x daha hÄ±zlÄ±dÄ±r. |
| **Variable Cache Stratejisi** | **Ã–neri:** Variable datasource'unda cache mekanizmasÄ± kullanÄ±n (Hazelcast, Memcached).<br/>**Etki:** Her istekte database query yerine cache'den okuma milisaniyelik gecikmeyi mikrosaniyeye dÃ¼ÅŸÃ¼rÃ¼r. TTL 5-10 dakika olabilir. |
| **Geolocation PerformansÄ±** | **Not:** Geolocation lookup her istekte gerÃ§ekleÅŸir ve ek gecikme yaratÄ±r (ortalama 1-5ms).<br/>**Ã–neri:** YÃ¼ksek trafikli API'lerde geolocation yerine sabit IP listesi kullanmayÄ± tercih edin. Geolocation sonuÃ§larÄ±nÄ± cache'leyin (IP â†’ Country/City mapping). |
| **Condition KarmaÅŸÄ±klÄ±ÄŸÄ±** | **Ã–neri:** Basit ve optimize edilmiÅŸ koÅŸullar yazÄ±n. Gereksiz karmaÅŸÄ±k regex veya nested condition'lardan kaÃ§Ä±nÄ±n.<br/>**Etki:** Basit koÅŸul (`path='/' AND method='GET'`) < 0.1ms. KarmaÅŸÄ±k regex koÅŸul > 1-2ms. |
| **Politika SÄ±ralamasÄ±** | **Best Practice:** Policy Group iÃ§inde IP Beyaz Listesi politikasÄ±nÄ± Ã¶nce Ã§alÄ±ÅŸtÄ±rÄ±n.<br/>**MantÄ±k:** Yetkisiz IP'lerden gelen istekler erken aÅŸamada engellenirse, diÄŸer politikalar (Rate Limiting, JWT vb.) gereksiz yere Ã§alÄ±ÅŸmaz. |
| **Log Seviyesi AyarÄ±** | **Production:** Log seviyesini ERROR veya WARN'da tutun.<br/>**Development:** DEBUG veya TRACE kullanabilirsiniz.<br/>**Etki:** AÅŸÄ±rÄ± logging (her istekte IP kontrolÃ¼ loglanmasÄ±) disk I/O ve performans sorununa yol aÃ§abilir. |
| **Aktif Olmayan PolitikalarÄ± Silme** | **Ã–neri:** KullanÄ±lmayan veya pasif durumdaki politikalarÄ± dÃ¼zenli olarak silin.<br/>**Etki:** VeritabanÄ± ve in-memory policy registry'nin kÃ¼Ã§Ã¼k kalmasÄ±, politika lookup sÃ¼resini azaltÄ±r. |

## SÄ±k Sorulan Sorular (SSS)

| Kategori | Soru (S) | Cevap (C) |
|----------|-----------|-----------|
| **Genel** | IP Beyaz Listesi politikasÄ± kaÃ§ tane IP destekler? | Teknik olarak sÄ±nÄ±r yoktur ancak performans iÃ§in 500-1000 IP Ã¶nerilir. Daha fazla IP iÃ§in IP gruplarÄ± ve CIDR bloklarÄ± kullanÄ±n. Ã‡ok bÃ¼yÃ¼k listeler iÃ§in Variable ile external cache (Hazelcast) kullanÄ±mÄ± Ã¶nerilir. |
| **Genel** | IPv6 adresleri destekleniyor mu? | Mevcut implementasyonda IPv4 ve CIDR bloklarÄ± desteklenmektedir. IPv6 desteÄŸi iÃ§in Ã¼rÃ¼n yol haritasÄ±nda yer almaktadÄ±r. GeÃ§ici Ã§Ã¶zÃ¼m olarak IPv6 trafiÄŸi iÃ§in reverse proxy seviyesinde yÃ¶nlendirme yapabilirsiniz. |
| **Genel** | PolitikayÄ± pasif yapsam bile API Proxy deploy edilmeli mi? | Evet. Global politikalarda yapÄ±lan her deÄŸiÅŸiklik (aktif/pasif dahil) deploy edilmelidir. Local politikalarda API Proxy'nin kendisi deploy edilmelidir. |
| **Teknik** | `X-Forwarded-For` header'Ä±ndan IP nasÄ±l alÄ±nÄ±r? | API Gateway otomatik olarak `X-Forwarded-For`, `X-Real-IP` header'larÄ±nÄ± kontrol eder. Gateway ayarlarÄ±ndan "Use Forwarded IP" seÃ§eneÄŸini aktif etmelisiniz. Header yoksa direkt socket IP'si kullanÄ±lÄ±r. |
| **Teknik** | Variable ile IP listesi nasÄ±l formatlanmalÄ±? | Variable tipi "String List" ise:<br/>`["192.168.1.1", "192.168.1.2", "10.0.0.0/8"]`<br/>Variable tipi "JSON" ise:<br/>`{"ipList": ["192.168.1.1", "192.168.1.2"], "allowAll": false}`<br/>Variable her istek geldiÄŸinde okunur veya cache'den alÄ±nÄ±r. |
| **Teknik** | CIDR bloÄŸu nasÄ±l hesaplanÄ±r? | CIDR notasyonu: `IP_ADDRESS/PREFIX_LENGTH`<br/>**Ã–rnekler:**<br/>- `192.168.1.0/32` = Tek IP (192.168.1.0)<br/>- `192.168.1.0/24` = 256 IP (192.168.1.0 - 192.168.1.255)<br/>- `10.0.0.0/8` = 16,777,216 IP (10.0.0.0 - 10.255.255.255)<br/>Online CIDR hesaplayÄ±cÄ±larÄ± kullanabilirsiniz. |
| **Teknik** | Politika uygulandÄ±ÄŸÄ±nda hangi HTTP header'lar eklenir? | Politika baÅŸarÄ±lÄ± olduÄŸunda herhangi bir header eklenmez. BaÅŸarÄ±sÄ±z olduÄŸunda (IP reddedildi) custom hata mesajÄ± dÃ¶ner. Debugging iÃ§in `X-Apinizer-Policy-Status: REJECTED` gibi custom header'lar ekleyebilirsiniz. |
| **KullanÄ±m** | Hem IP listesi hem de Geolocation kullanÄ±rsam mantÄ±k AND mi OR mu? | **OR** mantÄ±ÄŸÄ± Ã§alÄ±ÅŸÄ±r. Yani istemci IP'si ÅŸu kaynaklardan **herhangi birine** uyuyorsa kabul edilir:<br/>- Manuel IP listesi<br/>- IP GruplarÄ±ndaki IP'ler<br/>- Geolocation Ã¼lke/ÅŸehir kurallarÄ±<br/>- Variable'dan gelen IP'ler<br/>HiÃ§birine uymuyorsa reddedilir. |
| **KullanÄ±m** | Global politikayÄ± gÃ¼ncelledim ama API'de yansÄ±madÄ±, neden? | Global politika deÄŸiÅŸiklikleri deploy edilmelidir. Ä°ÅŸlem adÄ±mlarÄ±:<br/>- PolitikayÄ± kaydedin.<br/>- Politika detay sayfasÄ±ndaki "Deploy" butonuna tÄ±klayÄ±n.<br/>- Deploy edilecek ortamlarÄ± (DEV, TEST, PROD) seÃ§in.<br/>- Deploy iÅŸlemini onaylayÄ±n.<br/>- Deploy sonrasÄ± 1-2 dakika iÃ§inde deÄŸiÅŸiklikler canlÄ±ya yansÄ±r. |
| **KullanÄ±m** | IP Grubunu silersem politika ne olur? | **Dikkat:** IP Grubu silinirse, bu grubu kullanan politikalar **geÃ§ersiz** hale gelir (âš ï¸ validation warning gÃ¶sterilir). Politika ipGroupIdList'inde silinen grup ID'si kalÄ±r ancak IP'ler eÅŸleÅŸmez.<br/>**Ã–neri:** IP Grubu silmeden Ã¶nce hangi politikalarda kullanÄ±ldÄ±ÄŸÄ±nÄ± kontrol edin. Gerekirse politikalarÄ± Ã¶nce gÃ¼ncelleyin. |
| **KullanÄ±m** | Geolocation servisi nasÄ±l aktifleÅŸtirilir? | - Admin menÃ¼sÃ¼nden "Geolocation Settings" sayfasÄ±na gidin.<br/>- Geolocation saÄŸlayÄ±cÄ±sÄ±nÄ± seÃ§in (Ã¶rn: MaxMind GeoIP2).<br/>- API Key veya lisans bilgilerini girin.<br/>- "Test Connection" ile baÄŸlantÄ±yÄ± test edin.<br/>- "Enable Geolocation" toggle'Ä±nÄ± aÃ§Ä±n ve kaydedin.<br/>- Geolocation database'i dÃ¼zenli gÃ¼ncellenmelidir (aylÄ±k). |
| **KullanÄ±m** | Bir API Proxy'de hem global hem local IP Beyaz Listesi politikasÄ± kullanabilir miyim? | Teknik olarak evet, ancak **Ã¶nerilmez**. Ä°ki politika da aktif ise **AND** mantÄ±ÄŸÄ± Ã§alÄ±ÅŸÄ±r (her iki listeye de uymasÄ± gerekir). KarmaÅŸÄ±k yÃ¶netim ve beklenmeyen bloklamalara yol aÃ§abilir.<br/>**Best Practice:** Global politika kullanÄ±n. Spesifik durum varsa global politikayÄ± localize edin ve Ã¶zelleÅŸtirin. |

## Hata Giderme

### "Invalid IP address format" hatasÄ± alÄ±yorum, neden?

IP adresi formatÄ± hatalÄ±dÄ±r. GeÃ§erli formatlar:

- âœ… `192.168.1.100` (IPv4)
- âœ… `10.0.0.0/8` (CIDR)
- âŒ `192.168.1` (eksik oktet)
- âŒ `192.168.1.300` (300 > 255, geÃ§ersiz)
- âŒ `192.168.1.0/33` (CIDR prefix 0-32 arasÄ±nda olmalÄ±)

IP'nizi bu formatlara gÃ¶re dÃ¼zenleyin.

### Whitelist'e eklediÄŸim IP hala 403 alÄ±yor, ne yapmalÄ±yÄ±m?

Troubleshooting adÄ±mlarÄ±:

- Politika **aktif** mi kontrol edin (active=true).
- Global politika ise **deploy edilmiÅŸ** mi kontrol edin.
- API Gateway loglarÄ±nda istemcinin gerÃ§ek IP'sini gÃ¶rÃ¼n (Load Balancer arkasÄ±ndaysa X-Forwarded-For).
- Condition tanÄ±mlÄ± mÄ±? KoÅŸul saÄŸlanÄ±yor mu kontrol edin.
- IP doÄŸru formatta mÄ±? CIDR bloÄŸu doÄŸru hesaplanmÄ±ÅŸ mÄ±?
- Variable kullanÄ±lÄ±yorsa variable iÃ§eriÄŸini kontrol edin.
- Cache temizliÄŸi yapÄ±n (politika cache'i reload).

Hala sorun varsa destek ekibine log dosyalarÄ±nÄ± iletin.

### Geolocation kontrolÃ¼ Ã§alÄ±ÅŸmÄ±yor, ne yapmalÄ±yÄ±m?

Kontrol listesi:

- Geolocation Settings'de servis aktif mi?
- Geolocation database gÃ¼ncel mi? (Son gÃ¼ncelleme tarihini kontrol edin)
- Ä°stemci IP'si public IP mi? (Private IP'ler iÃ§in geolocation Ã§alÄ±ÅŸmaz: 192.168.x.x, 10.x.x.x)
- VPN veya Proxy kullanÄ±lÄ±yor olabilir (gerÃ§ek lokasyonu gizler).
- API Gateway loglarÄ±nda geolocation lookup sonucunu kontrol edin (hangi Ã¼lke/ÅŸehir tespit edilmiÅŸ).
- Geolocation saÄŸlayÄ±cÄ±sÄ±nÄ±n API limit'ine ulaÅŸÄ±lmÄ±ÅŸ olabilir.
