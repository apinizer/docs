---
title: 'mTLS Kimlik DoÄŸrulama'
description: 'Ä°stemci TLS sertifikalarÄ±nÄ± doÄŸrulayarak gÃ¼venli karÅŸÄ±lÄ±klÄ± kimlik doÄŸrulama saÄŸlar'
---

**Son GÃ¼ncelleme:** 10 KasÄ±m 2025  
**Hedef Kitle:** Sistem YÃ¶neticileri, Backend GeliÅŸtiriciler, DevOps MÃ¼hendisleri

**ğŸ’¡ Politikalar hakkÄ±nda bilginiz var mÄ±?**  
Bu dokÃ¼man spesifik bir politikanÄ±n detaylÄ± kullanÄ±mÄ±nÄ± anlatÄ±r. EÄŸer Apinizer politika yapÄ±sÄ±nÄ± ilk kez kullanÄ±yorsanÄ±z veya politikalarÄ±n genel Ã§alÄ±ÅŸma prensiplerini Ã¶ÄŸrenmek istiyorsanÄ±z, Ã¶ncelikle [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±nÄ± okumanÄ±zÄ± Ã¶neririz.

| **Politika AdÄ±** | mTLS Kimlik DoÄŸrulama PolitikasÄ± |
|---|:---|
| **Ã–zet** | Ä°stemci TLS sertifikalarÄ±nÄ± doÄŸrulayarak gÃ¼venli karÅŸÄ±lÄ±klÄ± kimlik doÄŸrulama saÄŸlar. |
| **Kategori** | GÃ¼venlik ve EriÅŸim KontrolÃ¼ |
| **DÃ¶nÃ¼ÅŸ Durum KodlarÄ±** | <table><thead><tr><th>Hata Kodu</th><th>Hata MesajÄ±</th><th>HTTP Durum Kodu</th></tr></thead><tbody><tr><td>ERR-176</td><td>mTLS Authentication policy failed! Certificate(s) is missing!</td><td>401</td></tr><tr><td>ERR-177</td><td>mTLS Authentication policy failed! Certificate(s) is not valid! Detailed Message is: {0}</td><td>401</td></tr><tr><td>ERR-178</td><td>mTLS Authentication policy failed! Issuer information in Certificate(s) is missing!</td><td>401</td></tr><tr><td>ERR-179</td><td>mTLS Authentication policy failed! Error message is: {0}</td><td>500</td></tr><tr><td>ERR-180</td><td>mTLS Authentication policy failed! Credential's mTLS setting is disabled!</td><td>500</td></tr><tr><td>ERR-181</td><td>mTLS Authentication policy failed! Certificate(s) does not match with Credential's certificate(s) or not valid! Detailed Message is: {0}</td><td>500</td></tr></tbody></table> |

## Genel BakÄ±ÅŸ

### AmacÄ± Nedir?

- Kurumsal API Proxy (API Vekil Sunucusu) trafiÄŸinde istemci sertifikasÄ±nÄ± zorunlu kÄ±larak kimlik doÄŸrulama yapmak ve sadece yetkili istemcilerin eriÅŸimini saÄŸlamak.
- Sertifika hiyerarÅŸisinin gÃ¼venilir Certificate Authority (CA) zincirleri ile uyuÅŸtuÄŸunu doÄŸrulayarak sahte sertifika riskini ortadan kaldÄ±rmak.
- Ä°stemci sertifikasÄ±nÄ± Ã¶nceden tanÄ±mlÄ± Issuer ACL listeleriyle eÅŸleÅŸtirip, belirli kurum veya cihazlara Ã¶zel eriÅŸim stratejisi oluÅŸturmak.
- Yetkilendirme modÃ¼lÃ¼yle birlikte Ã§alÄ±ÅŸarak sertifikadan elde edilen kimliÄŸi politikaya baÄŸlÄ± rol kontrolleriyle pekiÅŸtirmek.

### Ã‡alÄ±ÅŸma Prensibi

1. **Ä°stek GeliÅŸi**: API Gateway'e gelen her HTTP/HTTPS isteÄŸi iÃ§in, istemin kaynak IP adresi tespit edilir.
2. **Politika KontrolÃ¼**: mTLS Kimlik DoÄŸrulama politikasÄ± aktif ise, sistem aÅŸaÄŸÄ±daki sÄ±rayla kontrol yapar:
   - Condition (koÅŸul) tanÄ±mlÄ± mÄ±? Varsa koÅŸul saÄŸlanÄ±yor mu?
   - Politika aktif mi (active=true)?
   - Variable kullanÄ±lÄ±yor mu yoksa Apinizer default mÄ±?
3. **Sertifika ve Issuer DoÄŸrulamasÄ±**: mTLS handshake tamamlandÄ±ktan sonra istemci sertifikasÄ±nÄ±n geÃ§erlilik tarihleri, imzasÄ± ve tanÄ±mlÄ± issuer listesi doÄŸrulanÄ±r; isteÄŸe baÄŸlÄ± olarak Issuer ACL kayÄ±tlarÄ±yla eÅŸleÅŸme aranÄ±r.
4. **Karar Verme**:
   - **EÅŸleÅŸme Var**: Sertifika kabul edilir, gerekirse kimlik bilgisi ve roller header alanlarÄ±na eklenir, isteÄŸin yÃ¶nlendirilmesine izin verilir.
   - **EÅŸleÅŸme Yok**: Sertifika veya issuer doÄŸrulamasÄ± baÅŸarÄ±sÄ±z olur, isteÄŸin yÃ¶nlendirilmesi durdurulur ve yapÄ±landÄ±rÄ±lmÄ±ÅŸ hata yanÄ±tÄ± dÃ¶ndÃ¼rÃ¼lÃ¼r.
5. **Hata Ä°ÅŸleme**: Politika kuralÄ±na uymayan istekler iÃ§in Ã¶zelleÅŸtirilebilir HTTP durum kodu ve hata mesajÄ± dÃ¶ndÃ¼rÃ¼lÃ¼r.

## Ã–zellikler ve Yetenekler

### Temel Ã–zellikler

- **Sertifika Issuer DoÄŸrulama**: Gelen istemci sertifikasÄ±nÄ±n issuer bilgilerini kayÄ±tlÄ± CA zinciri ve Issuer ACL listeleriyle karÅŸÄ±laÅŸtÄ±rÄ±r.
- **Dinamik Sertifika GeÃ§erlilik KontrolÃ¼**: SertifikanÄ±n tarih ve imza bÃ¼tÃ¼nlÃ¼ÄŸÃ¼nÃ¼ her istek iÃ§in kontrol ederek geÃ§ersiz sertifikalarÄ± anÄ±nda reddeder.
- **ACL TabanlÄ± EriÅŸim**: Issuer bazlÄ± eriÅŸim kontrollerini IP denetimi ile geniÅŸleterek belirli aÄŸ segmentlerine Ã¶zgÃ¼ izinler tanÄ±mlar.
- **Aktif/Pasif Durum KontrolÃ¼**: PolitikanÄ±n aktif veya pasif durumunu kolayca deÄŸiÅŸtirme (active/passive toggle). Pasif durumda politika uygulanmaz ancak yapÄ±landÄ±rmasÄ± saklanÄ±r.
- **KoÅŸul BazlÄ± Uygulama**: Query Builder ile karmaÅŸÄ±k koÅŸullar oluÅŸturarak politikanÄ±n ne zaman uygulanacaÄŸÄ±nÄ± belirleme (Ã¶rn: sadece belirli endpoint'lere veya header deÄŸerlerine gÃ¶re).

### Ä°leri DÃ¼zey Ã–zellikler

- **Header Enjeksiyonu YÃ¶netimi**: Sertifika Ã¶znesinden Ã§Ä±karÄ±lan kullanÄ±cÄ± kimliÄŸini ve rolleri Ã¶zel header alanlarÄ±na yazarak downstream servislerine aktarÄ±r.
- **Yetkilendirme Servisi Entegrasyonu**: API, veritabanÄ± veya Secret Manager kaynaklÄ± yetkilendirme akÄ±ÅŸlarÄ±nÄ± devreye alarak mTLS kimlik doÄŸrulamayÄ± rol tabanlÄ± eriÅŸimle birleÅŸtirir.
- **Metot BazlÄ± Yetki KÄ±sÄ±tlarÄ±**: HTTP metoduna gÃ¶re eriÅŸim kurallarÄ± tanÄ±mlayarak hassas operasyonlarÄ± granular dÃ¼zeyde kontrol eder.
- **Export/Import Ã–zelliÄŸi**: Politika yapÄ±landÄ±rmasÄ±nÄ± ZIP dosyasÄ± olarak export etme. FarklÄ± ortamlara (Development, Test, Production) import etme. Versiyon kontrolÃ¼ ve yedekleme imkanÄ±.
- **Policy Group ve Proxy Group DesteÄŸi**: Birden fazla politikayÄ± Policy Group iÃ§inde yÃ¶netme. Proxy Group'lara toplu politika atama. Merkezi gÃ¼ncelleme ve deploy iÅŸlemleri.
- **Deploy ve Versiyonlama**: Politika deÄŸiÅŸikliklerini canlÄ± ortama deploy etme. Hangi API Proxy'lerde kullanÄ±ldÄ±ÄŸÄ±nÄ± gÃ¶rme (Policy Usage). Proxy Group ve Policy Group kullanÄ±m raporlarÄ±.

## KullanÄ±m SenaryolarÄ±

| Senaryo | Durum | Ã‡Ã¶zÃ¼m (Politika UygulamasÄ±) | Beklenen DavranÄ±ÅŸ / SonuÃ§ |
|---------|-------|----------------------------|---------------------------|
| Finans Kurumsal EriÅŸim | Finansal servisler sadece ÅŸirket laptoplarÄ±ndan Ã§aÄŸrÄ±lÄ±yor | Issuer ACL'e kurum CA sertifikasÄ± eklenir, `validateCertificatesIssuer` ve `validateACLForIssuer` aktif edilir | Kurumsal cihazlardan gelen istekler kabul edilir, diÄŸerleri 403 dÃ¶ner |
| IoT Cihaz KimliÄŸi | Edge gateway'ler sertifika ile baÄŸlanÄ±yor | `validateCertificate` aÃ§Ä±k, ACL'de cihaz sertifikalarÄ± listelenir | Ä°zinli cihaz sertifikalarÄ± yÃ¶nlendirilir, sÃ¼resi geÃ§miÅŸ sertifikalar 401 alÄ±r |
| Partner API EriÅŸimi | DÄ±ÅŸ partnerlere sÄ±nÄ±rlÄ± endpoint eriÅŸimi | Query Builder'da path koÅŸulu, ACL'de partner issuer sertifikasÄ± | Partner sertifikasÄ± eÅŸleÅŸirse sadece tanÄ±mlÄ± endpoint eriÅŸimi saÄŸlanÄ±r |
| Ã‡oklu Ortam YÃ¶netimi | Test ortamÄ± iÃ§in gevÅŸek kontrol, canlÄ±da sÄ±kÄ± kontrol | GeliÅŸtirme ortamÄ±nda `validateACLForIssuer` pasif, canlÄ±da aktif | GeliÅŸtirme ortamÄ± esnek kalÄ±r, CanlÄ± Ortam'da sadece tanÄ±mlÄ± sertifikalar kabul edilir |
| Rol BazlÄ± Yetki | AynÄ± sertifikayla farklÄ± servis rolleri uygulanacak | `enableAuthorization` aktif, roller header'a yazÄ±lÄ±r | Downstream servis rol header'Ä±nÄ± okuyarak yetki verir |
| IP KÄ±sÄ±tlamasÄ± | Sertifika paylaÅŸÄ±mÄ± riskine karÅŸÄ± IP eÅŸlemesi | `checkClientIpAddress` etkin, ACL'de IP eÅŸleÅŸmesi aranÄ±r | Sertifika-IP eÅŸleÅŸmeyen istekler reddedilir |
| Ä°steÄŸe BaÄŸlÄ± Senaryo | *(opsiyonel)* | | |

## Politika Parametrelerini YapÄ±landÄ±rma

Bu adÄ±mda, kullanÄ±cÄ± **yeni bir politika oluÅŸturabilir** ya da **mevcut politika parametrelerini yapÄ±landÄ±rarak** eriÅŸim kurallarÄ±nÄ± belirleyebilir. TanÄ±mlanan parametreler, politikanÄ±n Ã§alÄ±ÅŸma ÅŸeklini (Ã¶rneÄŸin hangi IP'lerin izinli olacaÄŸÄ±, coÄŸrafi kÄ±sÄ±tlamalar, koÅŸullu aktivasyonlar vb.) doÄŸrudan etkiler. Bu sayede politika hem kuruma Ã¶zel gereksinimlere gÃ¶re Ã¶zelleÅŸtirilebilir hem de merkezi olarak yÃ¶netilebilir.

### Yeni mTLS Kimlik DoÄŸrulama PolitikasÄ± OluÅŸturma

<img src="/images/gelistirici/politikalar/mtls-1.png" alt="mTLS Kimlik DoÄŸrulama PolitikasÄ±" width="1000" />

### YapÄ±landÄ±rma AdÄ±mlarÄ±

| AdÄ±m | AÃ§Ä±klama / Ä°ÅŸlem |
|------|------------------|
| **AdÄ±m 1: OluÅŸturma SayfasÄ±na Gitme** | - Sol menÃ¼den **Development â†’ Global Settings â†’ Global Policies â†’ mTLS Kimlik DoÄŸrulama PolitikasÄ±** bÃ¶lÃ¼mÃ¼ne gidin.<br />- SaÄŸ Ã¼stteki **[+ Create]** butonuna tÄ±klayÄ±n. |
| **AdÄ±m 2: Temel Bilgileri Girme** | **Policy Status (Politika Durumu):** Aktif/Pasif durumu gÃ¶sterir. Yeni politikalar varsayÄ±lan olarak aktiftir.<br /><br />**Name (Ä°sim) Zorunlu:** Ã–rnek: `Production_mTLSAuth`<br />- Benzersiz isim girin, boÅŸlukla baÅŸlamaz.<br />- Sistem otomatik kontrol eder. YeÅŸil tik: kullanÄ±labilir. KÄ±rmÄ±zÄ± Ã§arpÄ±: mevcut isim.<br /><br />**Description (AÃ§Ä±klama):** Ã–rnek: "Kurumsal istemciler iÃ§in mTLS kimlik doÄŸrulamasÄ±"<br />- Maks. 1000 karakter.<br />- PolitikanÄ±n amacÄ±nÄ± aÃ§Ä±klayÄ±n. |
| **AdÄ±m 3: Sertifika DoÄŸrulama Parametreleri** | - **Validate Certificates Issuer**: CA zincirinin tanÄ±mlÄ± issuer kayÄ±tlarÄ±yla eÅŸleÅŸmesini zorunlu kÄ±lar.<br />- **Validate Certificate**: SertifikanÄ±n geÃ§erlilik tarihlerini ve imzasÄ±nÄ± kontrol eder.<br />- **Validate ACL For Issuer**: Issuer bazlÄ± ACL tablosunu devreye alÄ±r; Issuer listesi olmadÄ±ÄŸÄ± durumda UyarÄ±: Politika 401 dÃ¶ndÃ¼rebilir. |
| **AdÄ±m 4: ACL ve IP EÅŸlemesi** | - **Check Client IP Address**: Sertifika ile kayÄ±tlÄ± istemci IP'sinin eÅŸleÅŸmesini arar.<br />- Issuer ACL yÃ¶netim ekranÄ±ndan yetkili IP bloklarÄ±nÄ± tanÄ±mlayÄ±n.<br />- Sertifika paylaÅŸÄ±mÄ± riskine karÅŸÄ± IP kontrolÃ¼nÃ¼ etkin tutun. |
| **AdÄ±m 5: Header ve Yetkilendirme AyarlarÄ±** | - **Add User To Header**: Sertifika Ã¶znesinden Ã§Ä±karÄ±lan kullanÄ±cÄ± kimliÄŸini `User Header Name` alanÄ±na yazar.<br />- **User Header Name**: VarsayÄ±lan `X-Authenticated-UserId`, ihtiyaÃ§ halinde Ã¶zelleÅŸtirin.<br />- **Enable Authorization**: Roller ve metot bazlÄ± kontrolleri aktif eder; Authorization sekmesindeki kaynak ve roller tanÄ±mlanmalÄ±dÄ±r. |
| **AdÄ±m 6: KoÅŸul TanÄ±mlama (Ä°steÄŸe BaÄŸlÄ±)** | - **Condition** sekmesine geÃ§in.<br />- KoÅŸullar, politikanÄ±n hangi durumda aktif olacaÄŸÄ±nÄ± belirler.<br /><br />**Ã–rnekler:**<br />- Ortam bazlÄ±: `Header = X-Environment, Operator = Equals, Value = production`<br />- API Key bazlÄ±: `Header = X-API-Key, Starts With = PROD-`<br />- Endpoint bazlÄ±: `Path = /api/admin/*`<br /><br />KoÅŸul tanÄ±mlamazsanÄ±z politika her zaman aktiftir<br />Detaylar iÃ§in bakabilirsiniz: [KoÅŸullar (Conditions)](/tr/gelistirici/politikalar/politika-nedir#conditions) |
| **AdÄ±m 7: Hata MesajÄ± Ã–zelleÅŸtirme (Ä°steÄŸe BaÄŸlÄ±)** | - **Error Message Customization** sekmesine gidin.<br />- EriÅŸim reddedildiÄŸinde dÃ¶necek mesajÄ± Ã¶zelleÅŸtirin.<br /><br />**VarsayÄ±lan:**<br />`{ "statusCode": 403, "message": "[Default hata mesajÄ±]" }`<br /><br />**Ã–zel:**<br />`{ "statusCode": 403, "errorCode": "[CUSTOM_ERROR_CODE]", "message": "[Ã–zel mesaj]" }` |
| **AdÄ±m 8: Kaydetme** | - SaÄŸ Ã¼stteki **[Save]** butonuna tÄ±klayÄ±n.<br /><br />**Kontrol Listesi:** Benzersiz isim. Zorunlu alanlar dolu. En az bir issuer veya ACL girdisi mevcut.<br /><br />**SonuÃ§:**<br />- Politika listeye eklenir.<br />- API'lere baÄŸlanabilir.<br />- Global politikaysa otomatik uygulanÄ±r. |

## PolitikayÄ± Silme

Bu politikanÄ±n silme adÄ±mlarÄ± ve kullanÄ±mdayken uygulanacak iÅŸlemler, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **PolitikayÄ± Silme** bÃ¶lÃ¼mÃ¼nde detaylÄ± olarak aÃ§Ä±klanmÄ±ÅŸtÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me bakabilirsiniz: [PolitikayÄ± Silme](/tr/gelistirici/politikalar/politika-nedir#politikayÄ±-silme)

## PolitikayÄ± DÄ±ÅŸa/Ä°Ã§e Aktarma

Bu politikanÄ±n dÄ±ÅŸa aktarma (Export) adÄ±mlarÄ± ve kullanÄ±labilecek seÃ§enekler, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **DÄ±ÅŸa Aktarma Ä°ÅŸlemi** bÃ¶lÃ¼mÃ¼nde aÃ§Ä±klanmaktadÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me bakabilirsiniz: [PolitikayÄ± DÄ±ÅŸa/Ä°Ã§e Aktarma](/tr/gelistirici/politikalar/politika-nedir#politikayÄ±-dÄ±ÅŸa-iÃ§e-aktarma)

## PolitikayÄ± API'ye BaÄŸlama

Bu politikanÄ±n API'lere nasÄ±l baÄŸlanacaÄŸÄ±na iliÅŸkin sÃ¼reÃ§, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **PolitikayÄ± API'ye BaÄŸlama** bÃ¶lÃ¼mÃ¼nde detaylandÄ±rÄ±lmÄ±ÅŸtÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me gÃ¶z atabilirsiniz: [PolitikayÄ± API'ye BaÄŸlama](/tr/gelistirici/politikalar/politika-nedir#politikayÄ±-apiye-baÄŸlama)

## Ä°leri DÃ¼zey Ã–zellikler

| Ã–zellik | AÃ§Ä±klama ve AdÄ±mlar |
|---------|---------------------|
| **Issuer ACL YÃ¶netimi** | - Issuer baÅŸÄ±na birden fazla Subject Alternative Name kaydÄ± yapÄ±labilir.<br />- ACL kayÄ±tlarÄ±nÄ± ortam bazlÄ± filtreleyin.<br />- Ã–neri: ACL deÄŸiÅŸikliklerinden sonra test API Ã§aÄŸrÄ±sÄ± yapÄ±n. |
| **Secret Manager ile Yetkilendirme** | - `useSecretManagerForAuthorization` seÃ§ildiÄŸinde kimlik bilgileri gÃ¼venle saklanÄ±r.<br />- Secret gÃ¼ncellemelerinde politikayÄ± yeniden deploy edin.<br />- Rotasyon sonrasÄ± eski secret'larÄ± silin. |
| **Metot BazlÄ± Yetki PolitikalarÄ±** | - HTTP metoduna gÃ¶re allow/deny kurallarÄ± tanÄ±mlayÄ±n.<br />- `policyAuthorizationMethodDefList` iÃ§erisinde endpoint + metod eÅŸlemesi girin.<br />- TÃ¼m deÄŸiÅŸikliklerden sonra Postman koleksiyonu ile doÄŸrulama Ã¶nerilir. |

## Best Practices

### YapÄ±lmasÄ± Gerekenler ve En Ä°yi Uygulamalar

| Kategori | AÃ§Ä±klama / Ã–neriler |
|----------|---------------------|
| **Sertifika YÃ¶netimi** | **KÃ¶tÃ¼:** CA listelerini manuel gÃ¼ncellemeyi unutmak<br />**Ä°yi:** CA yenilendiÄŸinde Issuer ACL'i gÃ¼ncellemek<br />**En Ä°yi:** Otomatik CA senkronizasyon pipeline'Ä± kurmak |
| **Yetkilendirme Entegrasyonu** | **KÃ¶tÃ¼:** `enableAuthorization` aÃ§Ä±kken rol listelerini boÅŸ bÄ±rakmak<br />**Ä°yi:** Roller iÃ§in minimum yetki prensibini uygulamak<br />**En Ä°yi:** Roller deÄŸiÅŸtirildiÄŸinde CI/CD iÃ§inde otomatik test Ã§alÄ±ÅŸtÄ±rmak |
| **Header KullanÄ±mÄ±** | **KÃ¶tÃ¼:** Downstream servislerin `X-Authenticated-UserId` header'Ä±nÄ± doÄŸrulamamasÄ±<br />**Ä°yi:** Header doÄŸrulamasÄ±nÄ± gateway arkasÄ±ndaki servislerde uygulamak<br />**En Ä°yi:** Header imza mekanizmasÄ± eklemek |
| **KoÅŸul YÃ¶netimi** | **KÃ¶tÃ¼:** TÃ¼m endpoint'lere politikayÄ± koÅŸulsuz uygulamak<br />**Ä°yi:** Hassas endpoint'leri Query Builder ile hedeflemek<br />**En Ä°yi:** KoÅŸullarÄ± ortam ve versiyon bazlÄ± yapÄ±landÄ±rmak |
| **Deployment SÃ¼reci** | **KÃ¶tÃ¼:** CanlÄ± ortamda doÄŸrudan deÄŸiÅŸiklik yapmak<br />**Ä°yi:** Test ortamÄ±nda sertifika senaryolarÄ±nÄ± denemek<br />**En Ä°yi:** Blue/Green deployment planÄ± oluÅŸturmak. |

### GÃ¼venlik En Ä°yi UygulamalarÄ±

| GÃ¼venlik AlanÄ± | AÃ§Ä±klama / UyarÄ±lar |
|----------------|---------------------|
| **Sertifika Ä°ptal Listesi** | CRL/OCSP kontrolleri gateway dÄ±ÅŸÄ±nda yapÄ±lÄ±yorsa periyodik olarak gÃ¼ncelleyin. |
| **Issuer ACL SertliÄŸi** | Issuer ACL'i boÅŸ bÄ±rakmak istemci doÄŸrulamasÄ±nÄ± zayÄ±flatÄ±r. Mutlaka yetkili issuer ekleyin. |
| **Header KorumasÄ±** | Downstream servislerde header spoofing'e karÅŸÄ± imza veya mTLS termination sonrasÄ± gÃ¼venli iletiÅŸim kullanÄ±n. |
| **IP EÅŸleÅŸmesi** | `checkClientIpAddress` devredeyse dinamik IP kullanan istemciler iÃ§in whitelist'i gÃ¼ncel tutun. |
| **Loglama** | Sertifika doÄŸrulama hatalarÄ±nÄ± gÃ¼venli loglarda maskeli olarak saklayÄ±n, kiÅŸisel verileri anonimleÅŸtirin. |

### KaÃ§Ä±nÄ±lmasÄ± Gerekenler

| Kategori | AÃ§Ä±klama / UyarÄ±lar |
|----------|---------------------|
| **Issuer ACL EksikliÄŸi** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** TÃ¼m sertifikalar kabul edilebilir hale gelir.<br />**Alternatif:** Issuer ACL'e minimum gÃ¼venilir CA setini ekleyin. |
| **Ä°zin Verilmeyen Header KullanÄ±mÄ±** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Downstream servislerde kimlik taklidi oluÅŸur.<br />**Alternatif:** Header isimlerini kurum standartlarÄ±na gÃ¶re sabitleyin. |
| **Test OrtamÄ±nÄ± Atlamak** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Sertifika zincirindeki hatalar canlÄ±da kesinti yaratÄ±r.<br />**Alternatif:** Her deÄŸiÅŸikliÄŸi otomatik test ile doÄŸrulayÄ±n. |
| **IP KontrolÃ¼nÃ¼ Gereksiz Kapamak** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Sertifika paylaÅŸÄ±mÄ±na aÃ§Ä±k kapÄ± bÄ±rakÄ±r.<br />**Alternatif:** Dinamik IP yÃ¶netimi iÃ§in ayrÄ± ACL gruplarÄ± oluÅŸturun. |

### Performans Ä°puÃ§larÄ±

| Kriter | Ã–neri / Etki |
|--------|--------------|
| **Handshake Optimizasyonu** | **Ã–neri:** TLS oturum yeniden kullanÄ±mÄ± (session resumption) etkinleÅŸtirin.<br />**Etki:** Handshake sÃ¼resi azalÄ±r, gecikme dÃ¼ÅŸer. |
| **Sertifika Ã–nbelleÄŸi** | **Ã–neri:** DoÄŸrulanmÄ±ÅŸ sertifikalarÄ± kÄ±sa sÃ¼reli bellekte tutun.<br />**Etki:** Tekrarlayan Ã§aÄŸrÄ±larda CPU yÃ¼kÃ¼ azalÄ±r. |
| **Issuer ACL Lookup** | **Ã–neri:** ACL sorgularÄ±nÄ± bellek iÃ§i veri yapÄ±larÄ±yla yÃ¶netin.<br />**Etki:** BÃ¼yÃ¼k ACL listelerinde sorgu hÄ±zÄ± artar. |
| **Loglama Seviyesi** | **Ã–neri:** Debug loglarÄ±nÄ± sadece GeliÅŸtirme ortamÄ±nda aktif edin.<br />**Etki:** CanlÄ± Ortam'da I/O yÃ¼kÃ¼ ve disk kullanÄ±mÄ± azalÄ±r. |
| **Authorization Ã‡aÄŸrÄ±larÄ±** | **Ã–neri:** Yetkilendirme servis Ã§aÄŸrÄ±larÄ±na timeout ve Circuit Breaker ekleyin.<br />**Etki:** Harici servis yavaÅŸlamalarÄ± API yanÄ±t sÃ¼resini etkilemez. |

## SÄ±k Sorulan Sorular (SSS)

| Kategori | Soru (S) | Cevap (C) |
|----------|----------|-----------|
| **Genel** | mTLS kimlik doÄŸrulama nedir? | Mutual TLS (mTLS), hem istemci hem de sunucunun birbirlerinin sertifikalarÄ±nÄ± doÄŸruladÄ±ÄŸÄ± Ã§ift yÃ¶nlÃ¼ kimlik doÄŸrulama mekanizmasÄ±dÄ±r. |
| **Genel** | Issuer ACL nedir? | Issuer ACL, hangi Certificate Authority (CA) sertifikalarÄ±nÄ±n kabul edileceÄŸini tanÄ±mlayan eriÅŸim kontrol listesidir. |
| **Teknik** | Sertifika doÄŸrulamasÄ± nasÄ±l Ã§alÄ±ÅŸÄ±r? | Gateway, TLS handshake sÄ±rasÄ±nda istemci sertifikasÄ±nÄ± alÄ±r, geÃ§erlilik tarihlerini, imzasÄ±nÄ± ve issuer bilgisini kontrol eder. |
| **Teknik** | IP kontrolÃ¼ zorunlu mu? | HayÄ±r, ancak sertifika paylaÅŸÄ±mÄ± riskine karÅŸÄ± Ã¶zellikle production ortamlarÄ±nda Ã¶nerilir. |
| **KullanÄ±m** | FarklÄ± endpoint'ler iÃ§in farklÄ± sertifika politikalarÄ± nasÄ±l tanÄ±mlanÄ±r? | Query Builder'da endpoint bazlÄ± koÅŸullar oluÅŸturup her koÅŸul iÃ§in ayrÄ± politika atayÄ±n. |
| **KullanÄ±m** | VarsayÄ±lan hata mesajÄ±nÄ± nasÄ±l deÄŸiÅŸtirebilirim? | Error Message Customization sekmesinden durum kodu, hata kodu ve mesaj alanlarÄ±nÄ± dÃ¼zenleyebilirsiniz. |
| **Genel** | mTLS Kimlik DoÄŸrulama PolitikasÄ± hangi durumlarda kullanÄ±lmalÄ±? | Sertifika tabanlÄ± istemci doÄŸrulamasÄ± gereken tÃ¼m senaryolarda (partner entegrasyonlarÄ±, kurumsal cihaz eriÅŸimleri, yÃ¼ksek gÃ¼venlikli API'ler) kullanÄ±lmalÄ±dÄ±r. |
| **Genel** | Issuer ACL tanÄ±mlamazsam ne olur? | Issuer ACL kapalÄ±ysa politika tÃ¼m geÃ§erli sertifikalarÄ± kabul eder; ACL aÃ§Ä±k ama boÅŸsa tÃ¼m istekler reddedilir. Bu nedenle ACL'i gereksinime uygun yÃ¶netin. |
| **Teknik** | `Enable Authorization` ne saÄŸlar? | Sertifika doÄŸrulamasÄ± sonrasÄ± rol ve metod bazlÄ± yetki kontrollerini tetikler; Authorization servisleri veya Secret Manager ile entegre Ã§alÄ±ÅŸÄ±r. |
| **Teknik** | IP kontrolÃ¼ nasÄ±l Ã§alÄ±ÅŸÄ±r? | `checkClientIpAddress` etkinse istemcinin baÄŸlantÄ± IP'si ACL kayÄ±tlarÄ±yla eÅŸleÅŸtirilir; eÅŸleÅŸmeyen istekler 403 dÃ¶ndÃ¼rÃ¼r. |
| **KullanÄ±m** | Politika deÄŸiÅŸikliklerini nasÄ±l test etmeliyim? | Test ortamÄ±nda aynÄ± sertifika zincirini kullanarak mTLS handshake'lerini deneyin, Query Builder koÅŸullarÄ±nÄ± Postman veya otomasyon testleriyle doÄŸrulayÄ±n. |
| **KullanÄ±m** | Export edilen ZIP dosyasÄ±nda hangi bilgiler var? | Politika JSON iÃ§eriÄŸi, baÄŸÄ±mlÄ± Issuer ACL ve hata mesajÄ± yapÄ±landÄ±rmalarÄ± ile metadata dosyalarÄ± bulunur; import sÄ±rasÄ±nda bÃ¼tÃ¼nlÃ¼k kontrolÃ¼ yapÄ±lÄ±r. |

**Bu dokÃ¼man Apinizer Ã¼rÃ¼n dokÃ¼mantasyonunun bir parÃ§asÄ±dÄ±r. Â©ï¸ 2025 Apinizer - TÃ¼m haklarÄ± saklÄ±dÄ±r.**

Bu dokÃ¼mantasyon, Apinizer yazÄ±lÄ±mÄ±nÄ± kullanan kiÅŸi ve kuruluÅŸlar tarafÄ±ndan dahili kullanÄ±m amacÄ±yla serbestÃ§e kullanÄ±labilir, kopyalanabilir ve daÄŸÄ±tÄ±labilir.
