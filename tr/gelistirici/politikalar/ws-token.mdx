---
title: 'WS-Security Token'
description: 'WS-Security Token politikası ile SOAP backend web servisinin Security Token Servisinden Token alınması'
---

# WS-Security Token (WS-Security Token)

Apinizer üzerinden SOAP tipinde olan backend web servisinin Security Token Servisinden Token alınması ihtiyacı varsa, WS-Security ayarları öncesinde bu politika kullanılmalıdır.

**WS-Security Token ayarlarını içeren görsele aşağıda yer verilmiştir:**

![WS-Security Token Ayarları](https://docs.apinizer.com/apinizer-dokumantasyonu/files/39730798/120521273/1/1733914253833/image-2024-12-11_13-50-53.png)

## Token Servis Sağlayıcı Bölümü

**Token Servis Sağlayıcısı ayarlarını içeren görsele aşağıda yer verilmiştir:**

![Token Servis Sağlayıcısı](https://docs.apinizer.com/apinizer-dokumantasyonu/files/39730798/39730807/1/1663677115102/image2022-9-20_15-31-55.png)

Token Servis Sağlayıcısı ayarları konfigürasyonu için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan | Açıklama |
| --- | --- |
| Token Servis Adı *(Token Service Name)* | Token sağlayıcı servisin servis adıdır. |
| Token Servis Port Adı *(Token Service Port Name)* | Token sağlayıcı servisin port adıdır |
| IWSTrust 13 Url | Servisin uç noktasının adresidir. |
| Applies To Url | Mesaj gövdesinde yer alacak olan "Applies To Url" bilgisidir. |
| Bağlantı Zamanaşımı (saniye) *(Connection Timeout (seconds))* | Yapılacak isteğin ne kadar süre (saniye cinsinden) sonra zaman aşımına uğrayacağı bilgisidir. |
| Token Önbellek Süresi (saniye) *(Token Cache Period (seconds))* | Dönen istekten alınan Token bilgisinin ne kadar süre (saniye cinsinden) ile önbelleğe alınacağı bilgisidir. Değerinin "0(sıfır)" olması durumunda Token önbelleğe alınmaz, backende gidecek her istek için ayrı Token isteği yapılır. |
| Anlaşılmalı *(Must Understand)* | Eklenen WS-Security xml elementlerinin mustUnderstand attribute değerinin true,false veya none olması için bu alan kullanılır. |

## Kullanıcı Adları ve Parolalar Bölümü

**Kullanıcı adı ve parolalar ayarlarını içeren görsele aşağıda yer verilmiştir:**

![Kullanıcı Adı ve Parolalar](https://docs.apinizer.com/apinizer-dokumantasyonu/files/39730798/39730808/1/1663677141493/image2022-9-20_15-32-21.png)

Kullanıcı adı ve parolalar ayarları konfigürasyonu için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan | Açıklama |
| --- | --- |
| Parola Tipi *(Password Type)* | Parola tipi Text ya da Digest olabilir. Text seçildiğinde password alanının açık bir şekilde, digest seçildiğinde şifrelenmiş bir şekilde Token web servisine gitmesi sağlanır.<br/><br/>Digest şifre oluşturma algoritması: Base64 ( SHA1 ( nonce + created + clear text password ) ) |
| Kullanıcı Adı Token'ına Nonce Ekle *(Add Nonce to Username Token)* | Bu alan işaretlenirse WS-Security UsernameToken elementinin içine nonce bilgisi üretilerek eklenir. (Parola tipi Digest ise zorunlu olarak eklenir.) |
| Kullanıcı Adı Token'ına Created Ekle *(Add Created to Username Token)* | Bu alan işaretlenirse WS-Security UsernameToken elementinin içine created bilgisi üretilerek eklenir. (Parola tipi Digest ise zorunlu olarak eklenir.) |
| Koşul *(Condition)* | Token servisine farklı kullanıcılar ile erişilmek istenirse bu alana birden fazla kullanıcı adı ve parolası ile birlikte bu ikilinin hangi durumda çalışması isteniyorsa ilgili durumu ifade eden koşul girilir. Çalışma zamanında birden fazla kullanıcı adı, parola ikilisi olması durumunda bunların koşulları çalıştırılır ve koşula uyan kullanıcı adı ve parola bilgisi kullanılır. Eğer koşula uyan birden fazla kullanıcı adı, parolası varsa ilk uyan tercih edilir. |

## WSA Ayarları Bölümü

**WSA ayarlarını içeren görsele aşağıda yer verilmiştir:**

![WSA Ayarları](https://docs.apinizer.com/apinizer-dokumantasyonu/files/39730798/39732250/1/1666268374099/image2022-10-20_15-19-34.png)

WSA ayarları konfigürasyonu için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan | Açıklama |
| --- | --- |
| Anlaşılmalı *(Must Understand)* | Eklenen WSA elementlerinin mustUnderstand attribute değerinin true,false veya none olması için bu alan kullanılır. |
| Versiyon *(Version)* | Hangi WSA versiyonunun kullanılacağı bilgisidir. |
| Ön Tanımlı Aksiyonu Ekle *(Add Default Action)* | Aktif hale getirildiğinde ayarlarda tanımlı olan "action" bilgisinin eklenmesini sağlar. |
| Aksiyon *(Action)* | "Ön Tanımlı Aksiyonu Ekle" seçeneği pasif hale getirildiğinde, tanımdan bağımsız olarak istenilen "action" bilgisinin eklenmesini sağlar. |
| Ön Tanımlı Kime Bilgisi Ekle *(Add Default To)* | Aktif hale getirildiğinde ayarlarda tanımlı olan "to" bilgisinin eklenmesini sağlar. |
| Kime/Yanıt Kime *(To/Reply To)* | "Ön Tanımlı Kime Bilgisi Ekle" seçeneği pasif hale getirildiğinde, tanımdan bağımsız olarak istenilen "to" bilgisinin eklenmesini sağlar. |
| Mesaj ID Üret *(Generate Message ID)* | Aktif hale getirildiğinde otomatik olarak üretilen UUID bilgisinin mesaja eklenmesini sağlar. |
| Mesaj ID *(Message ID)* | "Mesaj ID Üret" seçeneği pasif hale getirildiğinde, istenilen sabit "UUID" bilgisinin eklenmesini sağlar. |
| Kimden *(From)* | İstenilen "From" bilgisinin mesaja eklenmesini sağlar. |
| Hata Kime *(Fault To)* | İstenilen "fault to" bilgisinin mesaja eklenmesini sağlar. |
| Hata İlişkisi *(Relates To)* | İstenilen "Relates To" bilgisinin mesaja eklenmesini sağlar. |
| Hata İlişki Tipi *(RelationShip Type)* | İstenilen "RelationShip Type" bilgisinin mesaja eklenmesini sağlar. |

## Zaman Damgası Ayarları Bölümü

**Zaman Damgası ayarlarını içeren görsele aşağıda yer verilmiştir:**

![Zaman Damgası Ayarları](https://docs.apinizer.com/apinizer-dokumantasyonu/files/39730798/39730810/1/1663677181610/image2022-9-20_15-33-1.png)

Zaman damgası konfigürasyonu için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan | Açıklama |
| --- | --- |
| Oluşturulma Tarih Formatı *(Created Date Format)* | Zaman alanlarının hangi formatta oluşturulacağını belirtir. Ön tanımlı olarak SOAP Mesajlarında kullanılan zaman formatı kullanılır. Java notasyonu kullanılmalıdır. |
| Sona Erme Tarihi Formatı *(Expires Date Format)* | Zaman alanlarının hangi formatta oluşturulacağını belirtir. Ön tanımlı olarak SOAP Mesajlarında kullanılan zaman formatı kullanılır. Java notasyonu kullanılmalıdır. |
| Son Kullanma Süresi (min) *(Expiration Period (min))* | Alınacak Token'ın ne kadar süre (dakika cinsinden) geçerli olacağı bilgisini ayarlamak için kullanılır. |
