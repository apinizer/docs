---
title: 'JSON Åema DoÄŸrulama'
description: 'Ä°stek gÃ¶vdelerini JSON Åema tanÄ±mlarÄ±na gÃ¶re doÄŸrular ve uyumsuz talepleri engeller'
---

**Son GÃ¼ncelleme:** 10 KasÄ±m 2025  
**Hedef Kitle:** Sistem YÃ¶neticileri, Backend GeliÅŸtiriciler, DevOps MÃ¼hendisleri

**ğŸ’¡ Politikalar hakkÄ±nda bilginiz var mÄ±?**  
Bu dokÃ¼man spesifik bir politikanÄ±n detaylÄ± kullanÄ±mÄ±nÄ± anlatÄ±r. EÄŸer Apinizer politika yapÄ±sÄ±nÄ± ilk kez kullanÄ±yorsanÄ±z veya politikalarÄ±n genel Ã§alÄ±ÅŸma prensiplerini Ã¶ÄŸrenmek istiyorsanÄ±z, Ã¶ncelikle [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±nÄ± okumanÄ±zÄ± Ã¶neririz.

| **Politika AdÄ±** | JSON Åema DoÄŸrulama PolitikasÄ± |
|---|:---|
| **Ã–zet** | Ä°stek gÃ¶vdelerini JSON Åema tanÄ±mlarÄ±na gÃ¶re doÄŸrular ve uyumsuz talepleri engeller. |
| **Kategori** | Veri DoÄŸrulama ve BÃ¼tÃ¼nlÃ¼k |
| **DÃ¶nÃ¼ÅŸ Durum KodlarÄ±** | <table><thead><tr><th>Hata Kodu</th><th>Hata MesajÄ±</th><th>HTTP Durum Kodu</th></tr></thead><tbody><tr><td>ERR-085</td><td>JSON Schema Validation policy failed! Error is: ( {0} )</td><td>403</td></tr><tr><td>ERR-086</td><td>JSON Schema Validation policy failed! Error message is: {0}</td><td>500</td></tr><tr><td>ERR-087</td><td>While Schema Validation Policy, policy got unexpected Path ( {0} ) result, control your Path!</td><td>400</td></tr></tbody></table> |

## Genel BakÄ±ÅŸ

### AmacÄ± Nedir?

- API Proxy (API Vekil Sunucusu) Ã¼zerinden gelen JSON tabanlÄ± Ã§aÄŸrÄ±larÄ±n beklenen veri sÃ¶zleÅŸmesine uyup uymadÄ±ÄŸÄ±nÄ± otomatik olarak kontrol ederek hatalÄ± verilerin arka uÃ§ sistemlere ulaÅŸmasÄ±nÄ± engeller.
- JSONPath (`pathForBody`) ifadesi Ã¼zerinden isteÄŸin belirli bÃ¶lÃ¼mlerini hedefleyerek kapsamlÄ± fakat esnek doÄŸrulama senaryolarÄ± kurulmasÄ±na imkan tanÄ±r.
- Birden fazla JSON Åema sÃ¼rÃ¼mÃ¼nÃ¼ aynÄ± politika altÄ±nda yÃ¶neterek farklÄ± endpoint, versiyon veya istemci tiplerine gÃ¶re uyarlanabilir doÄŸrulama akÄ±ÅŸlarÄ± saÄŸlar.
- KoÅŸul motoru ve hata mesajÄ± Ã¶zelleÅŸtirmesiyle, doÄŸrulamanÄ±n hangi durumlarda tetikleneceÄŸini ve istemcilere hangi mesajlarÄ±n dÃ¶neceÄŸini merkezi olarak kontrol eder.

### Ã‡alÄ±ÅŸma Prensibi

1. **Ä°stek GeliÅŸi**: API Gateway'e gelen her HTTP/HTTPS isteÄŸi iÃ§in, istemin kaynak IP adresi tespit edilir.
2. **Politika KontrolÃ¼**: JSON Åema DoÄŸrulama politikasÄ± aktif ise, sistem aÅŸaÄŸÄ±daki sÄ±rayla kontrol yapar:
   - Condition (koÅŸul) tanÄ±mlÄ± mÄ±? Varsa koÅŸul saÄŸlanÄ±yor mu?
   - Politika aktif mi (active=true)?
   - Variable kullanÄ±lÄ±yor mu yoksa Apinizer default mÄ±?
3. **JSON Åema DoÄŸrulama**: `pathForBody` olarak tanÄ±mlanan JSONPath ifadesiyle isteÄŸin doÄŸrulanacak bÃ¶lÃ¼mÃ¼ elde edilir; bÃ¶lÃ¼m, tanÄ±mlÄ± tÃ¼m JSON `schemaDefinitionList` girdilerine gÃ¶re RFC 8259 uyumlu ÅŸema doÄŸrulamasÄ±ndan geÃ§irilir.
4. **Karar Verme**:
   - **EÅŸleÅŸme Var**: En az bir ÅŸema ile uyum saÄŸlanÄ±rsa istek akÄ±ÅŸa devam eder ve hedef API Proxy cevabÄ± dÃ¶ndÃ¼rÃ¼lÃ¼r.
   - **EÅŸleÅŸme Yok**: HiÃ§bir ÅŸema ile uyum saÄŸlanamazsa politika akÄ±ÅŸÄ± sonlandÄ±rÄ±r ve tanÄ±mlÄ± hata mesajÄ±/HTTP kodu ile istemci bilgilendirilir.
5. **Hata Ä°ÅŸleme**: Politika kuralÄ±na uymayan istekler iÃ§in Ã¶zelleÅŸtirilebilir HTTP durum kodu ve hata mesajÄ± dÃ¶ndÃ¼rÃ¼lÃ¼r.

## Ã–zellikler ve Yetenekler

### Temel Ã–zellikler

- **JSONPath TabanlÄ± Veri Hedefleme**: `pathForBody` alanÄ±yla isteÄŸin hangi bÃ¶lÃ¼mÃ¼nÃ¼n doÄŸrulanacaÄŸÄ± seÃ§ilir; varsayÄ±lan `$.` ifadesi tam gÃ¶vdede Ã§alÄ±ÅŸÄ±r.
- **Ã‡oklu JSON Åema DesteÄŸi**: `schemaDefinitionList` Ã¼zerinden birden fazla ÅŸema eklenir, her biri otomatik numaralandÄ±rÄ±lÄ±r ve farklÄ± kullanÄ±m senaryolarÄ±na atanabilir.
- **GÃ¶mÃ¼lÃ¼ JSON EditÃ¶rÃ¼**: Åema tanÄ±mlarÄ±, syntax vurgulu Apinizer code editor bileÅŸeni Ã¼zerinde dÃ¼zenlenerek doÄŸruluk ve okunabilirlik artÄ±rÄ±lÄ±r.
- **Aktif/Pasif Durum KontrolÃ¼**: PolitikanÄ±n aktif veya pasif durumunu kolayca deÄŸiÅŸtirme (active/passive toggle). Pasif durumda politika uygulanmaz ancak yapÄ±landÄ±rmasÄ± saklanÄ±r.
- **KoÅŸul BazlÄ± Uygulama**: Query Builder ile karmaÅŸÄ±k koÅŸullar oluÅŸturarak politikanÄ±n ne zaman uygulanacaÄŸÄ±nÄ± belirleme (Ã¶rn: sadece belirli endpoint'lere veya header deÄŸerlerine gÃ¶re).

### Ä°leri DÃ¼zey Ã–zellikler

- **JSONPath Test ModÃ¼lÃ¼**: Test Transformation Data bileÅŸeniyle `pathForBody` ifadesi gerÃ§ek veriler Ã¼zerinde Ã§alÄ±ÅŸtÄ±rÄ±larak doÄŸru alanÄ±n hedeflendiÄŸi anÄ±nda doÄŸrulanÄ±r.
- **Åema SÃ¼rÃ¼mleme Stratejisi**: Her yeni ÅŸema kaydÄ± iÃ§in otomatik `schemaNo` Ã¼retimi sayesinde farklÄ± versiyonlar izlenebilir ve gerektiÄŸinde hÄ±zlÄ±ca devreye alÄ±nabilir.
- **Global/Lokal Politika AkÄ±ÅŸÄ±**: Global politikalar lokal politikalara dÃ¶nÃ¼ÅŸtÃ¼rÃ¼lebilir, `globalPolicyChangedInProxy` olaylarÄ± Ã¼zerinden kullanÄ±cÄ± etkileÅŸimi saÄŸlanÄ±r.
- **Export/Import Ã–zelliÄŸi**: Politika yapÄ±landÄ±rmasÄ±nÄ± ZIP dosyasÄ± olarak export etme. FarklÄ± ortamlara (Development, Test, Production) import etme. Versiyon kontrolÃ¼ ve yedekleme imkanÄ±.
- **Policy Group ve Proxy Group DesteÄŸi**: Birden fazla politikayÄ± Policy Group iÃ§inde yÃ¶netme. Proxy Group'lara toplu politika atama. Merkezi gÃ¼ncelleme ve deploy iÅŸlemleri.
- **Deploy ve Versiyonlama**: Politika deÄŸiÅŸikliklerini canlÄ± ortama deploy etme. Hangi API Proxy'lerde kullanÄ±ldÄ±ÄŸÄ±nÄ± gÃ¶rme (Policy Usage). Proxy Group ve Policy Group kullanÄ±m raporlarÄ±.

## KullanÄ±m SenaryolarÄ±

| Senaryo | Durum | Ã‡Ã¶zÃ¼m (Politika UygulamasÄ±) | Beklenen DavranÄ±ÅŸ / SonuÃ§ |
|---------|-------|----------------------------|---------------------------|
| GiriÅŸ GÃ¶vdesi DoÄŸrulama | Public API'ye gelen JSON kullanÄ±cÄ± kaydÄ± isteÄŸi farklÄ± formatlarda geliyor. | `pathForBody=$.`; tek bir kayÄ±t ÅŸemasÄ± eklenir; zorunlu property tanÄ±mlarÄ± yapÄ±lÄ±r. | Uymayan kayÄ±tlar 403 dÃ¶ner, geÃ§erli kayÄ±tlar backend'e iletilir. |
| Versiyonlu Åema YÃ¶netimi | AynÄ± Endpoint hem v1 hem v2 gÃ¶vdelerini kabul ediyor. | Ä°ki farklÄ± ÅŸema tanÄ±mÄ± eklenir; her biri ilgili `schemaNo` ile versiyonlanan ÅŸema tanÄ±mlarÄ±nÄ± iÃ§erir. | Ä°stek hangi ÅŸemaya uyuyorsa kabul edilir, diÄŸerleri reddedilir. |
| ParÃ§alÄ± DoÄŸrulama | BÃ¼yÃ¼k JSON iÃ§erisinde sadece `payload.data` alanÄ± denetlenmeli. | `pathForBody=$.payload.data`; ilgili ÅŸema sadece bu segment iÃ§in yazÄ±lÄ±r. | YalnÄ±zca hedef alan doÄŸrulanÄ±r, diÄŸer alanlar serbest kalÄ±r. |
| Opsiyonel Alan KontrolÃ¼ | BazÄ± alanlar isteÄŸe baÄŸlÄ± ancak formatlarÄ± doÄŸru olmalÄ±. | Åema iÃ§erisinde `anyOf` kullanÄ±lÄ±r; editor Ã¼zerinden koÅŸullar tanÄ±mlanÄ±r. | Opsiyonel alan geldiÄŸinde format kontrol edilir, yoksa istek kabul edilir. |
| Partner BazlÄ± KÄ±sÄ±tlama | Header'da gelen `X-Partner` deÄŸerine gÃ¶re farklÄ± ÅŸema uygulanacak. | Query Builder'da header koÅŸulu tanÄ±mlanÄ±r; uygun partner iÃ§in ÅŸema eklenir. | Sadece koÅŸula uyan istekler doÄŸrulamaya girer; diÄŸerleri politikadan etkilenmez. |
| Test OrtamÄ± GÃ¼vencesi | GeliÅŸtirme ortamÄ±na Ã¶zel detaylÄ± validasyon istendi. | Global politikanÄ±n lokali oluÅŸturulur; `pathForBody` ve ÅŸemalar test gereksinimlerine gÃ¶re gÃ¼ncellenir. | Test API Proxy'si Ã¼zerinde sÄ±kÄ± doÄŸrulama yapÄ±lÄ±r, canlÄ± ortam etkilenmez. |
| JSONPath Deneme & Onay (opsiyonel) | Yeni JSONPath ifadesinin hedefi doÄŸrulanmak isteniyor. | Test Data Transformation modÃ¼lÃ¼ aÃ§Ä±lÄ±r, Ã¶rnek veri ile path test edilir. | YanlÄ±ÅŸ ifade uyarÄ± olarak gÃ¶sterilir, doÄŸru ifade kaydedilir. |

## Politika Parametrelerini YapÄ±landÄ±rma

Bu adÄ±mda, kullanÄ±cÄ± **yeni bir politika oluÅŸturabilir** ya da **mevcut politika parametrelerini yapÄ±landÄ±rarak** eriÅŸim kurallarÄ±nÄ± belirleyebilir. TanÄ±mlanan parametreler, politikanÄ±n Ã§alÄ±ÅŸma ÅŸeklini (Ã¶rneÄŸin hangi IP'lerin izinli olacaÄŸÄ±, coÄŸrafi kÄ±sÄ±tlamalar, koÅŸullu aktivasyonlar vb.) doÄŸrudan etkiler. Bu sayede politika hem kuruma Ã¶zel gereksinimlere gÃ¶re Ã¶zelleÅŸtirilebilir hem de merkezi olarak yÃ¶netilebilir.

### Yeni JSON Åema DoÄŸrulama PolitikasÄ± OluÅŸturma

<img src="/images/gelistirici/politikalar/json-sema-dogrulama-1.png" alt="JSON Åema DoÄŸrulama PolitikasÄ±" width="1000" />

### YapÄ±landÄ±rma AdÄ±mlarÄ±

| AdÄ±m | AÃ§Ä±klama / Ä°ÅŸlem |
|------|------------------|
| **AdÄ±m 1: OluÅŸturma SayfasÄ±na Gitme** | - Sol menÃ¼den **Development â†’ Global Settings â†’ Global Policies â†’ JSON Åema DoÄŸrulama PolitikasÄ±** bÃ¶lÃ¼mÃ¼ne gidin.<br />- SaÄŸ Ã¼stteki **[+ Create]** butonuna tÄ±klayÄ±n. |
| **AdÄ±m 2: Temel Bilgileri Girme** | **Policy Status (Politika Durumu):** Aktif/Pasif durumu gÃ¶sterir. Yeni politikalar varsayÄ±lan olarak aktiftir.<br /><br />**Name (Ä°sim) Zorunlu:** Ã–rnek: `Production_JSONSchemaValidation`<br />- Benzersiz isim girin, boÅŸlukla baÅŸlamaz.<br />- Sistem otomatik kontrol eder. YeÅŸil tik: kullanÄ±labilir. KÄ±rmÄ±zÄ± Ã§arpÄ±: mevcut isim.<br /><br />**Description (AÃ§Ä±klama):** Ã–rnek: "SipariÅŸ servisinde JSON gÃ¶vdesini doÄŸrular"<br />- Maks. 1000 karakter.<br />- PolitikanÄ±n amacÄ±nÄ± aÃ§Ä±klayÄ±n. |
| **AdÄ±m 3: JSONPath TanÄ±mÄ±** | `pathForBody` alanÄ±na JSONPath ifadesini girin.<br />- VarsayÄ±lan `$.` tÃ¼m gÃ¶vdeyi doÄŸrular.<br />- ParÃ§alÄ± doÄŸrulama iÃ§in Ã¶rn. `$.payload.data` kullanÄ±n.<br />- Gerekirse aynÄ± ekrandan JSONPath testini baÅŸlatÄ±n. |
| **AdÄ±m 4: JSON Åema TanÄ±mlarÄ±** | **Add** butonuyla yeni ÅŸema paneli ekleyin.<br />- Her panel otomatik **JSON n** baÅŸlÄ±ÄŸÄ± ve `schemaNo` alÄ±r.<br />- Editor iÃ§inde geÃ§erli JSON Åema (Draft 4+) tanÄ±mÄ±nÄ± yapÄ±n.<br />- ÅemayÄ± kaldÄ±rmak iÃ§in Ã§Ã¶p kutusu ikonunu kullanÄ±n; numaralandÄ±rma otomatik gÃ¼ncellenir. |
| **AdÄ±m 5: Åema Test ve Ã–nizleme** | **Test Data Transformation JSONPath** butonuyla Ã¶rnek veri Ã¼zerinde `pathForBody` ifadesinin doÄŸru segmenti seÃ§tiÄŸini doÄŸrulayÄ±n.<br />- Editor Ã¼zerinden JSON ÅŸemanÄ±zÄ±n Apinizer code editor'Ã¼nde biÃ§imlendiÄŸinden emin olun. |
| **AdÄ±m 6: KoÅŸul TanÄ±mlama (Ä°steÄŸe BaÄŸlÄ±)** | - **Condition** sekmesine geÃ§in.<br />- KoÅŸullar, politikanÄ±n hangi durumda aktif olacaÄŸÄ±nÄ± belirler.<br /><br />**Ã–rnekler:**<br />- Ortam bazlÄ±: `Header = X-Environment, Operator = Equals, Value = production`<br />- API Key bazlÄ±: `Header = X-API-Key, Starts With = PROD-`<br />- Endpoint bazlÄ±: `Path = /api/admin/*`<br /><br />KoÅŸul tanÄ±mlamazsa politika her zaman aktif<br />Detaylar iÃ§in bakabilirsiniz: [KoÅŸullar (Conditions)](/tr/gelistirici/politikalar/politika-nedir#conditions) |
| **AdÄ±m 7: Hata MesajÄ± Ã–zelleÅŸtirme (Ä°steÄŸe BaÄŸlÄ±)** | - **Error Message Customization** sekmesine gidin.<br />- EriÅŸim reddedildiÄŸinde dÃ¶necek mesajÄ± Ã¶zelleÅŸtirin.<br /><br />**VarsayÄ±lan:**<br />`{ "statusCode": 403, "message": "[Default hata mesajÄ±]" }`<br /><br />**Ã–zel:**<br />`{ "statusCode": 403, "errorCode": "[CUSTOM_ERROR_CODE]", "message": "[Ã–zel mesaj]" }` |
| **AdÄ±m 8: Kaydetme** | - SaÄŸ Ã¼stteki **[Save]** butonuna tÄ±klayÄ±n.<br /><br />**Kontrol Listesi:** Benzersiz isim. Zorunlu alanlar dolu. En az bir JSON ÅŸemasÄ± tanÄ±mlÄ±.<br /><br />**SonuÃ§:**<br />- Politika listeye eklenir.<br />- API'lere baÄŸlanabilir.<br />- Global politikaysa otomatik uygulanÄ±r. |

## PolitikayÄ± Silme

Bu politikanÄ±n silme adÄ±mlarÄ± ve kullanÄ±mdayken uygulanacak iÅŸlemler, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **PolitikayÄ± Silme** bÃ¶lÃ¼mÃ¼nde detaylÄ± olarak aÃ§Ä±klanmÄ±ÅŸtÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me bakabilirsiniz: [PolitikayÄ± Silme](/tr/gelistirici/politikalar/politika-nedir#politika-silme)

## PolitikayÄ± DÄ±ÅŸa/Ä°Ã§e Aktarma

Bu politikanÄ±n dÄ±ÅŸa aktarma (Export) adÄ±mlarÄ± ve kullanÄ±labilecek seÃ§enekler, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **DÄ±ÅŸa Aktarma Ä°ÅŸlemi** bÃ¶lÃ¼mÃ¼nde aÃ§Ä±klanmaktadÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me bakabilirsiniz: [PolitikayÄ± DÄ±ÅŸa/Ä°Ã§e Aktarma](/tr/gelistirici/politikalar/politika-nedir#politika-export)

## PolitikayÄ± API'ye BaÄŸlama

Bu politikanÄ±n API'lere nasÄ±l baÄŸlanacaÄŸÄ±na iliÅŸkin sÃ¼reÃ§, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **PolitikayÄ± API'ye BaÄŸlama** bÃ¶lÃ¼mÃ¼nde detaylandÄ±rÄ±lmÄ±ÅŸtÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me gÃ¶z atabilirsiniz: [PolitikayÄ± API'ye BaÄŸlama](/tr/gelistirici/politikalar/politika-nedir#politika-api-baglama)

## Ä°leri DÃ¼zey Ã–zellikler

| Ã–zellik | AÃ§Ä±klama ve AdÄ±mlar |
|---------|---------------------|
| **JSON Åema Versiyonlama YÃ¶netimi** | - Her **Add** iÅŸleminde otomatik artan `schemaNo` deÄŸerini kullanarak ÅŸema sÃ¼rÃ¼mlerini sÄ±ralayÄ±n.<br />- Eski ÅŸemalarÄ± pasif ortamlarda saklayÄ±n, gerekirse yeniden etkinleÅŸtirin.<br />- Export Ã¶ncesi sÃ¼rÃ¼mleri numaralarÄ±na gÃ¶re dokÃ¼mante edin. |
| **Global Politika Lokalizasyonu** | - Detay ekranÄ±ndaki **Localize** butonuyla global politikayÄ± kopyalayÄ±n.<br />- Lokal politika Ã¼zerinde `pathForBody` veya ÅŸema iÃ§eriklerini API'ye Ã¶zel dÃ¼zenleyin.<br />- Lokal politikayÄ± ilgili API Proxy Ã¼zerinde aktif edin. |
| **KoÅŸullu Åema Uygulama Mimarisi** | - Query Builder'da header veya endpoint bazlÄ± koÅŸullar oluÅŸturun.<br />- KoÅŸulu saÄŸlayan istekleri farklÄ± ÅŸema setleriyle eÅŸleÅŸtirin.<br />- KullanÄ±m raporlarÄ±nÄ± inceleyerek hangi koÅŸullarÄ±n tetiklendiÄŸini takip edin. |

## Best Practices

### YapÄ±lmasÄ± Gerekenler ve En Ä°yi Uygulamalar

| Kategori | AÃ§Ä±klama / Ã–neriler |
|----------|---------------------|
| **Åema YapÄ±landÄ±rmasÄ±** | **KÃ¶tÃ¼:** JSON ÅŸemayÄ± boÅŸ bÄ±rakarak yalnÄ±zca presence kontrolÃ¼ yapmak.<br />**Ä°yi:** Temel zorunlu alanlarÄ± ve tipleri tanÄ±mlamak.<br />**En Ä°yi:** Enum, pattern ve format kurallarÄ±yla zenginleÅŸtirilmiÅŸ tam kapsamlÄ± ÅŸema kullanmak. |
| **JSONPath YÃ¶netimi** | **KÃ¶tÃ¼:** `pathForBody` alanÄ±nÄ± yanlÄ±ÅŸ JSONPath ile bÄ±rakmak.<br />**Ä°yi:** `$.` kullanarak tÃ¼m gÃ¶vdeyi doÄŸrulamak.<br />**En Ä°yi:** Test Transformation ile doÄŸrulanan, minimal veri segmentini hedefleyen JSONPath kullanmak. |
| **Hata MesajÄ± Ä°letiÅŸimi** | **KÃ¶tÃ¼:** VarsayÄ±lan mesajla iÅŸletme kullanÄ±cÄ±larÄ±nÄ± bilgilendirmemek.<br />**Ä°yi:** Genel hata kodu ve mesajÄ±nÄ± TÃ¼rkÃ§e Ã¶zelleÅŸtirmek.<br />**En Ä°yi:** Hata kodu, iz sÃ¼rme numarasÄ± ve kullanÄ±cÄ± aksiyon Ã¶nerisi iÃ§eren yapÄ±landÄ±rma yapmak. |
| **KoÅŸul TasarÄ±mÄ±** | **KÃ¶tÃ¼:** KoÅŸul tanÄ±mlamadan politikayÄ± tÃ¼m isteklerde Ã§alÄ±ÅŸtÄ±rmak.<br />**Ä°yi:** Endpoint bazlÄ± koÅŸullar eklemek.<br />**En Ä°yi:** Ortam, istemci ve yÃ¼k tipine gÃ¶re birleÅŸik koÅŸullar oluÅŸturarak yalnÄ±zca gerekli akÄ±ÅŸlarda doÄŸrulama yapmak. |
| **Versiyon YÃ¶netimi** | **KÃ¶tÃ¼:** Eski ÅŸemalarÄ± silmeden yeni sÃ¼rÃ¼mÃ¼ Ã¼zerine yazmak.<br />**Ä°yi:** Yeni ÅŸemayÄ± ekleyip eskisini pasif hale getirmek.<br />**En Ä°yi:** Åema sÃ¼rÃ¼mlerini export edip etiketlemek, test ortamÄ±nda doÄŸruladÄ±ktan sonra canlÄ±ya almak. |

### GÃ¼venlik En Ä°yi UygulamalarÄ±

| GÃ¼venlik AlanÄ± | AÃ§Ä±klama / UyarÄ±lar |
|----------------|---------------------|
| **Veri DoÄŸruluÄŸu** | Åema sadece tip doÄŸrulamasÄ±yla sÄ±nÄ±rlÄ± kalmamalÄ±; minimum/maximum, pattern gibi kurallarla kÃ¶tÃ¼ niyetli giriÅŸleri engelleyin. |
| **Hata MesajÄ± Maskelenmesi** | Ä°stemcilere dÃ¶nen mesajlarda iÃ§ sistem detaylarÄ±nÄ± paylaÅŸmayÄ±n; hassas alan adlarÄ± veya ÅŸema iÃ§eriÄŸini sÄ±zdÄ±rmayÄ±n |
| **Global Politika DeÄŸiÅŸiklikleri** | Global politikayÄ± gÃ¼ncellemeden Ã¶nce kullanÄ±lan tÃ¼m API Proxy listesini inceleyin; deÄŸiÅŸikliklerin olasÄ± etkisini deÄŸerlendirin. |
| **Import Kontrolleri** | DÄ±ÅŸarÄ±dan gelen ZIP dosyalarÄ±nÄ± yalnÄ±z gÃ¼venilir kaynaklardan alÄ±n; import sÄ±rasÄ±nda isim Ã§akÄ±ÅŸmalarÄ±nÄ± manuel doÄŸrulayÄ±n. |
| **Audit ve Loglama** | DoÄŸrulama hatalarÄ±nÄ± API Gateway loglarÄ±nda izleyin; anomali tespiti iÃ§in hata kodlarÄ±nÄ± SIEM'le entegre edin. |

### KaÃ§Ä±nÄ±lmasÄ± Gerekenler

| Kategori | AÃ§Ä±klama / UyarÄ±lar |
|----------|---------------------|
| **Eksik Åema TanÄ±mÄ±** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** BoÅŸ veya eksik ÅŸema, doÄŸrulama mekanizmasÄ±nÄ± etkisiz bÄ±rakÄ±r.<br />**Alternatif:** Minimum validasyon kurallarÄ±nÄ± ekleyip zamanla geniÅŸletin. |
| **DoÄŸrulanmamÄ±ÅŸ JSONPath** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** YanlÄ±ÅŸ path ifadesi nedeniyle politika hiÃ§ tetiklenmeyebilir.<br />**Alternatif:** KayÄ±t olmadan Ã¶nce **Test Transformation** ile path'i doÄŸrulayÄ±n. |
| **KontrolsÃ¼z Global DeÄŸiÅŸiklik** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Global politikada yapÄ±lan deÄŸiÅŸiklikler tÃ¼m API'leri etkileyerek beklenmeyen kesintilere yol aÃ§abilir.<br />**Alternatif:** Ã–nce lokal kopyada test edin ve onay sonrasÄ± canlÄ±ya alÄ±n. |
| **Åema Silme SonrasÄ± Export Almamak** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Geri dÃ¶nÃ¼ÅŸ iÃ§in referans kalmaz, audit izleri kaybolur.<br />**Alternatif:** Åema silmeden Ã¶nce politikayÄ± export edin. |

### Performans Ä°puÃ§larÄ±

| Kriter | Ã–neri / Etki |
|--------|--------------|
| **Åema Boyutu** | **Ã–neri:** ÅemalarÄ± mÃ¼mkÃ¼n olduÄŸunca sade tutun, gereksiz `allOf`/`anyOf` kombinasyonlarÄ±nÄ± azaltÄ±n.<br />**Etki:** Daha hÄ±zlÄ± doÄŸrulama ve dÃ¼ÅŸÃ¼k CPU tÃ¼ketimi. |
| **JSONPath KarmaÅŸÄ±klÄ±ÄŸÄ±** | **Ã–neri:** KarmaÅŸÄ±k path ifadelerinde joker karakterleri minimal kullanÄ±n.<br />**Etki:** JSON seÃ§imi hÄ±zlanÄ±r, gecikme azalÄ±r. |
| **Ã‡oklu Åema KontrolÃ¼** | **Ã–neri:** Birden fazla ÅŸema gerekiyorsa Ã¶nce en sÄ±k kullanÄ±lanÄ± liste baÅŸÄ±na yerleÅŸtirin.<br />**Etki:** Erken eÅŸleÅŸme ile doÄŸrulama sÃ¼resi kÄ±salÄ±r. |
| **KoÅŸul Filtreleme** | **Ã–neri:** Politika gereksiz isteklerde Ã§alÄ±ÅŸmamasÄ± iÃ§in Query Builder koÅŸullarÄ±nÄ± optimize edin.<br />**Etki:** Gateway kaynaklarÄ±nÄ±n verimli kullanÄ±lmasÄ±. |
| **Ã–n Prod Testleri** | **Ã–neri:** CanlÄ±ya almadan Ã¶nce aynÄ± yÃ¼kle test ortamÄ±nda sonuÃ§larÄ± Ã¶lÃ§Ã¼n.<br />**Etki:** CanlÄ± ortamda performans sÃ¼rprizi yaÅŸanmaz. |

## SÄ±k Sorulan Sorular (SSS)

| Kategori | Soru (S) | Cevap (C) |
|----------|-----------|-----------|
| **Genel** | Bu politika XML gÃ¶vdelerini doÄŸrular mÄ±? | HayÄ±r, yalnÄ±zca JSON iÃ§erikleri doÄŸrulanÄ±r; XML iÃ§in ayrÄ± politika kullanmalÄ±sÄ±nÄ±z. |
| **Genel** | VarsayÄ±lan hata mesajÄ±nÄ± deÄŸiÅŸtirmek zorunlu mu? | HayÄ±r, varsayÄ±lan mesaj kullanabilirsiniz ancak kullanÄ±cÄ± deneyimi iÃ§in Ã¶zelleÅŸtirme Ã¶nerilir. |
| **Teknik** | JSON Åema hangi draft sÃ¼rÃ¼mÃ¼nÃ¼ destekliyor? | Apinizer editÃ¶rÃ¼ Draft 4 ve Ã¼zeri JSON Åema sÃ¶zdizimini destekler; geÃ§erli JSON olmasÄ± yeterlidir. |
| **Teknik** | `pathForBody` boÅŸ bÄ±rakÄ±lÄ±rsa ne olur? | VarsayÄ±lan `$.` uygulanÄ±r ve tÃ¼m istek gÃ¶vdesi doÄŸrulamaya dahil edilir. |
| **KullanÄ±m** | AynÄ± politikayÄ± birden fazla API Proxy'de kullanabilir miyim? | Evet, global politika olarak tanÄ±mlandÄ±ÄŸÄ±nda tÃ¼m API Proxy'lere baÄŸlanabilir. |
| **KullanÄ±m** | Lokal politikaya dÃ¶nÃ¼ÅŸtÃ¼rdÃ¼ÄŸÃ¼mde global sÃ¼rÃ¼m etkilenir mi? | HayÄ±r, lokal kopya baÄŸÄ±msÄ±zdÄ±r; deÄŸiÅŸiklikler global politikaya yansÄ±maz. |

**Bu dokÃ¼man Apinizer Ã¼rÃ¼n dokÃ¼mantasyonunun bir parÃ§asÄ±dÄ±r. Â©ï¸ 2025 Apinizer - TÃ¼m haklarÄ± saklÄ±dÄ±r.**

Bu dokÃ¼mantasyon, Apinizer yazÄ±lÄ±mÄ±nÄ± kullanan kiÅŸi ve kuruluÅŸlar tarafÄ±ndan dahili kullanÄ±m amacÄ±yla serbestÃ§e kullanÄ±labilir, kopyalanabilir ve daÄŸÄ±tÄ±labilir.
