---
title: "OIDC Kimlik DoÄŸrulama"
description: "OIDC saÄŸlayÄ±cÄ±sÄ±yla entegre olup kullanÄ±cÄ± oturumlarÄ±nÄ± doÄŸrular ve API eriÅŸimini kontrol eder"
---

**Son GÃ¼ncelleme:** 11 KasÄ±m 2025  
**Hedef Kitle:** Sistem YÃ¶neticileri, Backend GeliÅŸtiriciler, DevOps MÃ¼hendisleri

**ğŸ’¡ Politikalar hakkÄ±nda bilginiz var mÄ±?**  
Bu dokÃ¼man spesifik bir politikanÄ±n detaylÄ± kullanÄ±mÄ±nÄ± anlatÄ±r. EÄŸer Apinizer politika yapÄ±sÄ±nÄ± ilk kez kullanÄ±yorsanÄ±z veya politikalarÄ±n genel Ã§alÄ±ÅŸma prensiplerini Ã¶ÄŸrenmek istiyorsanÄ±z, Ã¶ncelikle [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±nÄ± okumanÄ±zÄ± Ã¶neririz.

| **Politika AdÄ±** | OIDC Kimlik DoÄŸrulama PolitikasÄ± |
|---|:---|
| **Ã–zet** | OIDC saÄŸlayÄ±cÄ±sÄ±yla entegre olup kullanÄ±cÄ± oturumlarÄ±nÄ± doÄŸrular ve API eriÅŸimini kontrol eder. |
| **Kategori** | GÃ¼venlik ve EriÅŸim KontrolÃ¼ |
| **DÃ¶nÃ¼ÅŸ Durum KodlarÄ±** | <table><thead><tr><th>Hata Kodu</th><th>Hata MesajÄ±</th><th>HTTP Durum Kodu</th></tr></thead><tbody><tr><td>ERR-199</td><td>OIDC policy failed! Protocol error: {0}</td><td>500</td></tr><tr><td>ERR-201</td><td>OIDC policy failed! Authentication error: {0}</td><td>500</td></tr><tr><td>ERR-202</td><td>OIDC policy interrupted the flow!</td><td>200</td></tr><tr><td>ERR-203</td><td>OIDC policy redirection successful!</td><td>302</td></tr><tr><td>ERR-204</td><td>OIDC policy failed! Error message is: Invalid token</td><td>401</td></tr></tbody></table> |

## Genel BakÄ±ÅŸ

### AmacÄ± Nedir?

- API Proxy (API Vekil Sunucusu) trafiÄŸini harici OIDC saÄŸlayÄ±cÄ±larÄ±na yÃ¶nlendirerek uÃ§ kullanÄ±cÄ± kimlik doÄŸrulamasÄ±nÄ± standartlaÅŸtÄ±rmak.
- ID token ve access token doÄŸrulamasÄ±yla mikro servislerin kimlik doÄŸrulama yÃ¼kÃ¼nÃ¼ hafifletmek ve gÃ¼venliÄŸi merkezileÅŸtirmek.
- Oturum, cookie ve cache yÃ¶netimi sayesinde uzun sÃ¼reli kullanÄ±cÄ± oturumlarÄ±nÄ± gÃ¼venli biÃ§imde sÃ¼rdÃ¼rebilmek.
- Rol haritalama ve header enjeksiyonlarÄ±yla API katmanÄ±nda ince taneli yetkilendirme kurallarÄ± uygulamak.

### Ã‡alÄ±ÅŸma Prensibi

1. **Ä°stek GeliÅŸi**: API Gateway'e gelen her HTTP/HTTPS isteÄŸi iÃ§in, istemin kaynak IP adresi tespit edilir.
2. **Politika KontrolÃ¼**: OIDC Kimlik DoÄŸrulama politikasÄ± aktif ise, sistem aÅŸaÄŸÄ±daki sÄ±rayla kontrol yapar:
   - Condition (koÅŸul) tanÄ±mlÄ± mÄ±? Varsa koÅŸul saÄŸlanÄ±yor mu?
   - Politika aktif mi (active=true)?
   - Variable kullanÄ±lÄ±yor mu yoksa Apinizer default mÄ±?
3. **OIDC Yetkilendirme AkÄ±ÅŸÄ±**: Ä°stek, seÃ§ilen OIDC/OAuth2 flow tipine gÃ¶re yÃ¶nlendirilir; issuer/discovery metadatasÄ± Ã§ekilir, PKCE ve nonce/state deÄŸerleri Ã¼retilir, token valide edilir.
4. **Karar Verme**:
   - **EÅŸleÅŸme Var**: DoÄŸrulanmÄ±ÅŸ token'dan kullanÄ±cÄ± bilgileri Ã§Ä±karÄ±lÄ±r, header/cookie gÃ¼ncellenir, opsiyonel yetkilendirme servisi tetiklenir ve isteÄŸe izin verilir.
   - **EÅŸleÅŸme Yok**: Yetkilendirme baÅŸarÄ±sÄ±z olur, tanÄ±mlanan hata mesajÄ± veya redirect kuralÄ± uygulanÄ±r.
5. **Hata Ä°ÅŸleme**: Politika kuralÄ±na uymayan istekler iÃ§in Ã¶zelleÅŸtirilebilir HTTP durum kodu ve hata mesajÄ± dÃ¶ndÃ¼rÃ¼lÃ¼r.

## Ã–zellikler ve Yetenekler

### Temel Ã–zellikler

- **Dinamik OIDC KeÅŸfi**: Well-known endpoint Ã¼zerinden issuer, JWKS ve diÄŸer metadata bilgilerini otomatik keÅŸfederek manuel yapÄ±landÄ±rma ihtiyacÄ±nÄ± azaltÄ±r.
- **Ã‡oklu AkÄ±ÅŸ DesteÄŸi**: Authorization Code, Implicit, Hybrid ve saf OAuth2 Authorization Code akÄ±ÅŸlarÄ±nÄ± aynÄ± politikada yÃ¶netir; PKCE desteÄŸiyle gÃ¼venliÄŸi artÄ±rÄ±r.
- **Token DoÄŸrulama Kontrolleri**: ID/Access token doÄŸrulamasÄ±, imza algoritmasÄ± kontrolÃ¼, kullanÄ±cÄ± bilgisi alma ve API tabanlÄ± token doÄŸrulama seÃ§eneklerini sunar.
- **Aktif/Pasif Durum KontrolÃ¼**: PolitikanÄ±n aktif veya pasif durumunu kolayca deÄŸiÅŸtirme (active/passive toggle). Pasif durumda politika uygulanmaz ancak yapÄ±landÄ±rmasÄ± saklanÄ±r.
- **KoÅŸul BazlÄ± Uygulama**: Query Builder ile karmaÅŸÄ±k koÅŸullar oluÅŸturarak politikanÄ±n ne zaman uygulanacaÄŸÄ±nÄ± belirleme (Ã¶rn: sadece belirli endpoint'lere veya header deÄŸerlerine gÃ¶re).

### Ä°leri DÃ¼zey Ã–zellikler

- **GeliÅŸmiÅŸ Oturum YÃ¶netimi**: Session cookie adÄ±, timeout, state/nonce doÄŸrulamasÄ±, oturum ÅŸifreleme ve sÄ±kÄ±ÅŸtÄ±rma ayarlarÄ± ile kurumsal gÃ¼venlik standartlarÄ±nÄ± karÅŸÄ±lar.
- **Rol ve Yetkilendirme Entegrasyonu**: Rol haritalama, header'a rol ekleme, harici yetkilendirme servisi veya Credential Role Service ile derinlemesine eriÅŸim yÃ¶netimi saÄŸlar.
- **Uyarlanabilir Token TaÅŸÄ±ma**: Token'Ä± header, cookie veya her ikisi Ã¼zerinden kabul edebilir; bearer formatÄ±nÄ± zorunlu kÄ±labilir, Ã¶zel header isimleri kullanabilir.
- **Export/Import Ã–zelliÄŸi**: Politika yapÄ±landÄ±rmasÄ±nÄ± ZIP dosyasÄ± olarak export etme. FarklÄ± ortamlara (Development, Test, Production) import etme. Versiyon kontrolÃ¼ ve yedekleme imkanÄ±.
- **Policy Group ve Proxy Group DesteÄŸi**: Birden fazla politikayÄ± Policy Group iÃ§inde yÃ¶netme. Proxy Group'lara toplu politika atama. Merkezi gÃ¼ncelleme ve deploy iÅŸlemleri.
- **Deploy ve Versiyonlama**: Politika deÄŸiÅŸikliklerini canlÄ± ortama deploy etme. Hangi API Proxy'lerde kullanÄ±ldÄ±ÄŸÄ±nÄ± gÃ¶rme (Policy Usage). Proxy Group ve Policy Group kullanÄ±m raporlarÄ±.

## KullanÄ±m SenaryolarÄ±

| Senaryo | Durum | Ã‡Ã¶zÃ¼m (Politika UygulamasÄ±) | Beklenen DavranÄ±ÅŸ / SonuÃ§ |
|---------|-------|----------------------------|---------------------------|
| Kurumsal Portal SSO | Tek oturum aÃ§ma saÄŸlanmak isteniyor | Authorization Code + PKCE, global politika | KullanÄ±cÄ± tek giriÅŸle bÃ¼tÃ¼n API Proxy'lerde yetkilendirilir. |
| Mobil Uygulama GÃ¼venliÄŸi | Mobil istemcilerde token sÄ±zÄ±ntÄ±sÄ± riski var | PKCE etkin, kÄ±sa token cache sÃ¼resi | Mobil uygulama token'Ä± secure storage'da tutar, sÃ¼resi dolunca yeniler. |
| Legacy API KorumasÄ± | Eski servisler Basic Authentication kullanÄ±yor | Token validation + header enjeksiyonu | Kimlik doÄŸrulama gateway'de yapÄ±lÄ±r, servis yalnÄ±zca header'Ä± okur. |
| Harici Ä°ÅŸ OrtaÄŸÄ± Entegrasyonu | DÄ±ÅŸ sistemler cookie tabanlÄ± eriÅŸim istiyor | Token cookie'lere yazÄ±lÄ±r, SameSite/secure ayarlanÄ±r | Ä°ÅŸ ortaÄŸÄ± tarayÄ±cÄ±larÄ± ek config olmadan oturum taÅŸÄ±r. |
| Ã‡oklu OIDC SaÄŸlayÄ±cÄ± YÃ¶netimi | FarklÄ± tenant'lar farklÄ± issuer kullanÄ±yor | Ã–zel condition + discovery URL deÄŸiÅŸkeni | Her tenant isteÄŸi kendi issuer'Ä±na yÃ¶nelir ve doÄŸrulanÄ±r. |
| YÃ¼ksek GÃ¼venlikli API | Token imzasÄ± ve aud doÄŸrulamasÄ± zorunlu | ValidateJwtSignature + ExpectedAudience listesi | YanlÄ±ÅŸ issuer/audience iÃ§eren token'lar 403 ile reddedilir. |
| GeliÅŸtirici Sandbox *(opsiyonel)* | Test ortamÄ±nda hafif doÄŸrulama gerekli | Condition ile /sandbox/* path seÃ§imi, debug logging aÃ§Ä±k | Sadece sandbox Ã§aÄŸrÄ±larÄ± zayÄ±f doÄŸrulamadan geÃ§er, canlÄ± trafik etkilenmez. |

## Politika Parametrelerini YapÄ±landÄ±rma

Bu adÄ±mda, kullanÄ±cÄ± **yeni bir politika oluÅŸturabilir** ya da **mevcut politika parametrelerini yapÄ±landÄ±rarak** eriÅŸim kurallarÄ±nÄ± belirleyebilir. TanÄ±mlanan parametreler, politikanÄ±n Ã§alÄ±ÅŸma ÅŸeklini (Ã¶rneÄŸin hangi IP'lerin izinli olacaÄŸÄ±, coÄŸrafi kÄ±sÄ±tlamalar, koÅŸullu aktivasyonlar vb.) doÄŸrudan etkiler. Bu sayede politika hem kuruma Ã¶zel gereksinimlere gÃ¶re Ã¶zelleÅŸtirilebilir hem de merkezi olarak yÃ¶netilebilir.

### Yeni OIDC Kimlik DoÄŸrulama PolitikasÄ± OluÅŸturma

<img src="/images/gelistirici/politikalar/oidc-1.png" alt="OIDC Kimlik DoÄŸrulama PolitikasÄ±" width="1000" />

<img src="/images/gelistirici/politikalar/oidc-2.png" alt="OIDC Kimlik DoÄŸrulama PolitikasÄ±" width="1000" />

<img src="/images/gelistirici/politikalar/oidc-3.png" alt="OIDC Kimlik DoÄŸrulama PolitikasÄ±" width="1000" />

<img src="/images/gelistirici/politikalar/oidc-4.png" alt="OIDC Kimlik DoÄŸrulama PolitikasÄ±" width="1000" />

<img src="/images/gelistirici/politikalar/oidc-5.png" alt="OIDC Kimlik DoÄŸrulama PolitikasÄ±" width="1000" />

### YapÄ±landÄ±rma AdÄ±mlarÄ±

| AdÄ±m | AÃ§Ä±klama / Ä°ÅŸlem |
|------|------------------|
| **AdÄ±m 1: OluÅŸturma SayfasÄ±na Gitme** | - Sol menÃ¼den **Development â†’ Global Settings â†’ Global Policies â†’ OIDC Kimlik DoÄŸrulama PolitikasÄ±** bÃ¶lÃ¼mÃ¼ne gidin.<br />- SaÄŸ Ã¼stteki **[+ Create]** butonuna tÄ±klayÄ±n. |
| **AdÄ±m 2: Temel Bilgileri Girme** | **Policy Status (Politika Durumu):** Aktif/Pasif durumu gÃ¶sterir. Yeni politikalar varsayÄ±lan olarak aktiftir.<br /><br />**Name (Ä°sim) Zorunlu:** Ã–rnek: `Production_OIDCAuth`<br />- Benzersiz isim girin, boÅŸlukla baÅŸlamaz.<br />- Sistem otomatik kontrol eder. YeÅŸil tik: kullanÄ±labilir. KÄ±rmÄ±zÄ± Ã§arpÄ±: mevcut isim.<br /><br />**Description (AÃ§Ä±klama):** Ã–rnek: "Kurumsal kullanÄ±cÄ±lar iÃ§in OIDC SSO"<br />- Maks. 1000 karakter.<br />- PolitikanÄ±n amacÄ±nÄ± aÃ§Ä±klayÄ±n. |
| **AdÄ±m 3: OIDC SaÄŸlayÄ±cÄ± ve UÃ§ Nokta YapÄ±landÄ±rmasÄ±** | - Issuer veya Discovery URL'sini tanÄ±mlayÄ±n.<br />- Discovery devre dÄ±ÅŸÄ± ise Authorization, Token, UserInfo, JWKS ve Introspection endpoint adreslerini manuel girin.<br />- Client ID/Secret, Redirect URI, Realm ve scopes alanlarÄ±nÄ± doldurun.<br />- PKCE ve zorunlu scope ihtiyaÃ§larÄ±nÄ± deÄŸerlendirerek iÅŸaretleyin. |
| **AdÄ±m 4: AkÄ±ÅŸ, Token ve Oturum Parametreleri** | - Flow Type seÃ§erek (Authorization Code, Implicit, Hybrid, OAuth2) yÃ¶nlendirmeyi belirleyin.<br />- Token doÄŸrulama, imza algoritmasÄ±, audience/issuer kontrollerini yapÄ±landÄ±rÄ±n.<br />- Token kabul yolu (header/cookie), bearer kullanÄ±m durumu ve cache timeout deÄŸerlerini girin.<br />- Session cookie adÄ±, timeout, encryption/compression seÃ§eneklerini aÃ§Ä±n. |
| **AdÄ±m 5: GeliÅŸmiÅŸ BaÅŸlÄ±k ve Yetkilendirme AyarlarÄ±** | - Custom header ve backend header tablolarÄ±na gereksinim duyulan key/value Ã§iftlerini ekleyin.<br />- KullanÄ±cÄ±/rol bilgilerini header'a yazmak iÃ§in toggle'larÄ± aktif edin, header isimlerini belirleyin.<br />- Identity Role Group Service ile rol eÅŸlemeleri yapÄ±n, gerekirse Authorization Configuration bileÅŸeni Ã¼zerinden ek servisleri baÄŸlayÄ±n. |
| **AdÄ±m 6: KoÅŸul TanÄ±mlama (Ä°steÄŸe BaÄŸlÄ±)** | - **Condition** sekmesine geÃ§in.<br />- KoÅŸullar, politikanÄ±n hangi durumda aktif olacaÄŸÄ±nÄ± belirler.<br /><br />**Ã–rnekler:**<br />- Ortam bazlÄ±: `Header = X-Environment, Operator = Equals, Value = production`<br />- API Key bazlÄ±: `Header = X-API-Key, Starts With = PROD-`<br />- Endpoint bazlÄ±: `Path = /api/admin/*`<br /><br />KoÅŸul tanÄ±mlamazsa politika her zaman aktif<br />Detaylar iÃ§in bakabilirsiniz: [KoÅŸullar (Conditions)](/tr/gelistirici/politikalar/politika-nedir#conditions) |
| **AdÄ±m 7: Hata MesajÄ± Ã–zelleÅŸtirme (Ä°steÄŸe BaÄŸlÄ±)** | - **Error Message Customization** sekmesine gidin.<br />- EriÅŸim reddedildiÄŸinde dÃ¶necek mesajÄ± Ã¶zelleÅŸtirin.<br /><br />**VarsayÄ±lan:**<br />`{ "statusCode": 403, "message": "[Default hata mesajÄ±]" }`<br /><br />**Ã–zel:**<br />`{ "statusCode": 403, "errorCode": "[CUSTOM_ERROR_CODE]", "message": "[Ã–zel mesaj]" }` |
| **AdÄ±m 8: Kaydetme** | - SaÄŸ Ã¼stteki **[Save]** butonuna tÄ±klayÄ±n.<br /><br />**Kontrol Listesi:** Benzersiz isim. Zorunlu alanlar dolu. En az bir OIDC saÄŸlayÄ±cÄ± konfigÃ¼rasyonu mevcut<br /><br />**SonuÃ§:**<br />- Politika listeye eklenir.<br />- API'lere baÄŸlanabilir.<br />- Global politikaysa otomatik uygulanÄ±r. |

## PolitikayÄ± Silme

Bu politikanÄ±n silme adÄ±mlarÄ± ve kullanÄ±mdayken uygulanacak iÅŸlemler, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **PolitikayÄ± Silme** bÃ¶lÃ¼mÃ¼nde detaylÄ± olarak aÃ§Ä±klanmÄ±ÅŸtÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me bakabilirsiniz: [PolitikayÄ± Silme](/tr/gelistirici/politikalar/politika-nedir#politikayÄ±-silme)

## PolitikayÄ± DÄ±ÅŸa/Ä°Ã§e Aktarma

Bu politikanÄ±n dÄ±ÅŸa aktarma (Export) adÄ±mlarÄ± ve kullanÄ±labilecek seÃ§enekler, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **DÄ±ÅŸa Aktarma Ä°ÅŸlemi** bÃ¶lÃ¼mÃ¼nde aÃ§Ä±klanmaktadÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me bakabilirsiniz: [PolitikayÄ± DÄ±ÅŸa/Ä°Ã§e Aktarma](/tr/gelistirici/politikalar/politika-nedir#politikayÄ±-dÄ±ÅŸa-iÃ§e-aktarma)

## PolitikayÄ± API'ye BaÄŸlama

Bu politikanÄ±n API'lere nasÄ±l baÄŸlanacaÄŸÄ±na iliÅŸkin sÃ¼reÃ§, [Politika Nedir?](/tr/gelistirici/politikalar/politika-nedir) sayfasÄ±ndaki **PolitikayÄ± API'ye BaÄŸlama** bÃ¶lÃ¼mÃ¼nde detaylandÄ±rÄ±lmÄ±ÅŸtÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me gÃ¶z atabilirsiniz: [PolitikayÄ± API'ye BaÄŸlama](/tr/gelistirici/politikalar/politika-nedir#politikayÄ±-apiye-baÄŸlama)

## Ä°leri DÃ¼zey Ã–zellikler

| Ã–zellik | AÃ§Ä±klama ve AdÄ±mlar |
|---------|---------------------|
| **Dinamik Metadata KeÅŸfi** | - Discovery URL girildiÄŸinde issuer, JWKS, endpoint bilgilerini otomatik Ã§eker.<br />- Metadata cache timeout ile performans ayarÄ± yapÄ±lÄ±r.<br />- KeÅŸif baÅŸarÄ±sÄ±zsa politika hata mesajÄ± dÃ¶ndÃ¼rÃ¼r. |
| **GÃ¼venli Oturum Åifreleme** | - SessionEncryptionKey/IV alanlarÄ±na 32/16 byte deÄŸerler girilir.<br />- Åifreleme ve sÄ±kÄ±ÅŸtÄ±rma ayrÄ± ayrÄ± etkinleÅŸtirilebilir.<br />- GÃ¼venlik gereksinimleri iÃ§in TLS zorunlu kÄ±lÄ±nmalÄ±dÄ±r. |
| **Rol Haritalama ve Header Enjeksiyonu** | - Claim path ve hedef rol eÅŸlemesi yapÄ±lÄ±r.<br />- Roller header'a eklenebilir, header isimleri Ã¶zelleÅŸtirilebilir.<br />- Identity Role Group Service ile rol seÃ§imi yapÄ±lÄ±r. |

## Best Practices

### YapÄ±lmasÄ± Gerekenler ve En Ä°yi Uygulamalar

| Kategori | AÃ§Ä±klama / Ã–neriler |
|----------|---------------------|
| **OIDC SaÄŸlayÄ±cÄ± YÃ¶netimi** | **KÃ¶tÃ¼:** TÃ¼m ortamlar iÃ§in tek issuer kullanmak.<br />**Ä°yi:** Test ve canlÄ± iÃ§in farklÄ± issuer tanÄ±mlamak.<br />**En Ä°yi:** Condition ile ortam bazlÄ± issuer seÃ§imi yapmak. |
| **Token GÃ¼venliÄŸi** | **KÃ¶tÃ¼:** Imza doÄŸrulamasÄ±nÄ± kapatmak.<br />**Ä°yi:** JWT signature doÄŸrulamasÄ± yapmak.<br />**En Ä°yi:** JWKS anahtarlarÄ±nÄ± cache'leyip periyodik yenilemek. |
| **Oturum SÃ¼releri** | **KÃ¶tÃ¼:** SÃ¼releri varsayÄ±landa bÄ±rakmak.<br />**Ä°yi:** KullanÄ±cÄ± profiline gÃ¶re timeout belirlemek.<br />**En Ä°yi:** Session absolute timeout + refresh token stratejisi uygulamak. |
| **Rol YÃ¶netimi** | **KÃ¶tÃ¼:** Roller iÃ§in tek claim kullanmak.<br />**Ä°yi:** Claim path ile rol Ã§Ä±karmak.<br />**En Ä°yi:** Identity Role Group Service ile merkezi rol haritalama yapmak. |
| **Hata YÃ¶netimi** | **KÃ¶tÃ¼:** Genel hata mesajÄ± iletilmesi.<br />**Ä°yi:** OIDC'e Ã¶zgÃ¼ hata mesajÄ± belirtmek.<br />**En Ä°yi:** Error Message Customization'da kullanÄ±cÄ± dostu ve log dostu farklÄ± iÃ§erik saÄŸlamak. |

### GÃ¼venlik En Ä°yi UygulamalarÄ±

| GÃ¼venlik AlanÄ± | AÃ§Ä±klama / UyarÄ±lar |
|----------------|---------------------|
| **TLS ZorunluluÄŸu** | TÃ¼m endpoint adresleri HTTPS olmalÄ±; allowInsecureConnections=true yalnÄ±zca geÃ§ici kullanÄ±m iÃ§in Ã¶nerilir. |
| **PKCE KullanÄ±mÄ±** | Mobil ve SPAs iÃ§in enablePKCE=true yapÄ±landÄ±rÄ±lmalÄ±, code verifier loglanmamalÄ±. |
| **Nonce/State KorumasÄ±** | Nonce ve state doÄŸrulamasÄ± devre dÄ±ÅŸÄ± bÄ±rakÄ±lmamalÄ±; replay saldÄ±rÄ±larÄ±na karÅŸÄ± zorunludur. |
| **Session Åifreleme** | SessionEncryptionKey/IV deÄŸerleri ortam gizli deÄŸiÅŸkenlerinden beslenmeli, koda gÃ¶mÃ¼lmemelidir. |
| **Cookie GÃ¼venliÄŸi** | Secure, HttpOnly ve SameSite politikalarÄ± etkinleÅŸtirilmeli; token cookie'leri minimum yetkilerle gÃ¶nderilmelidir. |

### KaÃ§Ä±nÄ±lmasÄ± Gerekenler

| Kategori | AÃ§Ä±klama / UyarÄ±lar |
|----------|---------------------|
| **VarsayÄ±lan Key KullanÄ±mÄ±** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Kod iÃ§indeki varsayÄ±lan session key deÄŸerleri tahmin edilebilir.<br />**Alternatif:** Her ortam iÃ§in gizli yÃ¶netim sistemi Ã¼zerinden benzersiz key Ã¼retin. |
| **GeniÅŸ Scope TanÄ±mlarÄ±** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Fazla scope, yetki geniÅŸlemesine sebep olur.<br />**Alternatif:** En az ayrÄ±calÄ±k prensibiyle yalnÄ±zca gerekli scope'larÄ± ekleyin. |
| **Uzun Cache SÃ¼releri** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** JWKS/token cache'i uzun tutulursa anahtar rotasyonuna uyum zayÄ±flar.<br />**Alternatif:** 15-60 dk arasÄ± cache sÃ¼resi seÃ§in ve refresh mekanizmasÄ± kurun. |
| **Debug LoglarÄ± CanlÄ±da AÃ§Ä±k Tutmak** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Hassas token bilgileri loglara dÃ¼ÅŸebilir.<br />**Alternatif:** Debug logging'i sadece sorun giderme anÄ±nda kÄ±sa sÃ¼re aÃ§Ä±n. |

### Performans Ä°puÃ§larÄ±

| Kriter | Ã–neri / Etki |
|--------|--------------|
| **Metadata Cache** | **Ã–neri:** providerMetadataCacheTimeoutSeconds deÄŸerini 900-1800 sn aralÄ±ÄŸÄ±nda tutun.<br />**Etki:** Discovery endpoint Ã§aÄŸrÄ±larÄ± azalÄ±r, latency dÃ¼ÅŸer. |
| **Token Cache Timeout** | **Ã–neri:** tokenCacheTimeoutSeconds'Ä± OIDC access token yaÅŸam sÃ¼resine gÃ¶re ayarlayÄ±n.<br />**Etki:** Gereksiz yeniden doÄŸrulamalar engellenir, back-end yÃ¼kÃ¼ azalÄ±r. |
| **JWKS Ã–nbelleÄŸi** | **Ã–neri:** jwkCacheTimeoutSeconds iÃ§in 3600 sn Ã¼st sÄ±nÄ±rÄ± aÅŸmayÄ±n.<br />**Etki:** Anahtar rotasyonunda hatalÄ± imzalarÄ±n kabul edilmesi engellenir. |
| **Ignore Patterns** | **Ã–neri:** Statik iÃ§erik path'lerini ignoreRequestPatterns'e ekleyin.<br />**Etki:** Statik dosyalar gereksiz yÃ¶nlendirmeden kurtulur, yanÄ±t sÃ¼resi artar. |
| **Backend Header YÃ¶netimi** | **Ã–neri:** Gerekmeyen backendRequestHeaders giriÅŸlerini kaldÄ±rÄ±n.<br />**Etki:** Backend'e giden istek boyutu ve iÅŸleme sÃ¼resi dÃ¼ÅŸer. |

## SÄ±k Sorulan Sorular (SSS)

| Kategori | Soru (S) | Cevap (C) |
|----------|----------|-----------|
| **Genel** | OIDC kimlik doÄŸrulama nedir? | OpenID Connect (OIDC), OAuth 2.0 Ã¼zerine kurulu kimlik doÄŸrulama protokolÃ¼dÃ¼r. ID token ve access token kullanarak kullanÄ±cÄ± kimliÄŸini doÄŸrular. |
| **Genel** | Hangi flow type'lar destekleniyor? | Authorization Code, Implicit, Hybrid ve saf OAuth2 Authorization Code flow type'larÄ± desteklenir. |
| **Teknik** | Token nasÄ±l doÄŸrulanÄ±r? | Gateway, token'Ä± alÄ±r, JWT signature'Ä±nÄ± JWKS endpoint'inden alÄ±nan public key ile doÄŸrular, audience ve issuer kontrolÃ¼ yapar. |
| **Teknik** | PKCE nedir? | Proof Key for Code Exchange (PKCE), authorization code interception saldÄ±rÄ±larÄ±na karÅŸÄ± koruma saÄŸlayan gÃ¼venlik mekanizmasÄ±dÄ±r. |
| **KullanÄ±m** | FarklÄ± tenant'lar iÃ§in farklÄ± OIDC saÄŸlayÄ±cÄ±larÄ± nasÄ±l kullanÄ±lÄ±r? | Condition ile tenant bazlÄ± issuer seÃ§imi yapÄ±labilir veya discovery URL deÄŸiÅŸkeni kullanÄ±labilir. |
| **KullanÄ±m** | VarsayÄ±lan hata mesajÄ±nÄ± nasÄ±l deÄŸiÅŸtirebilirim? | Error Message Customization sekmesinden durum kodu, hata kodu ve mesaj alanlarÄ±nÄ± dÃ¼zenleyebilirsiniz. |
| **Genel** | OIDC politikasÄ± Basic Authentication politikasÄ±yla birlikte Ã§alÄ±ÅŸabilir mi? | Evet, ancak Basic Authentication yalnÄ±zca fallback olarak Ã¶nerilir; koÅŸul bazlÄ± olarak hangi politikanÄ±n Ã§alÄ±ÅŸacaÄŸÄ±nÄ± belirleyebilirsiniz. |
| **Genel** | PolitikayÄ± local'e Ã§evirdiÄŸimde global kopya etkilenir mi? | HayÄ±r, Localize iÅŸlemi yeni bir local politika oluÅŸturur; global politika deÄŸiÅŸmeden kalÄ±r. |
| **Teknik** | Discovery URL kullanmazsam hangi alanlarÄ± doldurmalÄ±yÄ±m? | Authorization, Token, UserInfo, JWKS ve Introspection endpoint adreslerini manuel girmeniz gerekir. |
| **Teknik** | Token doÄŸrulamasÄ± baÅŸarÄ±sÄ±z olduÄŸunda hangi log mesajlarÄ±nÄ± aramalÄ±yÄ±m? | Policy debug loglarÄ±nÄ± aÃ§arak validateAccessTokenWithApi ve validateJwtSignature adÄ±mlarÄ±nÄ±n hata detaylarÄ±nÄ± inceleyebilirsiniz. |
| **KullanÄ±m** | Birden fazla API Proxy (API Vekil Sunucusu) iÃ§in aynÄ± politikayÄ± nasÄ±l paylaÅŸÄ±rÄ±m? | PolitikayÄ± global olarak oluÅŸturup ilgili API Proxy'lere atayabilir veya Policy Group kullanabilirsiniz. |
| **KullanÄ±m** | Mobil uygulamalar iÃ§in PKCE zorunlu mu? | GÃ¼Ã§lÃ¼ gÃ¼venlik iÃ§in Ã¶nerilir; kod yakalama saldÄ±rÄ±larÄ±nÄ± Ã¶nlemek adÄ±na enablePKCE=true ayarÄ±nÄ± aktif edin. |

**Bu dokÃ¼man Apinizer Ã¼rÃ¼n dokÃ¼mantasyonunun bir parÃ§asÄ±dÄ±r. Â©ï¸ 2025 Apinizer - TÃ¼m haklarÄ± saklÄ±dÄ±r.**

Bu dokÃ¼mantasyon, Apinizer yazÄ±lÄ±mÄ±nÄ± kullanan kiÅŸi ve kuruluÅŸlar tarafÄ±ndan dahili kullanÄ±m amacÄ±yla serbestÃ§e kullanÄ±labilir, kopyalanabilir ve daÄŸÄ±tÄ±labilir.
