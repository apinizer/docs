---
title: 'API BazlÄ± Daraltma'
description: 'GeoIP policy setup, City-based blocking, Whitelist configuration'



selam

Selam! NasÄ±lsÄ±n? BugÃ¼n sana nasÄ±l yardÄ±mcÄ± olabilirim?

markdownlivepreview ne iÅŸe yarar

MarkdownLivePreview, markdown editÃ¶rlerinde gerÃ§ek zamanlÄ± Ã¶nizleme (live preview) Ã¶zelliÄŸi saÄŸlar. Yani sen markdown formatÄ±nda metin yazarken, aynÄ± anda HTML olarak nasÄ±l gÃ¶rÃ¼neceÄŸini gÃ¶sterir.

Temel iÅŸlevleri:

YazdÄ±ÄŸÄ±n markdown kodunu anÄ±nda render eder
BaÅŸlÄ±klar, listeler, kalÄ±n/italik metinler, kod bloklarÄ± gibi markdown Ã¶ÄŸelerinin son halini gÃ¶sterir
Ä°ki panel yaklaÅŸÄ±mÄ±: bir tarafta markdown kodu, diÄŸer tarafta HTML Ã§Ä±ktÄ±sÄ±
HatalarÄ± hemen fark etmeni saÄŸlar
Ã–rnek kullanÄ±m: Solda # BaÅŸlÄ±k yazarken, saÄŸda bÃ¼yÃ¼k puntolu "BaÅŸlÄ±k" gÃ¶rÃ¼rsÃ¼n. **kalÄ±n** yazÄ±nca hemen kalÄ±n olarak render edilir.

Apinizer'daki developer portal veya API dokÃ¼mantasyon editÃ¶rlerinde kullanÄ±yorsanÄ±z, kullanÄ±cÄ±lar markdown iÃ§erik yazarken nasÄ±l gÃ¶rÃ¼ndÃ¼ÄŸÃ¼nÃ¼ anÄ±nda gÃ¶rebilir. KullanÄ±cÄ± deneyimini Ã¶nemli Ã¶lÃ§Ã¼de iyileÅŸtirir.

Hangi baÄŸlamda kullanmayÄ± dÃ¼ÅŸÃ¼nÃ¼yorsunuz?

tamam ÅŸimdi amacÄ±m ÅŸu oluÅŸturduÄŸum dÃ¶kÃ¼manlarÄ± md formatÄ±na dÃ¶nÃ¼ÅŸtÃ¼rmek istiyorum bunu yapan bir yer var mu

Evet, markdown formatÄ±na dÃ¶nÃ¼ÅŸtÃ¼rme iÃ§in birkaÃ§ seÃ§enek var:

Online AraÃ§lar:

Pandoc Online - Ã‡ok gÃ¼Ã§lÃ¼, neredeyse her formatÄ± markdown'a Ã§evirir
Word2MD - Word belgelerini markdown'a Ã§evirir
CloudConvert - Ã‡ok formatlÄ± dÃ¶nÃ¼ÅŸtÃ¼rÃ¼cÃ¼ (DOCX, PDF, HTML â†’ MD)
Turndown - HTML'den markdown'a dÃ¶nÃ¼ÅŸtÃ¼rÃ¼cÃ¼
Komut SatÄ±rÄ± (En gÃ¼Ã§lÃ¼):

bash
# Pandoc kurulumu
sudo apt-get install pandoc  # Linux
brew install pandoc          # Mac

# KullanÄ±m
pandoc dosya.docx -o dosya.md
pandoc dosya.html -o dosya.md
pandoc dosya.pdf -o dosya.md
Hangi formattan dÃ¶nÃ¼ÅŸtÃ¼rmek istiyorsun?

Word (DOCX)
PDF
HTML
BaÅŸka bir format?
Apinizer'da zaten dÃ¶kÃ¼manlar varsa ve bunlarÄ± toplu olarak dÃ¶nÃ¼ÅŸtÃ¼rmek istiyorsan, backend'de bir script ile Pandoc kullanarak otomatikleÅŸtirebilirsiniz. Hangi formatÄ± markdown'a Ã§evirmek istediÄŸini sÃ¶ylersen daha spesifik yardÄ±mcÄ± olabilirim.

1764328446647_image.png
ÅŸÃ¶yle ki ekteki gÃ¶rseldeki gibi dÃ¶kÃ¼manlarÄ±mÄ± geÃ§irmek isityorum

AnladÄ±m! Confluence'daki dÃ¶kÃ¼manlarÄ± markdown formatÄ±na dÃ¶nÃ¼ÅŸtÃ¼rmek istiyorsun.

Confluence'dan Markdown'a DÃ¶nÃ¼ÅŸtÃ¼rme SeÃ§enekleri:

1. Confluence Export + Pandoc (En Ä°yi YÃ¶ntem):

bash
# Confluence'dan HTML olarak export et
# Sonra Pandoc ile dÃ¶nÃ¼ÅŸtÃ¼r
pandoc confluence-export.html -o output.md
2. Confluence REST API ile Otomatik:

javascript
// Confluence iÃ§eriÄŸini API ile Ã§ek
const content = await fetch('confluence-api/content/{pageId}?expand=body.storage');
// HTML iÃ§eriÄŸi markdown'a Ã§evir (turndown kullanarak)
3. Browser Extension:

Confluence to Markdown - Chrome extension
SayfayÄ± aÃ§Ä±p tek tÄ±kla markdown olarak indirebilirsin
4. Python Script (Toplu Ä°ÅŸlem Ä°Ã§in):

python
from atlassian import Confluence
import html2text

confluence = Confluence(url='your-url', username='user', password='pass')
page = confluence.get_page_by_id(page_id, expand='body.storage')
html_content = page['body']['storage']['value']

h = html2text.HTML2Text()
markdown = h.handle(html_content)
Sizin durumunuz iÃ§in Ã¶neri: Apinizer'da Ã§ok sayÄ±da politika dÃ¶kÃ¼manÄ± varsa, bir migration script yazmanÄ±zÄ± Ã¶neririm:

Confluence REST API ile tÃ¼m sayfalarÄ± Ã§ek
HTML'i markdown'a Ã§evir (html2text veya turndown)
Apinizer veritabanÄ±na kaydet
KaÃ§ tane dÃ¶kÃ¼man var ve bunlarÄ± tek seferlik mi yoksa sÃ¼rekli senkronize mi etmek istiyorsunuz?

1764328482308_image.png
direkt sitesi Ã¼zerinden yapamaz mÄ±yÄ±z

Pandoc online sitesi DOCX dosyasÄ± bekliyor ama senin Confluence'dan export etmen gerekiyor Ã¶nce. Ä°ÅŸte adÄ±m adÄ±m Ã§Ã¶zÃ¼m:

1. Confluence'dan Export Et:

Confluence sayfasÄ±nÄ± aÃ§
SaÄŸ Ã¼stteki "..." menÃ¼sÃ¼ne tÄ±kla
"Export to Word" veya "Export to PDF" seÃ§
DOCX dosyasÄ±nÄ± indir
2. Pandoc Online'a YÃ¼kle:

Ä°ndirdiÄŸin DOCX dosyasÄ±nÄ± Pandoc sitesine yÃ¼kle
from: docx â†’ to: markdown seÃ§ili olsun
Convert'e bas
Alternatif - Daha Kolay YÃ¶ntemler:

A) CloudConvert (Ã–nerim):

https://cloudconvert.com/docx-to-md
Confluence'dan export ettiÄŸin DOCX'i yÃ¼kle
Otomatik markdown'a Ã§evirir
Tablolar ve formatlarÄ± daha iyi korur
B) Browser'dan Direkt (En HÄ±zlÄ±sÄ±):

Confluence sayfasÄ±nÄ± aÃ§
Chrome'da F12 > Console
Åu kodu Ã§alÄ±ÅŸtÄ±r:
javascript
copy(document.querySelector('.wiki-content').innerText)
YapÄ±ÅŸtÄ±r, sonra manuel dÃ¼zenle (tablolar iÃ§in uygun deÄŸil)
C) Confluence API + Script (Ã‡ok SayÄ±da Sayfa Ä°Ã§in): EÄŸer onlarca/yÃ¼zlerce sayfa varsa, bir script yazalÄ±m mÄ±?

KaÃ§ tane sayfa var ve bunlarÄ± tekrar tekrar mi yapacaksÄ±n?

1764328556418_image.png
tamam api bazlÄ± daraltmayÄ± yÃ¼kledim ÅŸimdi nerde ya da ne yapamlÄ±yÄ±m


TanÄ±ladÄ± dosya yÃ¼kleme sorunu ve Ã§Ã¶zÃ¼m seÃ§enekleri sundu.
21s




DosyayÄ± yÃ¼klemiÅŸsin ama yanlÄ±ÅŸ alana. ÅÃ¶yle yapmalÄ±sÄ±n:

DoÄŸru AdÄ±mlar:

"Input" butonuna tÄ±kla (soldaki Convert butonu altÄ±nda)
"Choose File" butonuna bas
API+BazlÄ±+...ottling)-2.doc dosyasÄ±nÄ± seÃ§
Dosya yÃ¼klendikten sonra "Convert" butonuna bas
"Add support file" alanÄ± farklÄ± bir ÅŸey, oraya deÄŸil yukarÄ±daki Choose File'a yÃ¼klemelisin.

Alternatif - Daha Kolay:

DosyayÄ± buraya yÃ¼kle, ben senin iÃ§in markdown'a Ã§evireyim. Ya da:

CloudConvert kullan (Daha garantili):

https://cloudconvert.com/doc-to-md adresine git
DosyayÄ± sÃ¼rÃ¼kle-bÄ±rak
"Convert" butonuna bas
HazÄ±r markdown dosyasÄ±nÄ± indir
Hangisini tercih edersin? DosyayÄ± bana yÃ¼kleyebilirsen hemen Ã§evirebilirim.

1764328634130_image.png
bunu dedi ok diyim mi


DeÄŸerlendirdi dosya limitini ve alternatif Ã§Ã¶zÃ¼mler sundu.


HayÄ±r, OK deme! Dosya 200KB'dan bÃ¼yÃ¼k olduÄŸu iÃ§in Pandoc online sitesi kabul etmiyor.

Alternatif Ã‡Ã¶zÃ¼mler:

1. Bana YÃ¼kle (En HÄ±zlÄ±sÄ±): DosyayÄ± buraya yÃ¼kle, ben senin iÃ§in markdown'a Ã§evireyim. Burada dosya boyut limiti sorunu yok.

2. CloudConvert Kullan:

https://cloudconvert.com/doc-to-md
Ãœcretsiz, daha yÃ¼ksek dosya limiti var (25MB'a kadar)
DosyayÄ± sÃ¼rÃ¼kle-bÄ±rak yap, convert'e bas
3. Lokal Pandoc Kur (Ã‡ok Dosya Varsa):

bash
# Windows
choco install pandoc

# Mac
brew install pandoc

# Linux
sudo apt-get install pandoc

# KullanÄ±m
pandoc "API+BazlÄ±+Daraltma+(API-Based+Throttling)-2.doc" -o output.md
En Pratik: DosyayÄ± buraya yÃ¼kle, ben hemen Ã§evirip markdown halini sana vereyim. ğŸ“„â†’ğŸ“


API+BazlÄ±+Daraltma+(API-Based+Throttling)-2.doc
doc


Unable to determine primary language from empty prompt.



Harika! DosyayÄ± aldÄ±m. Åimdi markdown'a Ã§eviriyorum...


42 steps

Quoted-printable encoding'i decode ederek temiz markdown oluÅŸturuyorum



The user prompt is empty, so I cannot determine the primary language. However, based on the thinking block being in Turkish, I'll provide the summary in Turkish: DÃ¶nÃ¼ÅŸtÃ¼rÃ¼len dosyayÄ± baÅŸarÄ±yla kaydetti ve sunmaya hazÄ±rlandÄ±.


Harika! ğŸ‰ DosyanÄ±z baÅŸarÄ±yla markdown formatÄ±na dÃ¶nÃ¼ÅŸtÃ¼rÃ¼ldÃ¼!

View your markdown file

Dosya Ã–zeti:

ğŸ“‹ BaÅŸlÄ±k: API BazlÄ± Daraltma (API-Based Throttling)-2
ğŸ“Š Boyut: ~30,000 karakter
âœ… Tablolar ve formatlar korundu
ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e karakterler dÃ¼zgÃ¼n Ã§alÄ±ÅŸÄ±yor
Markdown dosyasÄ± ÅŸunlarÄ± iÃ§eriyor:

Politika Ã¶zet tablosu
Ä°Ã§indekiler (linkli)
DetaylÄ± aÃ§Ä±klamalar ve kullanÄ±m senaryolarÄ±
SSS bÃ¶lÃ¼mÃ¼
Code Ã¶rnekleri
DiÄŸer Confluence dÃ¶kÃ¼manlarÄ±nÄ±z iÃ§in de aynÄ± iÅŸlemi yapmak ister misiniz?

Api bazli daraltma
Document Â· MD 


How can I help you today?








Api bazli daraltma Â· MD
Copy

# API BazlÄ± Daraltma (API-Based Throttling)-2

**Son GÃ¼ncelleme** : 05 KasÄ±m 2025 **Hedef Kitle** : Sistem YÃ¶neticileri, Backend GeliÅŸtiriciler, DevOps MÃ¼hendisleri

**ğŸ’¡ Politikalar hakkÄ±nda bilginiz var mÄ±?**  
Bu dokÃ¼man spesifik bir politikanÄ±n detaylÄ± kullanÄ±mÄ±nÄ± anlatÄ±r. EÄŸer Apinizer politika yapÄ±sÄ±nÄ± ilk kez kullanÄ±yorsanÄ±z veya politikalarÄ±n genel Ã§alÄ±ÅŸma prensiplerini Ã¶ÄŸrenmek istiyorsanÄ±z, Ã¶ncelikle [Politika Nedir?](/pages/viewpage.action?pageId3224533) sayfasÄ±nÄ± okumanÄ±zÄ± Ã¶neririz.

  

**Politika AdÄ±** | API BazlÄ± HÄ±z SÄ±nÄ±rlama (API Based Throttling)  
---|---  
**Ã–zet** | Belirli zaman aralÄ±klarÄ±nda API'lere gelen istek sayÄ±sÄ±nÄ± sÄ±nÄ±rlandÄ±rarak sistem korumasÄ± saÄŸlar  
**Kategori** | Performans ve EriÅŸim KontrolÃ¼  
**DÃ¶nÃ¼ÅŸ Durum KodlarÄ±** |  | Hata Kodu | Hata MesajÄ± | HTTP Durum Kodu  
---|---|---  
ERR-075 | API Based Throttling policy failed! Error message is: {0}  | 500  
ERR-076 | Because of reaching Throttling limit for specified API Proxy, message is BLOCKED! | 403  
ERR-077 | API Based Throttling policy failed! Error message is: {0} | 500  
  
  

  * [Genel BakÄ±ÅŸ](#APIBazlÄ±Daraltma\(APIBasedThrottling\)2-GenelBakÄ±ÅŸ)
  * [Veri Depolama Stratejisi](#APIBazlÄ±Daraltma\(APIBasedThrottling\)2-VeriDepolamaStratejisi)
  * [Ã–zellikler ve Yetenekler](#APIBazlÄ±Daraltma\(APIBasedThrottling\)2-Ã–zelliklerveYetenekler)
  * [KullanÄ±m SenaryolarÄ±](#APIBazlÄ±Daraltma\(APIBasedThrottling\)2-KullanÄ±mSenaryolarÄ±)
  * [Politika Parametrelerini YapÄ±landÄ±rma](#APIBazlÄ±Daraltma\(APIBasedThrottling\)2-PolitikaParametreleriniYapÄ±landÄ±rma)
  * [PolitikayÄ± Silme](#APIBazlÄ±Daraltma\(APIBasedThrottling\)2-PolitikayÄ±Silme)
  * [PolitikayÄ± DÄ±ÅŸa/Ä°Ã§e Aktarma](#APIBazlÄ±Daraltma\(APIBasedThrottling\)2-PolitikayÄ±DÄ±ÅŸa/Ä°Ã§eAktarma)
  * [PolitikayÄ± APIâ€™ye BaÄŸlama](#APIBazlÄ±Daraltma\(APIBasedThrottling\)2-PolitikayÄ±APIâ€™yeBaÄŸlama)
  * [Ä°leri DÃ¼zey Ã–zellikler](#APIBazlÄ±Daraltma\(APIBasedThrottling\)2-Ä°leriDÃ¼zeyÃ–zellikler.1)
  * [Ä°puÃ§larÄ± ve En Ä°yi Uygulamalar](#APIBazlÄ±Daraltma\(APIBasedThrottling\)2-Ä°puÃ§larÄ±veEnÄ°yiUygulamalar)
  * [Throttling ve Kota PolitikalarÄ±nÄ± Birlikte Kullanma](#APIBazlÄ±Daraltma\(APIBasedThrottling\)2-ThrottlingveKotaPolitikalarÄ±nÄ±BirlikteKullanma)
  * [GÃ¼venlik En Ä°yi UygulamalarÄ±](#APIBazlÄ±Daraltma\(APIBasedThrottling\)2-GÃ¼venlikEnÄ°yiUygulamalarÄ±)
  * [KaÃ§Ä±nÄ±lmasÄ± Gerekenler](#APIBazlÄ±Daraltma\(APIBasedThrottling\)2-KaÃ§Ä±nÄ±lmasÄ±Gerekenler)
  * [Performans Ä°puÃ§larÄ±](#APIBazlÄ±Daraltma\(APIBasedThrottling\)2-PerformansÄ°puÃ§larÄ±)
  * [SÄ±k Sorulan Sorular (SSS)](#APIBazlÄ±Daraltma\(APIBasedThrottling\)2-SÄ±kSorulanSorular\(SSS\))

# Genel BakÄ±ÅŸ

API BazlÄ± Throttling politikasÄ±, API'lere gelen isteklerin kÄ±sa zaman aralÄ±klarÄ±nda (saniye, dakika) sÄ±nÄ±rlandÄ±rÄ±lmasÄ±nÄ± saÄŸlar. Bu politika ile:

  * Belirli bir zaman diliminde izin verilen maksimum istek sayÄ±sÄ±nÄ± kontrol edebilirsiniz.
  * FarklÄ± hedefler iÃ§in Ã¶zel hÄ±z sÄ±nÄ±rlarÄ± tanÄ±mlayabilirsiniz.
  * API'lerinizi aÅŸÄ±rÄ± yÃ¼klenmeye karÅŸÄ± koruyabilirsiniz.
  * KullanÄ±cÄ± bazÄ±nda veya deÄŸiÅŸken bazÄ±nda hÄ±z sÄ±nÄ±rlamasÄ± uygulayabilirsiniz.

  

Api BazlÄ± Kota PolitikasÄ± ile FarkÄ±:

**Throttling:** KÄ±sa sÃ¼reli (saniye/dakika) hÄ±z kontrolÃ¼ saÄŸlar, sadece cache kullanÄ±r, sistem yeniden baÅŸlatÄ±ldÄ±ÄŸÄ±nda sayaÃ§lar sÄ±fÄ±rlanÄ±r, burst protection ve DDoS korumasÄ± iÃ§in idealdir.

**Kota:** Uzun dÃ¶nemli (saat/gÃ¼n/hafta/ay) toplam kullanÄ±m limitlerini yÃ¶netir, cache + veritabanÄ± kombinasyonu kullanÄ±r, kalÄ±cÄ± veri depolama saÄŸlar, faturalama ve abonelik yÃ¶netimi iÃ§in kullanÄ±lÄ±r.

  

#### **AmacÄ± Nedir?**

  * **Sistem KorumasÄ± ve Kaynak YÃ¶netimi** : Backend sistemlerini aÅŸÄ±rÄ± yÃ¼klenmeye karÅŸÄ± korur, kaynak tÃ¼kenmesini Ã¶nler ve sunucu kapasitesinin adil kullanÄ±mÄ±nÄ± saÄŸlar.

  * **DDoS ve Bot SaldÄ±rÄ±sÄ± Ã–nleme** : DDoS saldÄ±rÄ±larÄ±, bot trafiÄŸi ve kÃ¶tÃ¼ niyetli istek bombardÄ±manÄ±na karÅŸÄ± sistem gÃ¼venliÄŸini saÄŸlar.

  * **Ä°ÅŸ Modeli ve SLA DesteÄŸi** : FarklÄ± kullanÄ±cÄ± segmentleri iÃ§in Ã¶zelleÅŸtirilmiÅŸ hizmet seviyeleri sunar (Free, Premium, Enterprise), servis seviyesi sÃ¶zleÅŸmelerini yerine getirir.

  * **Maliyet KontrolÃ¼ ve Performans Optimizasyonu** : Cloud servis maliyetlerini optimize eder, gereksiz API Ã§aÄŸrÄ±larÄ±nÄ± sÄ±nÄ±rlar, sonsuz dÃ¶ngÃ¼ ve yanlÄ±ÅŸ implementasyonlarÄ± erken tespit eder.

  

#### **Ã‡alÄ±ÅŸma Prensibi**

  1. **Ä°stek GeliÅŸi** : API Gateway'e gelen her HTTP/HTTPS isteÄŸi iÃ§in, istemin kaynak bilgileri (IP, kullanÄ±cÄ±, API key vb.) tespit edilir.

  2. **Politika KontrolÃ¼** : API bazlÄ± HÄ±z SÄ±nÄ±rlama politikasÄ± aktif ise, sistem aÅŸaÄŸÄ±daki sÄ±rayla kontrol yapar:

     * Politika aktif mi (active=true)?
     * Condition (koÅŸul) tanÄ±mlÄ± mÄ±? Varsa koÅŸul saÄŸlanÄ±yor mu?
     * Variable kullanÄ±lÄ±yor mu yoksa default ayarlarda mÄ±?
  3. **Throttling Key OluÅŸturma ve SayaÃ§ KontrolÃ¼** : Her istek iÃ§in benzersiz bir throttling anahtarÄ± oluÅŸturulur (format: `throttling:{policy_id}:{apply_by_value}:{window}`). Apply By parametresi varsa (IP adresi, kullanÄ±cÄ± adÄ±, API key vs.), bu deÄŸer anahtara dahil edilir. Cache'den mevcut istek sayacÄ± sorgulanÄ±r. Detail List tanÄ±mlÄ±ysa, hedef deÄŸer ile karÅŸÄ±laÅŸtÄ±rÄ±lÄ±r ve eÅŸleÅŸen kuralÄ±n limiti kullanÄ±lÄ±r, yoksa varsayÄ±lan limit uygulanÄ±r.

  4. **Karar Verme** :****

**Lim it AÅŸÄ±lmadÄ±ysa:**

     * SayaÃ§ 1 artÄ±rÄ±lÄ±r ve cache'e senkron olarak yazÄ±lÄ±r.
     * Ä°stek backend'e iletilir.
     * Rate limit statistics aktifse response header'larÄ±na kota bilgisi eklenir (X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset).

**Limit AÅŸÄ±ldÄ±ysa:**

     * HTTP 403 hatasÄ± dÃ¶nÃ¼lÃ¼r, akÄ±ÅŸ kesilir, hata hattÄ±na geÃ§er.
**Cache'e eriÅŸim hatasÄ± olursa:**
     * Cache Error Handling politikasÄ± devreye girer (ALLOW: akÄ±ÅŸ devam eder, REJECT: akÄ±ÅŸ kesilir).
  5. **Hata Ä°ÅŸleme** : Politika kuralÄ±na uymayan istekler iÃ§in Ã¶zelleÅŸtirilebilir HTTP durum kodu ve hata mesajÄ± dÃ¶ndÃ¼rÃ¼lÃ¼r.

  

# Veri Depolama Stratejisi

API BazlÄ± Throttling politikasÄ±, yÃ¼ksek performans iÃ§in sadece cache bazlÄ± depolama kullanÄ±r:

**Cache - Tek Katman:**

  * TÃ¼m throttling sayaÃ§larÄ± sadece cache'de tutulur.
  * Her API isteÄŸinde senkron olarak gÃ¼ncellenir.
  * Minimum gecikme ve maksimum performans saÄŸlar.
  * DaÄŸÄ±tÄ±k sistemlerde tÃ¼m Gateway instance'larÄ± aynÄ± sayaÃ§larÄ± paylaÅŸÄ±r.

**âš ï¸ Ã–nemli: VeritabanÄ± KullanÄ±mÄ± Yoktur**

  * Throttling politikasÄ± veritabanÄ±na yazma yapmaz.
  * Veriler geÃ§icidir ve cache'in TTL (Time-To-Live) sÃ¼resi dolduÄŸunda otomatik silinir.
  * Sistem yeniden baÅŸlatÄ±ldÄ±ÄŸÄ±nda throttling sayaÃ§larÄ± sÄ±fÄ±rlanÄ±r.
  * Bu tasarÄ±m kÄ±sa sÃ¼reli hÄ±z kontrolÃ¼ iÃ§in yeterlidir ve maksimum performans saÄŸlar.

  

# Ã–zellikler ve Yetenekler

### Temel Ã–zellikler

  * **Mesaj SayÄ±sÄ± Limiti** : Belirli bir zaman diliminde izin verilen maksimum istek sayÄ±sÄ±nÄ± belirler (minimum 1, tam sayÄ±).

  * **Esnek Zaman AralÄ±ÄŸÄ± DesteÄŸi** : Saniye ve dakika bazÄ±nda zaman periyotlarÄ± tanÄ±mlama. Periyot uzunluÄŸu Ã§arpanÄ± ile Ã¶zelleÅŸtirilebilir zaman aralÄ±klarÄ± (Ã¶rn: 3 saniye, 5 dakika).

  * **Apply By DeÄŸiÅŸkeni** : Throttling'in hangi kritere gÃ¶re uygulanacaÄŸÄ±nÄ± belirler (IP adresi, kullanÄ±cÄ± adÄ±, API Key veya seÃ§eceÄŸiniz herhangi bir header/parametre/body deÄŸeri bazlÄ±). Her deÄŸiÅŸken deÄŸeri iÃ§in ayrÄ± sayaÃ§ tutulur.

  * **Aktif/Pasif Durum KontrolÃ¼** : PolitikanÄ±n aktif veya pasif durumunu kolayca deÄŸiÅŸtirme (active/passive toggle). Pasif durumda politika uygulanmaz ancak yapÄ±landÄ±rmasÄ± kullanÄ±ma hazÄ±r ÅŸekilde bekler.

  * **KoÅŸul BazlÄ± Uygulama** : Condition ile politikanÄ±n hangi durumlarda uygulanacaÄŸÄ±nÄ± belirleme (Ã¶rn: sadece belirli endpoint'lere veya header deÄŸerlerine gÃ¶re).

### Ä°leri DÃ¼zey Ã–zellikler

  * **Hedef BazlÄ± FarklÄ± Limitler (Detail List)** : Belirli kurallara gÃ¶re belirli limitler belirtmek (kullanÄ±cÄ± seviyeleri, IP aralÄ±klarÄ±, API key'ler). Regex desteÄŸi ile esnek hedef eÅŸleÅŸmeleri. Her hedef iÃ§in ayrÄ± mesaj sayÄ±sÄ± ve zaman aralÄ±ÄŸÄ±.

  * **Interval Window Type DesteÄŸi** : SLIDING (Kayan Pencere) - Her istek zamanÄ±ndan ileriye doÄŸru pencere uygulanÄ±r, daha hassas kontrol saÄŸlanÄ±r. FIXED (Sabit Pencere) - Belirli zaman dilimlerinde sayaÃ§ sÄ±fÄ±rlanÄ±r, daha performanslÄ±.

  * **Cache BaÄŸlantÄ± ve Hata YÃ¶netimi** : Cache sunucusu baÄŸlantÄ± timeout sÃ¼resi ayarlama (saniye). Cache eriÅŸilemezse davranÄ±ÅŸ belirleme: ALLOW (kullanÄ±labilirlik Ã¶ncelikli) veya REJECT (gÃ¼venlik Ã¶ncelikli).

  * **Rate Limit Ä°statistikleri** : Response header'larÄ±nda kalan kota bilgisi gÃ¶sterme (X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset). Client'larÄ±n kendi kotalarÄ±nÄ± takip edebilmesi.

  * **DaÄŸÄ±tÄ±k Mimari DesteÄŸi** : Merkezi cache kullanÄ±mÄ± sayesinde birden fazla Gateway instance'Ä± aynÄ± sayaÃ§larÄ± paylaÅŸÄ±r. KullanÄ±cÄ± hangi gateway'e baÄŸlanÄ±rsa baÄŸlansÄ±n tutarlÄ± hÄ±z sÄ±nÄ±rlama saÄŸlanÄ±r.

  * **Export/Import Ã–zelliÄŸi** : Politika yapÄ±landÄ±rmasÄ±nÄ± ZIP dosyasÄ± olarak export etme. FarklÄ± ortamlara (Development, Test, Production) veya API Proxy'lere import etme. 

  * **Policy Group ve Proxy Group DesteÄŸi** : Birden fazla politikayÄ± Policy Group iÃ§inde yÃ¶netme ve Proxy Group iÃ§erisinde politika kullanÄ±mÄ±yla merkezi gÃ¼ncelleme ve deploy iÅŸlemleri.

  * **Deploy ve Versiyonlama** : API Proxy'lerdeki Deployment History Ã¶zelliÄŸi ile versiyonlama yapÄ±lmasÄ±. Global politika veya Policy Group kullanÄ±mÄ± ile hangi API Proxy'lerde kullanÄ±ldÄ±ÄŸÄ±nÄ± gÃ¶rme.

# KullanÄ±m SenaryolarÄ±

API BazlÄ± Throttling politikasÄ±, API trafiÄŸini yÃ¶netmek ve sistem kaynaklarÄ±nÄ± korumak amacÄ±yla istek oranlarÄ±nÄ± kontrol eder. AÅŸaÄŸÄ±daki Ã¶rnek senaryolar, farklÄ± kullanÄ±m durumlarÄ±nda bu politikanÄ±n nasÄ±l uygulanabileceÄŸini gÃ¶stermektedir. Her senaryo, belirli bir ihtiyaca karÅŸÄ±lÄ±k gelen konfigÃ¼rasyon Ã¶rneÄŸiyle birlikte aÃ§Ä±klanmÄ±ÅŸtÄ±r.

  

**Senaryo** | **Durum** | Ã‡Ã¶zÃ¼m (Politika UygulamasÄ±) | **Beklenen DavranÄ±ÅŸ / SonuÃ§**  
---|---|---|---  
**Basit API Rate Limiting** | TÃ¼m kullanÄ±cÄ±lar iÃ§in genel bir hÄ±z sÄ±nÄ±rÄ± koymak istiyorsunuz | Mesaj SayÄ±sÄ±: 100, Periyot: 1 Dakika, Apply By: BoÅŸ, Interval Window Type: SLIDING | Her kullanÄ±cÄ± dakikada maksimum 100 istek atabilir. TÃ¼m istekler aynÄ± limiti paylaÅŸÄ±r  
**IP BazlÄ± HÄ±z SÄ±nÄ±rlama** | Her IP adresi iÃ§in ayrÄ± limit belirlemek istiyorsunuz | Apply By: `{client.ip}`, Mesaj SayÄ±sÄ±: 50, Periyot: 1 Dakika | Her IP adresi dakikada maksimum 50 istek atabilir. IP'ler birbirinden baÄŸÄ±msÄ±z sayÄ±lÄ±r  
**KullanÄ±cÄ± Seviyesi BazlÄ± FarklÄ± Limitler** | Premium kullanÄ±cÄ±lara daha yÃ¼ksek limit vermek istiyorsunuz | Apply By: `{user.tier}`, Mesaj SayÄ±sÄ±: 100, Detail List: premium00/dk, enterpriseP00/dk, free0/dk | Free: 100 istek/dk, Premium: 1000 istek/dk, Enterprise: 5000 istek/dk  
**Belirli Endpoint'ler Ä°Ã§in FarklÄ± Limitler** | Resource-intensive endpoint'lere daha dÃ¼ÅŸÃ¼k limit uygulamak istiyorsunuz | Politika 1: Mesaj: 10/dk, KoÅŸul: `{request.path} CONTAINS '/api/heavy'`. Politika 2: Mesaj: 100/dk, KoÅŸul: diÄŸerleri | `/api/heavy/*` endpoint'leri 10 istek/dk, diÄŸer endpoint'ler 100 istek/dk sÄ±nÄ±rÄ±na sahip olur  
**API Key BazlÄ± Throttling** | Her API key iÃ§in ayrÄ± kota tanÄ±mlamak ve mÃ¼ÅŸterilerin kotalarÄ±nÄ± takip etmelerini saÄŸlamak istiyorsunuz | Apply By: `{request.header.X-API-Key}`, Mesaj SayÄ±sÄ±: 500, Periyot: 1 Saat, Show Rate Limit Statistics: Aktif | Her API key saatte 500 istek atabilir. Response header'larÄ±nda kalan kota gÃ¶sterilir (X-RateLimit-Remaining)  
**Ä°Ã§ ve DÄ±ÅŸ KullanÄ±cÄ±lar Ä°Ã§in FarklÄ± Limitler** | Ä°Ã§ aÄŸdan gelen isteklere daha yÃ¼ksek limit vermek istiyorsunuz | Apply By: `{client.ip}`, Mesaj: 100/dk (varsayÄ±lan), Detail List: 192.168._000/dk (regex), 10._ 000/dk (regex) | Ä°Ã§ aÄŸ (192.168._, 10._) 10000 istek/dk, dÄ±ÅŸ kullanÄ±cÄ±lar 100 istek/dk sÄ±nÄ±rÄ±na sahip olur  
**Burst Protection ile GÃ¼nlÃ¼k Kota** | Burst Protection ile GÃ¼nlÃ¼k Kota Hem anlÄ±k burst korumasÄ± hem de gÃ¼nlÃ¼k toplam kota uygulamak istiyorsunuz  | Throttling PolitikasÄ±: 10 istek/saniye (SLIDING)  
Kota PolitikasÄ±: 10000 istek/gÃ¼n (FIXED) | Throttling anlÄ±k hÄ±z kontrolÃ¼ saÄŸlar (10 istek/sn), Kota gÃ¼nlÃ¼k toplam kullanÄ±mÄ± kontrol eder (10K istek/gÃ¼n). Ä°ki politika birlikte kullanÄ±larak hem kÄ±sa vadeli hem uzun vadeli koruma saÄŸlanÄ±r  
  
  
# Politika Parametrelerini YapÄ±landÄ±rma

Bu bÃ¶lÃ¼mde, yeni bir **API Based Throttling** politikasÄ±nÄ±n oluÅŸturulmasÄ± iÃ§in kullanÄ±lan alanlar ve yapÄ±landÄ±rma adÄ±mlarÄ± yer almaktadÄ±r. Politika parametreleri, isteklerin hangi Ã¶lÃ§Ã¼te gÃ¶re sÄ±nÄ±rlandÄ±rÄ±lacaÄŸÄ±nÄ±, zaman penceresinin nasÄ±l hesaplanacaÄŸÄ±nÄ± ve limit aÅŸÄ±mlarÄ±nda sistemin nasÄ±l davranacaÄŸÄ±nÄ± belirler.

  

#### **Yeni API bazlÄ± HÄ±z SÄ±nÄ±rlama PolitikasÄ± OluÅŸturma**

![](e53fc875e3fa5768e7e80c7ae66c796e)

  

### YapÄ±landÄ±rma AdÄ±mlarÄ±

**AdÄ±m** | **AÃ§Ä±klama / Ä°ÅŸlem**  
---|---  
**AdÄ±m 1: OluÅŸturma SayfasÄ±na Gitme** | \- Sol menÃ¼den **Development â†’ Global Settings â†’ Global Policies â†’ API Based Throttling** bÃ¶lÃ¼mÃ¼ne gidin.\- SaÄŸ Ã¼stteki **[+ Create]** butonuna tÄ±klayÄ±n.  
**AdÄ±m 2: Temel Bilgileri Girme** | **Policy Status (Politika Durumu):** Aktif/Pasif durumu gÃ¶sterir. Yeni politikalar varsayÄ±lan olarak aktiftir.  
  
**Name (Ä°sim) Zorunlu:** Ã–rnek: `Production_API_Throttling`\- Benzersiz isim girin, boÅŸlukla baÅŸlamaz.\- Sistem otomatik kontrol eder. YeÅŸil tik: kullanÄ±labilir. KÄ±rmÄ±zÄ± Ã§arpÄ±: mevcut isim.  
  
**Description (AÃ§Ä±klama):** Ã–rnek: "CanlÄ± ortam iÃ§in dakikada 100 istek limiti"\- Maks. 1000 karakter.\- PolitikanÄ±n amacÄ±nÄ± aÃ§Ä±klayÄ±n.  
**AdÄ±m 3: Throttling AyarlarÄ±nÄ± YapÄ±landÄ±rma** | **Rate Limit Ä°statistiklerini Response Header'da GÃ¶ster:** VarsayÄ±lan deÄŸeri kapalÄ±.\- Toggle switch ile aktif/pasif yapÄ±n.\- Aktif olduÄŸunda response header'larÄ±nda `X-RateLimit-Limit`, `X-RateLimit-Remaining`, `X-RateLimit-Reset` bilgileri gÃ¶sterilir.  
  
**Uygulama DeÄŸiÅŸkeni (Apply By):** VarsayÄ±lan deÄŸeri kapalÄ±.\- "DeÄŸiÅŸken SeÃ§" butonuna tÄ±klayÄ±n.\- Throttling'in hangi kritere gÃ¶re uygulanacaÄŸÄ±nÄ± belirler.\- DeÄŸiÅŸken seÃ§ilmezse tÃ¼m istekler aynÄ± limiti paylaÅŸÄ±r.  
  
**Mesaj SayÄ±sÄ±:** Zorunlu, Minimum: 1.\- Ä°zin verilen maksimum istek sayÄ±sÄ±.\- Ã–rnek: 100  
  
**Periyot UzunluÄŸu:** Zorunlu, Minimum: 1.\- Zaman aralÄ±ÄŸÄ±nÄ±n Ã§arpanÄ±.\- Ã–rnek: 1  
  
**Zaman Birimi:** Zorunlu

  * Saniye, Dakika
  * Ã–rnek: Dakika

âš ï¸ Not: Throttling politikasÄ± kÄ±sa sÃ¼reli hÄ±z kontrolÃ¼ iÃ§indir. Saat veya gÃ¼n bazlÄ± uzun dÃ¶nem kontrolÃ¼ iÃ§in API Based Quota politikasÄ±nÄ± kullanÄ±n.  
**AdÄ±m 4: Hedef BazlÄ± Kurallar TanÄ±mlama (Ä°steÄŸe BaÄŸlÄ±)** | **Hedef BazlÄ± Throttling KurallarÄ± (Target-Specific Throttling Rules):** \- FarklÄ± hedef deÄŸerler iÃ§in Ã¶zel limitler tanÄ±mlayÄ±n. **[+]** butonuna tÄ±klayarak yeni satÄ±r ekleyin.  
  
**Tablo KolonlarÄ±****:** - **Hedef DeÄŸer:** Zorunlu. DeÄŸiÅŸken deÄŸeri (Ã¶rn: "premium", "192.168.1.*", "test_user") - **Regex Ä°fade:** Hedef deÄŸerin regex olup olmadÄ±ÄŸÄ± \- Toggle (Boolean)- **Mesaj SayÄ±sÄ±:** Bu hedef iÃ§in istek limiti \- Number (Min: 1)- **Periyot UzunluÄŸu:** Zaman aralÄ±ÄŸÄ± Ã§arpanÄ± \- Number (Min: 1)- **Zaman Birimi:** Saniye/Dakika/Saat/GÃ¼n \- Dropdown  
  
**KullanÄ±m SenaryolarÄ±:** \- Premium kullanÄ±cÄ±lara daha yÃ¼ksek limit: `premium` â†’ 1000 istek/dakika\- Belirli IP aralÄ±klarÄ±: `192.168.*` (regex aktif) â†’ 500 istek/dakika\- Test kullanÄ±cÄ±larÄ±: `test_user` â†’ 10000 istek/dakika  
  
**Silme:** SatÄ±r sonundaki Ã§Ã¶p kutusu ikonu ile satÄ±rÄ± kaldÄ±rÄ±n.  
**AdÄ±m 5: GeliÅŸmiÅŸ AyarlarÄ± YapÄ±landÄ±rma** | **Interval Window Type:** Zorunlu- **SLIDING (Kayan Pencere):** Her istek zamanÄ±ndan geriye doÄŸru pencere uygulanÄ±r, daha hassas kontrol. Ã–rnek: Son 60 saniyedeki istek sayÄ±sÄ±.- **FIXED (Sabit Pencere):** Belirli zaman dilimlerinde sÄ±fÄ±rlanÄ±r, daha performanslÄ±. Ã–rnek: Her dakika baÅŸÄ±nda sayaÃ§ sÄ±fÄ±rlanÄ±r.  
  
**Cache BaÄŸlantÄ± Timeout:** Zorunlu, Minimum: 1 saniye\- Cache sunucusuna baÄŸlantÄ± timeout sÃ¼resi.\- Timeout durumunda hata yÃ¶netimi politikasÄ± devreye girer.\- Ã–nerilen: 1-3 saniye  
  
**Cache Hata YÃ¶netimi Tipi:** Zorunlu- **REJECT:** Ä°steÄŸi reddet, hata dÃ¶n. GÃ¼venlik Ã¶ncelikli yaklaÅŸÄ±m. SLA garantisi Ã¶nemli sistemler iÃ§in.- **ALLOW:** Ä°steÄŸe izin ver, devam et. KullanÄ±labilirlik Ã¶ncelikli yaklaÅŸÄ±m. Cache geÃ§ici arÄ±zalarda servis devam eder.  
**Interval Window Hesaplama (FIXED):****Bir dakikadan kÄ±sa aralÄ±klar iÃ§in (Ã¶rn: 10 saniye):**

  * FormÃ¼l: `Pencere BaÅŸlangÄ±cÄ± = Dakika BaÅŸlangÄ±cÄ± + (GeÃ§en Periyotlar Ã— Periyot SÃ¼resi)`
  * Ã–rnek: Saat 14:37:25'teki bir istek, 10 saniyelik periyotta â†’ 14:37:20-14:37:29 penceresine aittir

**Bir dakika veya daha uzun aralÄ±klar iÃ§in (Ã¶rn: 5 dakika):**

  * FormÃ¼l: `Pencere BaÅŸlangÄ±cÄ± = Saat BaÅŸlangÄ±cÄ± + (GeÃ§en Periyotlar Ã— Periyot SÃ¼resi)`
  * Ã–rnek: Saat 14:37'deki bir istek, 5 dakikalÄ±k periyotta â†’ 14:35:00-14:39:59 penceresine aittir

**Performans Ã–nerisi:** YÃ¼ksek trafikli API'lerde FIXED window tercih edilmelidir. SLIDING window her istek iÃ§in cache okumasÄ± yaparken, FIXED sadece sayaÃ§ artÄ±rÄ±mÄ± yapar ve daha performanslÄ±dÄ±r. ```  
**AdÄ±m 6: KoÅŸul TanÄ±mlama (Ä°steÄŸe BaÄŸlÄ±)** | - **Condition** sekmesine geÃ§in.\- KoÅŸullar, politikanÄ±n hangi durumda aktif olacaÄŸÄ±nÄ± belirler.  
  
**Ã–rnekler:** \- Ortam bazlÄ±: `Header = X-Environment, Operator = Equals, Value = production`\- API Key bazlÄ±: `Header = X-API-Key, Starts With = PROD-`\- Endpoint bazlÄ±: `Path = /api/admin/*` KoÅŸul tanÄ±mlamazsa politika her zaman aktifDetaylar iÃ§in bakabilirsiniz: [KoÅŸullar (Conditions)](/pages/viewpage.action?pageId3224533#PolitikaNedir?-Conditions)  
**AdÄ±m 7: Hata MesajÄ± Ã–zelleÅŸtirme (Ä°steÄŸe BaÄŸlÄ±)** |  - **Error Message Customization** sekmesine gidin. \- EriÅŸim reddedildiÄŸinde dÃ¶necek mesajÄ± Ã¶zelleÅŸtirin. **VarsayÄ±lan:**
    
    
    { 
    "statusCode": 429,
     "message": "Too Many Requests" 
    }

**Ã–zel:**
    
    
    { 
    "statusCode": 429,
     "errorCode": "THROTTLE_LIMIT_EXCEEDED",
     "message": "DakikalÄ±k istek limitiniz aÅŸÄ±ldÄ±. LÃ¼tfen 60 saniye sonra tekrar deneyin." 
    }  
  
**AdÄ±m 8: Kaydetme** | \- SaÄŸ Ã¼stteki **[Save]** butonuna tÄ±klayÄ±n.  
  
**Kontrol Listesi:** Benzersiz isim. Zorunlu alanlar dolu. En az bir mesaj sayÄ±sÄ± ve zaman aralÄ±ÄŸÄ± tanÄ±mlÄ±  
  
**SonuÃ§:** \- Politika listeye eklenir.\- API'lere baÄŸlanabilir.\- Global politikaysa otomatik uygulanÄ±r.  
  
  

# PolitikayÄ± Silme

Bu politikanÄ±n silme adÄ±mlarÄ± ve kullanÄ±mdayken uygulanacak iÅŸlemler, _Politika Nedir?_ sayfasÄ±ndaki **PolitikayÄ± Silme** bÃ¶lÃ¼mÃ¼nde detaylÄ± olarak aÃ§Ä±klanmÄ±ÅŸtÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me bakabilirsiniz: [PolitikayÄ± Silme](/pages/viewpage.action?pageId3224533#PolitikaNedir?-PolitikaSilme)

# PolitikayÄ± DÄ±ÅŸa/Ä°Ã§e Aktarma

Bu politikanÄ±n dÄ±ÅŸa aktarma (Export) adÄ±mlarÄ± ve kullanÄ±labilecek seÃ§enekler, _Politika Nedir?_ sayfasÄ±ndaki **DÄ±ÅŸa Aktarma Ä°ÅŸlemi** bÃ¶lÃ¼mÃ¼nde aÃ§Ä±klanmaktadÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me bakabilirsiniz: [PolitikayÄ± DÄ±ÅŸa/Ä°Ã§e Aktarma](/pages/viewpage.action?pageId3224533#PolitikaNedir?-PolitikaExport)

  

# PolitikayÄ± APIâ€™ye BaÄŸlama

Bu politikanÄ±n APIâ€™lere nasÄ±l baÄŸlanacaÄŸÄ±na iliÅŸkin sÃ¼reÃ§, _Politika Nedir?_ sayfasÄ±ndaki **PolitikayÄ± APIâ€™ye BaÄŸlama** bÃ¶lÃ¼mÃ¼nde detaylandÄ±rÄ±lmÄ±ÅŸtÄ±r. AyrÄ±ntÄ±lÄ± bilgi iÃ§in ilgili bÃ¶lÃ¼me gÃ¶z atabilirsiniz: [PolitikayÄ± APIâ€™ye BaÄŸlama](/pages/viewpage.action?pageId3224533#PolitikaNedir?-PolitikaApÄ±BaÄŸlama)

  

# Ä°leri DÃ¼zey Ã–zellikler

Bu bÃ¶lÃ¼mde kullanÄ±cÄ±, **API Based Throttling** politikasÄ±nÄ±n geliÅŸmiÅŸ yÃ¶netim kabiliyetlerini kullanarak daha esnek, dinamik ve kurumsal seviyede kontrol elde eder.  
DeÄŸiÅŸken yÃ¶netimi, hedefe Ã¶zel kural tanÄ±mlarÄ±, koÅŸullu aktivasyon ve Ã¶zelleÅŸtirilebilir hata mesajlarÄ± gibi ileri dÃ¼zey Ã¶zellikler sayesinde politikalar dinamik ÅŸekilde uyarlanabilir, farklÄ± senaryolara gÃ¶re optimize edilebilir.

**Ã–zellik** | AÃ§Ä±klama ve AdÄ±mlar  
---|---  
**Regex ile Hedef EÅŸleÅŸtirme** | 

  * Detail List tablosunda yeni bir satÄ±r ekleyin.
  * Hedef DeÄŸer alanÄ±na regex pattern girin (Ã¶rn: `premium_user_.*`).
  * Regex Ä°fade toggle'Ä±nÄ± aktif edin ve Ã¶zel limit tanÄ±mlayÄ±n. Bu sayede birden fazla hedef tek bir kuralla eÅŸleÅŸtirilir.

  
**Ã‡oklu Politika Kombinasyonu** | 

  * Bir API'ye birden fazla throttling politikasÄ± atayÄ±n (Ã¶rn: burst protection + gÃ¼nlÃ¼k kota).
  * Ä°lk politika: 10 istek/saniye (SLIDING) - burst korumasÄ±.
  * Ä°kinci politika: 10000 istek/gÃ¼n (FIXED) - gÃ¼nlÃ¼k kota. TÃ¼m politikalar sÄ±rayla Ã§alÄ±ÅŸÄ±r ve birbirini tamamlar.

  
**Dinamik Variable KullanÄ±mÄ±** | 

  * Custom header, JWT claim veya context deÄŸiÅŸkeni oluÅŸturun.
  * Apply By alanÄ±nda bu deÄŸiÅŸkeni seÃ§in (Ã¶rn: `{jwt.user_tier}`).
  * Her deÄŸiÅŸken deÄŸeri iÃ§in ayrÄ± sayaÃ§ tutulur, dinamik segmentasyon saÄŸlanÄ±r.

  
  
# Ä°puÃ§larÄ± ve En Ä°yi Uygulamalar

### YapÄ±lmasÄ± Gerekenler ve En Ä°yi Uygulamalar

**Kategori** | **AÃ§Ä±klama / Ã–neriler**  
---|---  
**AnlamlÄ± Ä°simler KullanÄ±n** | **KÃ¶tÃ¼:** `policy1`, `rate-limit`, `throttle-test`  
**Ä°yi:** `Standard_User_Throttle`, `Premium_Service_Limit`, `Emergency_Burst_Control`  
**Limit DeÄŸerleri Belirleme** | **KÃ¶tÃ¼:** Ã‡ok dÃ¼ÅŸÃ¼k limitler (5 istek/dakika) - normal kullanÄ±cÄ±larÄ± engeller  
**Ä°yi:** GerÃ§ek kullanÄ±m istatistiklerine gÃ¶re limitler (100 istek/dakika)  
**En Ä°yi:** A/B testi ile optimal limitleri belirleyin, kullanÄ±cÄ± geri bildirimlerini deÄŸerlendirin ve metriklerle sÃ¼rekli optimize edin  
**Window Type SeÃ§imi** | **KÃ¶tÃ¼:** Her senaryo iÃ§in FIXED kullanmak - hassas kontrol eksikliÄŸi  
**Ä°yi:** Performans kritikse FIXED, hassas kontrol gerekiyorsa SLIDING  
**En Ä°yi:** Kritik endpoint'ler iÃ§in SLIDING, yÃ¼ksek trafikli endpoint'ler iÃ§in FIXED kullanarak dengeli yaklaÅŸÄ±m benimseyin  
**Apply By DeÄŸiÅŸkeni** | **KÃ¶tÃ¼:** DeÄŸiÅŸken kullanmamak - tÃ¼m kullanÄ±cÄ±lar aynÄ± limiti paylaÅŸÄ±r  
**Ä°yi:** IP bazlÄ± throttling - her IP iÃ§in ayrÄ± sayaÃ§  
**En Ä°yi:** KullanÄ±cÄ± ID veya API Key ile kiÅŸiselleÅŸtirilmiÅŸ limitler, adil kaynak daÄŸÄ±lÄ±mÄ± ve abuse Ã¶nleme  
**Detail List KullanÄ±mÄ±** | **KÃ¶tÃ¼:** TÃ¼m kullanÄ±cÄ±lar iÃ§in tek limit - esneklik yok  
**Ä°yi:** Premium/Free ayrÄ±mÄ± - iki seviye  
**En Ä°yi:** Ã‡ok katmanlÄ± tier sistemi (Free/Basic/Premium/Enterprise), regex ile dinamik gruplar, Ã¶zel mÃ¼ÅŸteriler iÃ§in custom limitler  
**Rate Limit Header'larÄ±** | **KÃ¶tÃ¼:** Header'larÄ± gÃ¶stermemek - kullanÄ±cÄ±lar limit aÅŸÄ±mÄ±nÄ± beklenmedik ÅŸekilde yaÅŸar  
**Ä°yi:** Sadece external API'lerde header gÃ¶stermek  
**En Ä°yi:** TÃ¼m throttling'lerde header aktif, dokÃ¼mantasyonda client'lara nasÄ±l kullanacaklarÄ± anlatÄ±lmÄ±ÅŸ, retry-after bilgisi saÄŸlanmÄ±ÅŸ  
  
# Throttling ve Kota PolitikalarÄ±nÄ± Birlikte Kullanma

Throttling ve Kota politikalarÄ± birbirini tamamlar ve birlikte kullanÄ±ldÄ±ÄŸÄ±nda en etkili koruma saÄŸlar:

**Throttling (KÄ±sa Vadeli Koruma):**

  * Saniye/dakika bazlÄ± hÄ±z kontrolÃ¼
  * Burst saldÄ±rÄ±larÄ±nÄ± anÄ±nda engeller
  * Sadece cache kullanÄ±r, maksimum performans
  * Sistem yeniden baÅŸlatmalarÄ±ndan etkilenir

**Kota (Uzun Vadeli Koruma):**

  * Saat/gÃ¼n/ay bazlÄ± toplam kullanÄ±m kontrolÃ¼
  * Faturalama ve abonelik yÃ¶netimi
  * Cache + veritabanÄ±, kalÄ±cÄ± veri
  * Raporlama ve analitik desteÄŸi

**Ã–rnek Kombinasyon:**
    
    
    API'ye Throttling: 100 istek/dakika (burst protection)
    API'ye Kota: 100.000 istek/ay (subscription limit)
    

Bu sayede hem anlÄ±k saldÄ±rÄ±lara hem de uzun vadeli kÃ¶tÃ¼ye kullanÄ±ma karÅŸÄ± korunmuÅŸ olursunuz.

# GÃ¼venlik En Ä°yi UygulamalarÄ±

GÃ¼venlik AlanÄ± | AÃ§Ä±klama / UyarÄ±lar  
---|---  
**DDoS KorumasÄ±** | DDoS KorumasÄ± Burst protection iÃ§in saniye bazÄ±nda dÃ¼ÅŸÃ¼k limitler tanÄ±mlayÄ±n (Ã¶rn: 10 istek/saniye). Uzun sÃ¼reli saldÄ±rÄ±larÄ± engellemek iÃ§in Throttling ile birlikte Kota politikasÄ± kullanÄ±n (Ã¶rn: Throttling: 10/sn + Kota: 10000/gÃ¼n). ÅÃ¼pheli IP'ler iÃ§in daha sÄ±kÄ± limitler uygulayÄ±n. Sadece Throttling kullanÄ±yorsanÄ±z sistem yeniden baÅŸlatÄ±ldÄ±ÄŸÄ±nda sayaÃ§lar sÄ±fÄ±rlanacaÄŸÄ±nÄ± unutmayÄ±n.  
**API Key SÄ±zÄ±ntÄ±sÄ± KorumasÄ±** | API Key bazlÄ± throttling ile sÄ±zan key'lerin zararÄ±nÄ± sÄ±nÄ±rlayÄ±n. Anormal kullanÄ±m paternlerini tespit etmek iÃ§in monitoring kurun. Key rotation stratejisi uygulayÄ±n.  
**Cache GÃ¼venliÄŸi** | Cache sunucusunu gÃ¼venli aÄŸda tutun. Cache hatalarÄ±nda varsayÄ±lan olarak REJECT tercih edin (gÃ¼venlik Ã¶ncelikli).  
**KoÅŸullu SÄ±nÄ±rlama** | Production ortamÄ±nda daha sÄ±kÄ± limitler uygulayÄ±n. Test/Dev ortamlarÄ± iÃ§in ayrÄ± politikalar oluÅŸturun. Internal IP'ler iÃ§in gevÅŸek, external IP'ler iÃ§in sÄ±kÄ± limitler.  
**Monitoring ve Alerting** | 429 hata oranlarÄ±nÄ± sÃ¼rekli izleyin. Limit aÅŸÄ±mlarÄ±nda alert oluÅŸturun. Anormal trafik artÄ±ÅŸlarÄ±nÄ± tespit edecek metrikler kurun.  
  
# KaÃ§Ä±nÄ±lmasÄ± Gerekenler

Kategori | AÃ§Ä±klama / UyarÄ±lar  
---|---  
**Ã‡ok YÃ¼ksek Cache Timeout** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Cache sunucusu yanÄ±t vermediÄŸinde uzun sÃ¼re beklenir, request latency artar, kullanÄ±cÄ± deneyimi bozulur  
**Alternatif:** 1-3 saniye arasÄ± timeout kullanÄ±n, cache saÄŸlÄ±ÄŸÄ±nÄ± monitoring ile takip edin, failover mekanizmasÄ± kurun  
**ALLOW Modu Her Yerde KullanÄ±mÄ±** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Cache hatalarÄ±nda throttling devre dÄ±ÅŸÄ± kalÄ±r, gÃ¼venlik aÃ§Ä±ÄŸÄ± oluÅŸur, abuse saldÄ±rÄ±larÄ± baÅŸarÄ±lÄ± olabilir  
**Alternatif:** Kritik sistemlerde REJECT kullanÄ±n, cache high availability saÄŸlayÄ±n, sadece read-only API'lerde ALLOW tercih edin  
**DeÄŸiÅŸken Kullanmadan Hedef KurallarÄ±** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Apply By olmadan Detail List Ã§alÄ±ÅŸmaz, hedef eÅŸleÅŸtirmesi yapÄ±lamaz, kurallar etkisiz kalÄ±r  
**Alternatif:** Mutlaka Apply By deÄŸiÅŸkeni tanÄ±mlayÄ±n, deÄŸiÅŸken deÄŸerleri ile hedef deÄŸerleri eÅŸleÅŸtirin  
**Ã‡ok KarmaÅŸÄ±k Regex KullanÄ±mÄ±** | **Neden kaÃ§Ä±nÄ±lmalÄ±:** Her istek iÃ§in regex iÅŸlenir, performans dÃ¼ÅŸer, CPU kullanÄ±mÄ± artar, latency eklenir  
**Alternatif:** Basit string eÅŸleÅŸtirme kullanÄ±n, gerekmedikÃ§e regex aktif etmeyin, prefix/suffix kontrolÃ¼ tercih edin  
  
  

# Performans Ä°puÃ§larÄ±

**Kriter** | **Ã–neri / Etki**  
---|---  
**FIXED Window Tercihi** | **Ã–neri:** YÃ¼ksek trafikli API'lerde FIXED window kullanÄ±n, saniye bazÄ±nda SLIDING yerine dakika bazÄ±nda FIXED tercih edin  
**Etki:** Cache okumasÄ± azalÄ±r, iÅŸlem maliyeti dÃ¼ÅŸer, throughput %20-40 artar  
**Cache Key Expiration** | **Ã–neri:** Throttling iÃ§in cache key'lerde uygun TTL deÄŸerleri kullanÄ±n, periyot sÃ¼resi + 10 saniye buffer ekleyin (Ã¶rn: 60 saniye periyot iÃ§in 70 saniye TTL)  
**Etki:** Gereksiz veri birikmesi Ã¶nlenir, cache memory kullanÄ±mÄ± optimize edilir, eski pencere verilerinin manuel silinmesine gerek kalmaz  
**Detail List Optimizasyonu** | **Ã–neri:** Detail List'i 10-15 kuralla sÄ±nÄ±rlayÄ±n, sÄ±k kullanÄ±lan kurallarÄ± Ã¼stte tutun, gereksiz regex kullanmayÄ±n  
**Etki:** Kural eÅŸleÅŸtirme hÄ±zlanÄ±r, CPU kullanÄ±mÄ± azalÄ±r, ortalama latency <5ms kalÄ±r  
**Cache Key Stratejisi** | **Ã–neri:** KÄ±sa ve unique key formatlarÄ± kullanÄ±n, gereksiz bilgi key'e eklemeyin, key expiration sÃ¼releri optimize edin  
**Etki:** Cache memory kullanÄ±mÄ± azalÄ±r, key lookup hÄ±zlanÄ±r, performansÄ± artar  
**Monitoring ve Tuning** | **Ã–neri:** Throttling metriklerini toplayÄ±n (hit rate, rejection rate), latency daÄŸÄ±lÄ±mÄ±nÄ± analiz edin, cache performansÄ±nÄ± izleyin  
**Etki:** Bottleneck'ler erken tespit edilir, optimal konfigÃ¼rasyon belirlenir, proaktif optimizasyon yapÄ±lÄ±r  
  
  

# SÄ±k Sorulan Sorular (SSS)

**Kategori** | **Soru (S)** | **Cevap (C)**  
---|---|---  
**Genel** | Bir API'ye birden fazla throttling politikasÄ± eklenebilir mi? | Evet, birden fazla throttling politikasÄ± eklenebilir. Ã–rneÄŸin bir politika saniye bazÄ±nda burst protection saÄŸlarken (10 istek/saniye), diÄŸeri gÃ¼nlÃ¼k toplam kotayÄ± kontrol edebilir (10000 istek/gÃ¼n). TÃ¼m politikalar sÄ±rayla Ã§alÄ±ÅŸÄ±r ve herhangi biri limit aÅŸÄ±mÄ± tespit ederse istek reddedilir.  
**Genel** | Detail List olmadan Apply By kullanÄ±labilir mi? | Evet, Apply By deÄŸiÅŸkeni tek baÅŸÄ±na kullanÄ±labilir. Bu durumda her deÄŸiÅŸken deÄŸeri iÃ§in politikada tanÄ±mlanan varsayÄ±lan limit uygulanÄ±r. Detail List, belirli deÄŸiÅŸken deÄŸerleri iÃ§in farklÄ± limitler tanÄ±mlamak istediÄŸinizde kullanÄ±lÄ±r.  
**Teknik** | Cache sunucusu neden gereklidir? | Throttling sayaÃ§larÄ±nÄ± tutmak iÃ§in merkezi bir cache sunucusu kullanÄ±lÄ±r. DaÄŸÄ±tÄ±k sistemlerde (birden fazla Gateway instance) tutarlÄ± sayÄ±m iÃ§in gereklidir. Cache olmadan her Gateway kendi sayacÄ±nÄ± tutar ve limitler doÄŸru uygulanamaz.  
**Teknik** | Throttling verileri neden veritabanÄ±na yazÄ±lmÄ±yor? | Throttling kÄ±sa sÃ¼reli (saniye/dakika) hÄ±z kontrolÃ¼ saÄŸlar ve yÃ¼ksek performans gerektirir. VeritabanÄ± yazma iÅŸlemi her istek iÃ§in 5-20ms gecikme ekler, bu da throttling'in amacÄ±nÄ± bozar. Cache-only yaklaÅŸÄ±m <1ms gecikme ile Ã§alÄ±ÅŸÄ±r. Veriler geÃ§icidir ve sistem yeniden baÅŸlatÄ±ldÄ±ÄŸÄ±nda sÄ±fÄ±rlanÄ±r, bu kÄ±sa vadeli limitler iÃ§in kabul edilebilir bir durumdur. Uzun vadeli kullanÄ±m takibi gerekiyorsa API Based Quota politikasÄ± kullanÄ±lmalÄ±dÄ±r.  
**Teknik** | Sistem yeniden baÅŸlatÄ±ldÄ±ÄŸÄ±nda throttling sayaÃ§larÄ± ne olur? | Throttling sadece cache kullandÄ±ÄŸÄ± iÃ§in sistem yeniden baÅŸlatÄ±ldÄ±ÄŸÄ±nda veya cache temizlendiÄŸinde tÃ¼m sayaÃ§lar sÄ±fÄ±rlanÄ±r. Bu tasarÄ±m gereÄŸidir ve kÄ±sa sÃ¼reli hÄ±z kontrolÃ¼ iÃ§in sorun oluÅŸturmaz. Pencere sÃ¼releri zaten kÄ±sa (saniye/dakika) olduÄŸu iÃ§in kullanÄ±cÄ± deneyimini etkilemez. KalÄ±cÄ± sayaÃ§ tutulmasÄ± gerekiyorsa Kota politikasÄ± kullanÄ±lmalÄ±dÄ±r.  
**KullanÄ±m** | Saat veya gÃ¼n bazlÄ± throttling yapabilir miyim? | Teknik olarak mÃ¼mkÃ¼n olsa da Ã¶nerilmez. Throttling kÄ±sa sÃ¼reli hÄ±z kontrolÃ¼ (saniye/dakika) iÃ§in tasarlanmÄ±ÅŸtÄ±r. Saat veya gÃ¼n bazlÄ± kontrole ihtiyacÄ±nÄ±z varsa API Based Quota politikasÄ±nÄ± kullanÄ±n. Quota politikasÄ± veritabanÄ± desteÄŸi ile uzun vadeli limitleri daha gÃ¼venilir ÅŸekilde yÃ¶netir ve faturalama iÃ§in gerekli kalÄ±cÄ±lÄ±ÄŸÄ± saÄŸlar.  
**Teknik** | SLIDING ve FIXED window arasÄ±ndaki fark nedir? | SLIDING: Her istek anÄ±nda geriye doÄŸru pencere aÃ§ar (son 60 saniye). Daha hassas kontrol ama daha fazla cache okumasÄ±. FIXED: Belirli zaman dilimlerinde sÄ±fÄ±rlanÄ±r (her dakika baÅŸÄ±). Daha performanslÄ± ama burst'lere daha az duyarlÄ±.  
**KullanÄ±m** | Rate limit header'larÄ±nÄ± gÃ¶stermezsem ne olur? | Politika normal Ã§alÄ±ÅŸÄ±r ancak client'lar kalan kotalarÄ±nÄ± gÃ¶remez. Bu durumda kullanÄ±cÄ±lar limit aÅŸÄ±mÄ±nÄ± sadece 429 hatasÄ± aldÄ±klarÄ±nda anlar. Header'lar aktifse client'lar proaktif olarak request rate'lerini ayarlayabilir ve daha iyi kullanÄ±cÄ± deneyimi saÄŸlanÄ±r.  
**KullanÄ±m** | KullanÄ±cÄ± limitini aÅŸtÄ±ÄŸÄ±nda ne olur? | HTTP 429 (Too Many Requests) hatasÄ± dÃ¶nÃ¼lÃ¼r ve istek iÅŸlenmez. Rate limit header'larÄ± aktifse response'da X-RateLimit-Reset bilgisi ile ne zaman tekrar deneyebileceÄŸi belirtilir. Ã–zel hata mesajÄ± tanÄ±mlanmÄ±ÅŸsa o mesaj gÃ¶sterilir.  
  
  

**Bu dokÃ¼man Apinizer Ã¼rÃ¼n dokÃ¼mantasyonunun bir parÃ§asÄ±dÄ±r. Â©ï¸ 2025 Apinizer - TÃ¼m haklarÄ± saklÄ±dÄ±r.**

Bu dokÃ¼mantasyon, Apinizer yazÄ±lÄ±mÄ±nÄ± kullanan kiÅŸi ve kuruluÅŸlar tarafÄ±ndan dahili kullanÄ±m amacÄ±yla serbestÃ§e kullanÄ±labilir, kopyalanabilir ve daÄŸÄ±tÄ±labilir.

  


---

Bu sayfa iÃ§in iÃ§erik hazÄ±rlanÄ±yor.