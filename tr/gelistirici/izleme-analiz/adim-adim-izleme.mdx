---
title: "Adım Adım İzleme Sekmesi"
description: "API Proxy'nin mesaj trafiğini izleyerek hata tespiti yapmak için kullanılır. Trace modunu aktifleştirerek mesaj akışını adım adım takip edebilirsiniz, politika işletim sonuçlarını görüntüleyebilirsiniz ve sorunların kaynağını tespit edebilirsiniz."
---

Bu sekme, API Proxy'nin mesaj trafiğini izleyerek hata tespiti yapmak için kullanılır. Bunun için öncelikle Adım Adım İzleme modunun aktifleştirilmesi gerekir.

## Adım Adım İzleme Modunu Aktifleştirme

Bir API Proxy'nin izleme moduna geçirilebilmesi için öncelikle bu API Proxy'nin en az bir Ortam'a yüklenmiş olması gerekir.

API Proxy'nin yüklenmiş olduğu Ortam'lardan hangisi için izleme modu açılacaksa o Ortam seçilerek **Başlat (Start)** tuşuna tıklanır.

Ortam seçiminin yanındaki filtre alanından Custom Query ile sadece istenen veriler üzerinden özel olarak trace edilebilir.

<img src="/images/gelistirici/izleme-analiz/trace-start.png" alt="Adım Adım İzleme Modunu Aktifleştirme" width="600" style={{maxWidth: '600px', width: '100%', height: 'auto'}} />

Adım Adım İzleme modu aktifleştirildiğinde API Proxy için saklanan log kayıtlarının içeriği, detaylı incelemeye izin verecek şekilde genişletilir ve mod durdurulana ya da 5 dakika sonunda platform tarafından otomatik olarak kapatılana kadar bu şekilde saklanmaya devam eder.

Görüntülenmekte olan log kayıtları, kullanıcının bulduğu herhangi bir kaydı kaybetmemesi amacıyla otomatik olarak güncellenmez. Bunun için **Logları Yenile (Refresh Logs)** tuşu kullanılır.

**Örnek log kayıtlarını içeren görsele aşağıda yer verilmiştir:**

<img src="/images/gelistirici/izleme-analiz/trace-logs.png" alt="Log Kayıtları" width="1000" style={{maxWidth: '1000px', width: '100%', height: 'auto'}} />

Tabloda görünen log kayıtlarının her birisi, istemciden bu API Proxy'e gelen bir istek ve o isteğe verilen yanıt mesajına aittir. Bu mesaja ilişkin aşağıdaki işlemler yapılabilir.

<Info>
API Çağrı Politikasının log kaydı ayrı olarak tutulduğu için aynı isteğe ait çift log gözükmektedir.
</Info>

## Detaylı Görüntüleme (Detailed View)

İncelenmek istenen istek mesajına ait satırın sonundaki menüde ilki, o mesajın log kayıtlarını görüntüleyen bir pencere açar.

<img src="/images/gelistirici/izleme-analiz/trace-detailed-view-button.png" alt="Detaylı Görüntüleme" width="600" style={{maxWidth: '600px', width: '100%', height: 'auto'}} />

Açılan pencerede, logların mesaj akışına ilişkin bölümlere ayrıldığı görülür. İncelenmek istenen bölümün (örneğin **İstemciden API Proxy'e Gelen İstek (Request From Client)** bölümünün) adına tıklandığında bu alana ilişkin log kayıtları görüntülenir. Varsayılan olarak **Genel Bakış (Overview)** bölümü açıktır.

<img src="/images/gelistirici/izleme-analiz/trace-detailed-view-dialog.png" alt="Detaylı Görüntüleme Dialog" width="800" style={{maxWidth: '800px', width: '100%', height: 'auto'}} />

## JSON Formatında Görüntüleme (JSON View)

Detaylı Görüntüleme tuşunun yanındaki tuş log kayıtlarını JSON formatında görüntüler.

<img src="/images/gelistirici/izleme-analiz/trace-json-view.png" alt="JSON Görüntüleme" width="600" style={{maxWidth: '600px', width: '100%', height: 'auto'}} />

**JSON Görüntüleme tıklandığında açılan dialogu içeren görsele aşağıda yer verilmiştir:**

<img src="/images/gelistirici/izleme-analiz/trace-json-dialog.png" alt="JSON Dialog" width="800" style={{maxWidth: '800px', width: '100%', height: 'auto'}} />

## İndirme (Download)

Log kayıtlarını indirerek daha detaylı incelemek de mümkündür. Apinizer, adım adım izleme modundayken, API Proxy için işletilen bütün politikalar için de ayrıntılı bir şekilde log kayıtları oluşturur. İndirme seçeneği, istek bazlı olarak oluşturulan bütün log kayıtlarını topluca indirme olanağı sağlar.

<img src="/images/gelistirici/izleme-analiz/trace-download.png" alt="İndirme" width="600" style={{maxWidth: '600px', width: '100%', height: 'auto'}} />

## Hızlı Test (Quick Test)

İlgili satırdaki Hızlı Test (Quick Test) tuşu, gönderilen isteğin yeniden gönderilerek anında test edilebileceği şekilde biçimlendirilmiş olarak [Test Konsolunu](/tr/gelistirici/test-debug-araclari/test-console) açar.

<img src="/images/gelistirici/izleme-analiz/trace-quick-test.png" alt="Hızlı Test" width="600" style={{maxWidth: '600px', width: '100%', height: 'auto'}} />

## Seçme (Select)

Apinizer'in adım adım izleme modundayken API Proxy için işletilen politikalara ilişkin tuttuğu ayrıntılı log kayıtlarını görüntülemek için **Seç (Select)** tuşuna tıklanır.

<img src="/images/gelistirici/izleme-analiz/trace-select.png" alt="Seçme" width="600" style={{maxWidth: '600px', width: '100%', height: 'auto'}} />

Bu tuşa tıklandığında log kayıtlarını içeren tablonun altında yeni bir bölüm açılır. Bu bölüm, seçilen mesaj için işletilen, varsa API Proxy Gruptan da gelen bütün politikaları işletildikleri sırada gösterir.

Her bir politikanın ve Backend API'nin yanında o adımın başarılı işletilip işletilemediğini gösterecek şekilde küçük ikonlar bulunur. Böylece eğer mesaj akışı beklendiği gibi gerçekleşmemişse sorunun hangi politikadan kaynaklandığı görünür.

Aşağıdaki ilk görselde bütün politikaların başarıyla işletildiği, ikinci görselde ise Kimlik Doğrulama (Authentication) politikasının başarısız olduğu durumlar örneklenmiştir.

<img src="/images/gelistirici/izleme-analiz/trace-successful-flow.png" alt="Başarılı Politika Akışı" width="800" style={{maxWidth: '800px', width: '100%', height: 'auto'}} />

Dikkat edilirse, ikinci görselde Kimlik Doğrulama politikasından sonra işletilmesi gereken üçüncü politika görünmemektedir. Çünkü Kimlik Doğrulamanın başarısız olması ile birlikte mesaj akışı kesilmiş, istemciye hata yanıtı döndürülmüştür.

<img src="/images/gelistirici/izleme-analiz/trace-failed-flow.png" alt="Başarısız Politika Akışı" width="800" style={{maxWidth: '800px', width: '100%', height: 'auto'}} />

### Detaylı Log Kayıtları

Bir log kaydının seçilmesi ile görüntülenen bölüm, bu haliyle mesaj akışının başarılı olup olmadığını, başarısız olmuşsa bunun hangi noktada gerçekleştiğinin bir özetini sunar. Ancak erişilebilecek detaylar bununla sınırlı değildir.

Aşağıdaki görselde detaylı log kayıtlarını görüntülemek üzere tıklanabilecek bağlantılar numaralandırılmıştır.

<img src="/images/gelistirici/izleme-analiz/trace-detailed-logs.png" alt="Detaylı Log Kayıtları" width="800" style={{maxWidth: '800px', width: '100%', height: 'auto'}} />

#### İstemci Log Kayıtları - 1 Numaralı Bağlantı

**İstemci (Client)** yazısı bir bağlantıdır. Buna tıklandığı zaman istemciden giden ve istemciye dönen mesajların detaylarının görüntülenebileceği bir pencere açılır.

İlk sekmede istemcinin gönderdiği HTTP mesajının detayları görünür.

<img src="/images/gelistirici/izleme-analiz/trace-client-logs-1.png" alt="İstemci Log Kayıtları 1" width="800" style={{maxWidth: '800px', width: '100%', height: 'auto'}} />

İkinci sekmede istemciden API Proxy'e gönderilen mesajın detayları bulunur.

<img src="/images/gelistirici/izleme-analiz/trace-client-logs-2.png" alt="İstemci Log Kayıtları 2" width="800" style={{maxWidth: '800px', width: '100%', height: 'auto'}} />

Üçüncü sekmede ise API Proxy'den istemciye döndürülen mesajın detayları vardır.

<img src="/images/gelistirici/izleme-analiz/trace-client-logs-3.png" alt="İstemci Log Kayıtları 3" width="800" style={{maxWidth: '800px', width: '100%', height: 'auto'}} />

#### Politikaların Log Kayıtları - 2 ve 4 Numaralı Bölgelerdeki Bağlantılar

2 numaralı bölgedeki bir politika ikonunun üzerine ya da 4 numaralı bölgede ilgili politikanın yanındaki ok işaretine tıklandığında, o politikaya gelen ve o politikadan giden mesaj içeriğini gösteren log kayıtları açılır.

<img src="/images/gelistirici/izleme-analiz/trace-policy-logs.png" alt="Politika Log Kayıtları" width="800" style={{maxWidth: '800px', width: '100%', height: 'auto'}} />

#### Backend API Log Kayıtları - 3 Numaralı Bölgedeki Bağlantı

**API** yazısı bir bağlantıdır. Buna tıklandığı zaman Backend API'ye gelen ve Backend API'den dönen mesajların detaylarının görüntülenebileceği bir pencere açılır.

İlk sekmede API Proxy'den gelen mesajın detayları görünür.

<img src="/images/gelistirici/izleme-analiz/trace-backend-logs-1.png" alt="Backend API Log Kayıtları 1" width="800" style={{maxWidth: '800px', width: '100%', height: 'auto'}} />

İkinci sekmede Backend API'ye yapılan yönlendirme detayları görünür (yönlendirme seçenekleri için [Yönlendirme Sekmesi - HTTP (Routing Tab)](/tr/gelistirici/yonlendirme/http-yonlendirme) bölümüne bakabilirsiniz).

<img src="/images/gelistirici/izleme-analiz/trace-backend-logs-2.png" alt="Backend API Log Kayıtları 2" width="800" style={{maxWidth: '800px', width: '100%', height: 'auto'}} />

Üçüncü sekmede ise Backend API'den API Proxy'e döndürülen mesajın detayları vardır.

<img src="/images/gelistirici/izleme-analiz/trace-backend-logs-3.png" alt="Backend API Log Kayıtları 3" width="800" style={{maxWidth: '800px', width: '100%', height: 'auto'}} />
