---
title: "API Trafiği"
description: "API Proxy'ye gelen ve giden tüm istek ve yanıt mesajlarını görüntüleyebilir ve analiz edebilirsiniz. Mesaj trafiğini filtreleyebilirsiniz, log kayıtlarını inceleyebilirsiniz, JSON formatında görüntüleyebilirsiniz ve hızlı test yapabilirsiniz."
---

<Frame>
  <img 
    src="../../images/gelistirici/izleme-analiz/api-traffic-tab.png" 
    alt="API Trafiği Sekmesi"
    width="1000"
    height="auto"
    style={{ borderRadius: '0.5rem' }}
  />
</Frame>

Tabloda görünen log kayıtlarının her birisi, istemciden bu API Proxy'e gelen bir istek ve o isteğe verilen yanıt mesajına aittir.

<Info>
Websocket ve gRPC istekleri Apinizer'a gelen ve Apinizer'dan çıkan veriler şeklinde tutulmakta olduğundan bu tip API Proxylerde sadece 2 bölge vardır.
</Info>

## Özellikler

<CardGroup cols={3}>
  <Card title="Filtreleme" icon="filter">
    Basit ve gelişmiş filtreleme seçenekleri ile trafik analizi yapabilir
  </Card>
  <Card title="Detaylı Görüntüleme" icon="eye">
    İstek ve yanıt mesajlarını detaylı olarak inceleyebilir
  </Card>
  <Card title="JSON Formatı" icon="code">
    Log kayıtlarını JSON formatında görüntüleyebilir
  </Card>
  <Card title="Hızlı Test" icon="bolt">
    İstekleri yeniden göndererek anında test edebilir
  </Card>
  <Card title="İndirme" icon="download">
    Log kayıtlarını indirerek detaylı analiz yapabilir
  </Card>
  <Card title="Yönlendirme Takibi" icon="route">
    İsteklerin hangi adreslere yönlendirildiğini takip edebilir
  </Card>
</CardGroup>

## Yönlendirme Adresi (Routing Address)

Bu alan ilgili API Proxy'nin yönlendirildiği adres bilgisini tutar. Bu alan eğer boş ise, isteğin backend adresine gitmediğini ifade eder.

Backend olarak Apinizer'ı kullanan servisler `apinizer://` ön eki ile gösterilir, tam olarak `apinizer://<BİLEŞEN_ADI>/<METOT_ADI>` yazacaktır.

Bu durum routing adresi kapatılarak backend'e gitmesi engellenen proxy'ler için de geçerlidir.

<Accordion title="Yönlendirme Adresi Değerleri">

| Routing Adresi | Koşul |
|----------------|-------|
| `apinizer://mirror.routing/<METOT_ADI>` | API Proxy tipi Swagger 2.x, OpenAPI/Swagger 3.0.x, WSDL, Reverse Proxy veya No-Spec API ve **Routing seçeneği kapatılmış ve Mirror seçeneği açık** |
| `apinizer://specresponse.routing/<METOT_ADI>` | API Proxy tipi Swagger 2.x, OpenAPI/Swagger 3.0.x, WSDL, Reverse Proxy veya No-Spec API ve **Routing seçeneği kapatılmış ve Mirror seçeneği kapalı** |
| `apinizer://db2api.apicreator/<METOT_ADI>` | API Proxy tipi DB2API |
| `apinizer://script2api.apicreator/<METOT_ADI>` | API Proxy tipi Script2API |
| `apinizer://mockapi.apicreator/<METOT_ADI>` | API Proxy tipi Mock API |
| `apinizer://connector/<METOT_ADI>` | API Proxy tipi Connector |
| `apinizer://maintenance` | API Proxy bakım modunda |
| `apinizer://cache/<METOT_ADI>` | Herhangi bir API Proxy tipinde ve **Cache'leme açık** |
| `http://<BACKEND_ADRESİ>/<METOT_ADI>` veya `https://<BACKEND_ADRESİ>/<METOT_ADI>` | API Proxy tipi Swagger 2.x, OpenAPI/Swagger 3.0.x, WSDL, Reverse Proxy, No-Spec API veya KPS ve **Routing seçeneği açık** |
| `apinizer://spec` | API Proxy tipi Swagger 2.x, OpenAPI/Swagger 3.0.x, WSDL, Reverse Proxy, No-Spec API ve spec adresine erişim |
| *(Boş)* | İsteğin çeşitli sebeplerle backend adresine gidememesi |

</Accordion>

## Filtreleme

**Daha fazla filtre (More options)** seçeneği ile 2 farklı tipte arama yapılabilir:

<Tabs>
  <Tab title="Basit Filtreleme">
    Kayıtlara, belirli bir zaman aralığı, uç nokta (endpoint) ya da HTTP metodu gibi belirlenmiş kriterler ile filtre uygulanabilir.
    
    <Frame>
      <img 
        src="../../images/gelistirici/izleme-analiz/api-traffic-basic-filter.png" 
        alt="Basit Filtreleme"
        width="1000"
        height="auto"
        style={{ borderRadius: '0.5rem' }}
      />
    </Frame>
  </Tab>
  <Tab title="Gelişmiş Filtreleme">
    Kullanıcı iç içe filtreler oluşturabilir.
    
    <Frame>
      <img 
        src="../../images/gelistirici/izleme-analiz/api-traffic-advanced-filter.png" 
        alt="Gelişmiş Filtreleme"
        width="1000"
        height="auto"
        style={{ borderRadius: '0.5rem' }}
      />
    </Frame>
    
    Gelişmiş sekmesinde aşağıdaki seçenekler ile arama yapılabilir:
    
    <Frame>
      <img 
        src="../../images/gelistirici/izleme-analiz/api-traffic-advanced-filter-options.png" 
        alt="Gelişmiş Filtreleme Seçenekleri"
        width="1000"
        height="auto"
        style={{ borderRadius: '0.5rem' }}
      />
    </Frame>
  </Tab>
</Tabs>

## Mesaj İşlemleri

<Tabs>
  <Tab title="Detaylı Görüntüleme">
    İncelenmek istenen istek mesajına ait satırın sonundaki menüde ilki, o mesajın log kayıtlarını görüntüleyen bir pencere açar.

    <Frame>
      <img 
        src="../../images/gelistirici/izleme-analiz/api-traffic-detailed-view.png" 
        alt="Detaylı Görüntüleme"
        width="1000"
        height="auto"
        style={{ borderRadius: '0.5rem' }}
      />
    </Frame>

    Açılan pencerede, logların mesaj akışına ilişkin bölümlere ayrıldığı görülür. İncelenmek istenen bölümün (örneğin **İstemciden API Proxy'e Gelen İstek**) adına tıklandığında bu alana ilişkin log kayıtları görüntülenir. Varsayılan olarak **Genel Bakış** bölümü açıktır.

    <Frame>
      <img 
        src="../../images/gelistirici/izleme-analiz/api-traffic-detailed-view-dialog.png" 
        alt="Detaylı Görüntüleme Dialog"
        width="1000"
        height="auto"
        style={{ borderRadius: '0.5rem' }}
      />
    </Frame>
  </Tab>

  <Tab title="JSON Formatında Görüntüleme">
    Detaylı Görüntüleme tuşunun altındaki tuş log kayıtlarını JSON formatında görüntüler.

    <Frame>
      <img 
        src="../../images/gelistirici/izleme-analiz/api-traffic-json-view.png" 
        alt="JSON Görüntüleme"
        width="1000"
        height="auto"
        style={{ borderRadius: '0.5rem' }}
      />
    </Frame>

    <Frame>
      <img 
        src="../../images/gelistirici/izleme-analiz/api-traffic-json-dialog.png" 
        alt="JSON Dialog"
        width="1000"
        height="auto"
        style={{ borderRadius: '0.5rem' }}
      />
    </Frame>

    <Info>
    Bu alandaki anahtar değerler okumayı kolaylaştırmak amacıyla log dosyasında olduğu şekilde değil okunabilir şekilde yazılmıştır.

    Örneğin "apiProxyId" değeri log kaydında "api" şeklinde tutulmaktadır, log kaydı indirildiğinde esas tutulan log kaydı görüntülenecektir.

    Gerçek log dosyası formatı için [Elasticsearch Manuel ILM Politikası ve Template Oluşturma](/tr/operasyon/elasticsearch-manuel-ilm-politikasi-ve-template-olusturma) sayfasındaki "Template Veri Yapısı Tablosu"nu inceleyebilirsiniz.
    </Info>
  </Tab>

  <Tab title="İndirme">
    Log kayıtlarını indirerek daha detaylı incelemek de mümkündür.

    <Frame>
      <img 
        src="../../images/gelistirici/izleme-analiz/api-traffic-download.png" 
        alt="İndirme"
        width="1000"
        height="auto"
        style={{ borderRadius: '0.5rem' }}
      />
    </Frame>
  </Tab>

  <Tab title="Hızlı Test">
    İlgili satırdaki Hızlı Test tuşu, gönderilen isteğin yeniden gönderilerek anında test edilebileceği şekilde biçimlendirilmiş olarak [Test Konsolunu](/tr/gelistirici/test-debug-araclari/test-console) açar.

    <Frame>
      <img 
        src="../../images/gelistirici/izleme-analiz/api-traffic-quick-test.png" 
        alt="Hızlı Test"
        width="1000"
        height="auto"
        style={{ borderRadius: '0.5rem' }}
      />
    </Frame>

    <Warning>
    **Hızlı Test** tuşunun görünmesi için genel ayarlarda etkinleştirilmelidir.
    </Warning>
  </Tab>
</Tabs>
