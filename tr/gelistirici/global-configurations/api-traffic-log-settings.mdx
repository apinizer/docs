---
title: 'API Trafiği Log Ayarları'
description: "API Proxy'e gelen ve giden mesaj bilgilerinin Elasticsearch veri tabanında loglanması için ayarlar."
---

Apinizer üzerinde tanımlanan API Proxy'e gelen ve giden mesaj bilgileri mesaj ögelerine (başlık, parametre, gövde) göre Elasticsearch veri tabanında loglanmaktadır.

Bu log kaydı tutulan bölgeler;

- İstemciden API Proxy'e Gelen İstek *(Request from Client)*
- API Proxy'den Backend API'ye İletilen İstek *(Request to Target)*
- Backend API'den API Proxy'e Verilen Yanıt *(Response from Target)*
- API Proxy'den İstemciye Gönderilen Yanıt *(Response to Client)*

Varsayılan olarak, projenin tüm mesaj bölgelerindeki alanların loglanması aktiftir.

Loglanan alanlar ihtiyaca göre veya log sunucusunun kaynak tüketimi baz alınarak kısıtlanabilir.

Bu ekran üzerinden proje ve ortam *(environment)* bazlı log ayarı yönetilmektedir.

<Info>
Üretim ortamı için aşağıdaki ortamlara ait ögeleri loglama işleminin devre dışı bırakılması tavsiye edilmektedir.

- API Proxy'den Backend API'ye *(Request to Target)*
- Backend API'den API Proxy'e *(Response from Target)*

Eğer bir API Proxy üretim ortamında çalışıyorsa, API Proxy'deki tüm poliçelerin ayarları ve testleri tamamlandığı ve artık geliştirme yapılmayacağı anlamına gelmektedir.

Bu yüzden veri tabanında verilerinin aşırı büyümemesi bu iki bölgedeki başlık, parametre ve gövde verilerinin yazılmaması tavsiye edilir.
</Info>

<Warning>
Tüm loglama alanları kapalı olsa dahi istekte de bir hata oluştuysa log alanlarının tümü hatanın tespit edilebilmesi için kayıt edilir. Bu özellik genel ayarlarda açılıp, kapatılabilir.
</Warning>

<Warning>
Formdata istekleri hiçbir şekilde loglanmamaktadır.
</Warning>

<Warning>
Websocket ve gRPC istekleri Apinizer'a gelen ve Apinizer'dan çıkan veriler şeklinde tutulmakta olduğundan bu tip API Proxylerde sadece 2 bölge vardır.
</Warning>

**Log ayarlarını içeren görsele aşağıda yer verilmiştir:**

<img src="/images/gelistirici/global-configurations/api-traffic-log-settings-1.png" alt="API Trafiği Log Ayarları" width="1000" />

Bu ekranda API Proxy bazlı log ayarları yapılabilmektedir.

Ayrıca eğer entegrasyon ayarları yapılmış ise hangi API Proxy'lerin trafik kayıtlarının bu entegrasyon hedeflerine gönderilebileceği de ayarlanabilir.

**Düzenle butonuna tıklandığında açılan dialog ekranını içeren görsele aşağıda yer verilmiştir:**

<img src="/images/gelistirici/global-configurations/api-traffic-log-settings-2.png" alt="API Trafiği Log Ayarları Dialog" width="600" />

Log ayarları için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan | Açıklama |
|------|----------|
| **Başlık** <em>(Header)</em> | Mesajdaki başlık bilgilerinin loglanıp loglanmadığını yönetir. |
| **Gövde** <em>(Body)</em> | Mesajdaki gövde bilgilerinin loglanıp loglanmadığını yönetir. |
| **Parametre** <em>(Parameter)</em> | Mesajdaki parametre bilgilerinin loglanıp loglanmadığını yönetir. |

## İlgili Sayfalar

- [Analitik (Admin)](/tr/admin/analytics-reports/organization-wide-analytics)
- [API Trafiği Log Kaydı Veri Yapısı](/tr/admin/analytics-reports/api-traffic-log-data-structure)
- [Gönderilmemiş API Trafik Loglarını Taşı](/tr/admin/analytics-reports/migrate-unsent-api-traffic-logs)
