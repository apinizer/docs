---
title: "API Proxy Group Oluşturma"
description: "Birden fazla API Proxy'yi grup halinde yönetebilir, grup seviyesi ayarları yapılandırabilir ve gruba gelen isteklerde politikalar uygulayabilirsiniz. Grup üyelerini yönetebilir ve ACL yapılandırması yapabilirsiniz. Bir API Proxy birden fazla gruba dahil olabilir."
---

## API Proxy Group Nedir?

API Proxy Group (API Proxy Grubu), ilgili API Proxy'lerin mantıksal olarak gruplandırılmasını sağlar. Grup seviyesinde tanımlanan politikalar, gruba gelen isteklerde çalıştırılır ve gruptaki API Proxy'lere iletilir.

<Warning>
**Önemli Değişiklikler:**
- **2024.05.1 yamasıyla**: Bir API Proxy artık birden fazla API Proxy Grubu'na dahil olabilir.
- **2024.05.1 yamasıyla**: Ortak politikalara ihtiyaç duyan API Proxy'lerin API Proxy Grubu ile yönetilme özelliği kaldırılmıştır. Ortak politika kullanma ihtiyacı varsa, [Global Politikalar](/tr/gelistirici/global-configurations/global-policies) veya [Politika Grupları](/tr/gelistirici/global-configurations/policy-groups) kullanılabilir.
- **2024.05.3 yamasıyla**: API Proxy Grubu'ndaki politikaların doğrudan API Proxy'lere uygulanması özelliği kaldırılmıştır. Politikalar yalnızca gruba gelen isteklerde uygulanır.
</Warning>

<CardGroup cols={2}>
  <Card title="Merkezi Yönetim" icon="gear">
    Grup seviyesinde ayarlar tanımlanır. Birden fazla API Proxy tek bir grup altında yönetilir.
  </Card>
  <Card title="Grup Politikaları" icon="shield">
    Grup politikaları gruba gelen isteklerde çalıştırılır ve gruptaki API Proxy'lere iletilir.
  </Card>
  <Card title="Çoklu Grup Üyeliği" icon="users">
    Bir API Proxy birden fazla gruba dahil olabilir. Toplu işlemler yapılabilir.
  </Card>
  <Card title="ACL Yönetimi" icon="lock">
    Grup bazlı erişim kontrolü sağlanır. Grup ACL'leri grup üyelerine miras alınır.
  </Card>
</CardGroup>

Daha fazla bilgi için [API Proxy Group](/tr/apinizer-anlama/temel-kavramlar/api-proxy-group) kavram sayfasına bakabilirsiniz.

## API Proxy Group Oluşturma

### Adım 1: API Proxy Group Sayfasına Gidin

1. Sol taraftaki ana menüde **Geliştirme → API Proxy Grupları (Development → API Proxy Groups)** ögesini seçin.
2. Açılan arayüzde sağ üstteki **+Create** butonuna tıklayın.

### Adım 2: Grup Bilgilerini Girin

Yeni bir API Proxy Group oluştururken aşağıdaki bilgileri girmeniz gerekir:

* **Ad** : Grubu tanımlayan benzersiz isim (zorunlu)
* **Açıklama** : Grubun amacı ve kapsamı (opsiyonel)

<Info>
En az "Ad" bilgisi girilerek API Proxy Grubu oluşturulabilir.
</Info>

### Adım 3: API Proxy'leri Seçin

Gruba dahil edilecek API Proxy'leri seçin:

1. **API Proxy'leri Seç** butonuna tıklayın.
2. Açılan listeden gruba dahil etmek istediğiniz API Proxy'leri seçin.
3. **Seç** butonuna tıklayın.

<Info>
**Grup Üyeliği:**
- API Proxy'ler grup oluşturulduktan sonra da eklenebilir veya çıkarılabilir.
- Grup üyeliği dinamik olarak yönetilebilir.
- 2024.05.1 yamasıyla birlikte, bir API Proxy birden fazla API Proxy Grubu'na dahil olabilir.
</Info>

### Adım 4: Grup Ayarlarını Yapılandırın

Grup seviyesi ayarları yapılandırın:

<AccordionGroup>
  <Accordion title="CORS Ayarları">
    Cross-Origin Resource Sharing ayarları. Grup üyeleri için ortak CORS politikaları tanımlayın.
  </Accordion>
  
  <Accordion title="Hata Mesajı Şablonları">
    Grup üyeleri için ortak hata mesajı şablonları tanımlayın. Bu, tutarlı hata yanıtları sağlar.
  </Accordion>
  
  <Accordion title="Timeout Ayarları">
    Grup üyeleri için ortak timeout ayarları. Backend istekleri için timeout değerleri.
  </Accordion>
  
  <Accordion title="Retry Ayarları">
    Grup üyeleri için ortak retry ayarları. Başarısız istekler için tekrar deneme stratejisi.
  </Accordion>
</AccordionGroup>

### Adım 5: Grup Politikalarını Yapılandırın

Grup seviyesi politikaları yapılandırın:

<Warning>
**Önemli:** 2024.05.3 yamasıyla birlikte, API Proxy Grubu'ndaki politikaların doğrudan API Proxy'lere uygulanması özelliği kaldırılmıştır. Grup politikaları yalnızca gruba gelen isteklerde uygulanır ve gruptaki API Proxy'lere iletilir.

Ortak politika kullanma ihtiyacı varsa, [Global Politikalar](/tr/gelistirici/global-configurations/global-policies) veya [Politika Grupları](/tr/gelistirici/global-configurations/policy-groups) kullanılmalıdır.
</Warning>

#### Pre-flow Policies

İstek öncesi grup politikaları. Bu politikalar, gruba gelen isteklerde çalıştırılır.

**Örnek Politikalar:**
* Authentication (OAuth2, JWT, Basic)
* Authorization (IP Whitelist/Blacklist)
* Rate Limiting
* Schema Validation

#### Post-flow Policies

Yanıt sonrası grup politikaları. Bu politikalar, gruba gelen isteklerin yanıtlarında çalıştırılır.

**Örnek Politikalar:**
* Response Transformation
* Data Masking
* Response Logging
* Header Manipulation

#### Fault Handler Policies

Hata yakalama grup politikaları. Bu politikalar, gruba gelen isteklerde hata oluştuğunda çalışır.

**Örnek Politikalar:**
* Error Transformation
* Error Logging
* Retry Logic
* Fallback Response

### Adım 6: Grup ACL Yapılandırması

Grup bazlı erişim kontrolü yapılandırın:

1. **ACL Yönetimi** sekmesine gidin.
2. Grup için erişim izinlerini tanımlayın.
3. Kullanıcılar, roller veya organizasyonlar için izinler belirleyin.

<Info>
  **ACL Mirası** Grup ACL'leri grup üyelerine miras alınır. Ancak, API Proxy seviyesi ACL grup ACL'den önceliklidir.
</Info>

### Adım 7: Grup'u Kaydedin

1. Tüm bilgileri kontrol edin.
2. Sağ üstteki **Kaydet** <em>(Save)</em> butonuna tıklayın.

**API Proxy Group başarıyla oluşturuldu!**

## Genel Bakış Sekmesi

API Proxy Grubu'nun **Genel Bakış** <em>(Overview)</em> sekmesinde aşağıdaki bilgiler bulunur:

* **Grup Bilgileri**: Grubun adı, açıklaması
* **Yönlendirme Bilgileri**: İstemcilerin erişim için kullanacağı yönlendirme bilgileri
* **Anahtarlar**: Yetkilendirme için gerekli anahtarların yönetildiği bölüm
* **Dağıtım Durumu**: Grubun dağıtım durumu bilgileri
* **Ortam Bilgileri**: Grubun yüklü olduğu ortamlar

## Grup Yönetimi

### Grup Üyelerini Yönetme

Grup üyelerini eklemek veya çıkarmak:

1. API Proxy Group düzenleme sayfasına gidin.
2. **Üyeler (Members)** sekmesine gidin.
3. **Üye Ekle (Add Member)** butonuna tıklayın.
4. Eklemek istediğiniz API Proxy'leri seçin.
5. **Ekle** butonuna tıklayın.

Üye çıkarmak için:
1. Üye listesinden çıkarmak istediğiniz API Proxy'yi seçin.
2. **Üye Çıkar (Remove Member)** butonuna tıklayın.
3. İşlemi onaylayın.

### Grup Politikalarını Güncelleme

Grup politikalarını güncellemek:

1. API Proxy Group düzenleme sayfasına gidin.
2. **Design** sekmesine gidin.
3. Politikaları düzenleyin veya yeni politikalar ekleyin.
4. **Kaydet** butonuna tıklayın.

<Warning>
**Politika Güncelleme Etkisi:** 
- Grup politikaları güncellendiğinde, değişiklikler gruba gelen isteklerde uygulanır.
- 2024.05.3 yamasıyla birlikte, grup politikaları doğrudan API Proxy'lere uygulanmaz. Politikalar yalnızca gruba gelen isteklerde çalıştırılır.
- Ortak politika ihtiyacı için [Global Politikalar](/tr/gelistirici/global-configurations/global-policies) veya [Politika Grupları](/tr/gelistirici/global-configurations/policy-groups) kullanılmalıdır.
</Warning>

### Grup Ayarlarını Güncelleme

Grup ayarlarını güncellemek:

1. API Proxy Group düzenleme sayfasına gidin.
2. **Settings** sekmesine gidin.
3. Ayarları düzenleyin.
4. **Kaydet** butonuna tıklayın.

## Grup Kullanım Senaryoları

### Senaryo 1: Mikroservis Grupları

İlgili mikroservislerin bir grup altında yönetilmesi:

**Örnek:**
* Product Service Group
  * Product API v1
  * Product API v2
  * Product Search API
* Order Service Group
  * Order API
  * Payment API
  * Shipping API

### Senaryo 2: Versiyon Grupları

Farklı API versiyonlarının grup halinde yönetilmesi:

**Örnek:**
* API v1 Group
  * User API v1
  * Product API v1
* API v2 Group
  * User API v2
  * Product API v2

### Senaryo 3: Müşteri Grupları

Müşteri bazlı API grupları:

**Örnek:**
* Customer A APIs
  * Customer A Specific APIs
* Customer B APIs
  * Customer B Specific APIs

### Senaryo 4: Fonksiyonel Gruplar

Fonksiyonel olarak ilgili API'lerin gruplandırılması:

**Örnek:**
* Authentication APIs
  * OAuth2 API
  * JWT API
* Reporting APIs
  * Report Generation API
  * Report Export API

## Grup Politikaları ve Öncelik

<Warning>
**Önemli:** 2024.05.3 yamasıyla birlikte, API Proxy Grubu'ndaki politikaların doğrudan API Proxy'lere uygulanması özelliği kaldırılmıştır. Grup politikaları yalnızca gruba gelen isteklerde uygulanır ve gruptaki API Proxy'lere iletilir.
</Warning>

Grup politikaları, gruba gelen isteklerde çalıştırılır:

### Politika Çalışma Sırası (Gruba Gelen İstekler İçin)

```
1. Global Policies (Pre-flow)
2. Group Policies (Pre-flow) - Gruba gelen isteklerde
3. API Proxy Policies (Pre-flow)
4. Conditional Policies
5. Route Step
6. API Proxy Policies (Post-flow)
7. Group Policies (Post-flow) - Gruba gelen isteklerde
8. Global Policies (Post-flow)
```

### Öncelik Yönetimi

Grup politikalarının önceliği:

* **Pre-flow**: Grup politikaları gruba gelen isteklerde API Proxy politikalarından önce çalışır
* **Post-flow**: Grup politikaları gruba gelen isteklerde API Proxy politikalarından sonra çalışır
* **Fault Handler**: Grup fault handler politikaları gruba gelen isteklerde hata oluştuğunda çalışır

## En İyi Uygulamalar

<CardGroup cols={2}>
  <Card title="Mantıksal Gruplama" icon="sitemap">
    API Proxy'leri mantıksal olarak gruplandırın. İlgili API'ler aynı grupta olmalıdır.
  </Card>
  <Card title="Politika Kullanımı" icon="shield">
    Grup politikaları yalnızca gruba gelen isteklerde uygulanır. Ortak politika ihtiyacı için Global Politikalar veya Politika Grupları kullanın.
  </Card>
  <Card title="Grup Boyutu" icon="users">
    Grup boyutunu makul tutun. Çok büyük gruplar yönetimi zorlaştırır.
  </Card>
  <Card title="Dokümantasyon" icon="file-lines">
    Her grup için açıklayıcı dokümantasyon ekleyin. Bu, grubun amacını ve kapsamını anlamayı kolaylaştırır.
  </Card>
  <Card title="ACL Stratejisi" icon="lock">
    Grup ACL'lerini dikkatli yapılandırın. Grup ACL'leri tüm grup üyelerine uygulanır.
  </Card>
  <Card title="Test Etme" icon="flask">
    Grup politikalarını production'a almadan önce test ortamında test edin.
  </Card>
</CardGroup>

## Sorun Giderme

### Grup Politikaları Çalışmıyor

**Sorun:** Grup politikaları çalışmıyor.

**Çözüm:**
* Grup politikaları yalnızca gruba gelen isteklerde çalıştırılır. İsteklerin gruba yönlendirildiğinden emin olun.
* Grup üyelerinin gruba dahil olduğundan emin olun.
* Politika sıralamasını kontrol edin.
* Politika yapılandırmasını kontrol edin.
* Politika loglarını inceleyin.
* Ortak politika ihtiyacı için [Global Politikalar](/tr/gelistirici/global-configurations/global-policies) veya [Politika Grupları](/tr/gelistirici/global-configurations/policy-groups) kullanmayı değerlendirin.

### Grup Üyeleri Güncellenmiyor

**Sorun:** Grup üyeleri güncellenmiyor.

**Çözüm:**
* Grup kaydetme işleminin başarılı olduğundan emin olun.
* API Proxy'lerin mevcut olduğunu kontrol edin.
* İzinleri kontrol edin.

### ACL Çakışması

**Sorun:** Grup ACL ve API Proxy ACL çakışıyor.

**Çözüm:**
* API Proxy seviyesi ACL grup ACL'den önceliklidir.
* ACL yapılandırmasını gözden geçirin.
* ACL loglarını inceleyin.

## Sonraki Adımlar

<CardGroup cols={2}>
  <Card title="API Proxy Group Kavramı" icon="book" href="/tr/apinizer-anlama/temel-kavramlar/api-proxy-group">
    API Proxy Group kavramını öğrenin
  </Card>
  <Card title="Grup ACL Yönetimi" icon="lock" href="/tr/admin/kimlik-yonetimi/api-proxy-grup-acl">
    Grup ACL yönetimi hakkında bilgi edinin
  </Card>
  <Card title="Politika Yönetimi" icon="shield" href="/tr/gelistirici/api-proxy-konfigurasyonu/politika-yonetimi">
    Politika yönetimi hakkında bilgi edinin
  </Card>
  <Card title="Global Politikalar" icon="globe" href="/tr/gelistirici/global-configurations/global-policies">
    Global politikalar hakkında bilgi edinin
  </Card>
</CardGroup>

