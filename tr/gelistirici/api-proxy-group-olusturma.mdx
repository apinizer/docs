---
title: "API Proxy Group Oluşturma"
description: "Birden fazla API Proxy'yi grup halinde yönetebilir, grup seviyesinde politikalar ve ayarlar yapılandırabilirsiniz. Grup üzerinden gelen isteklerde politikalar uygulanır ve grupta yer alan API Proxy'lere iletilir. Client Route ayarları ile grup erişimini yapılandırabilir, grup anahtarları ile OAuth2 kimlik doğrulama sağlayabilirsiniz."
---

API Proxy Grupları, birden fazla API Proxy'nin bir grup halinde yönetilebilmesini sağlar. API Proxy Grubuna eklenen politikalar ve uygulanan ayarlar, istek API Proxy Gruba geldiğinde çalıştırılır ve grupta yer alan API Proxy'lere iletilir.

<Warning>
**2024.05.1 Patch Versiyonu ile Değişiklikler:**

- Bir API Proxy, birden fazla API Proxy Grubunda olabilir.
- Ortak politikalara ihtiyaç duyan API Proxy'lerin API Proxy Grup ile yönetilme özelliği kaldırılmıştır.
- Ortak politika kullanma ihtiyacınız varsa [Global Politikalar](/tr/gelistirici/global-configurations/global-policies) veya [Politika Grupları](/tr/gelistirici/global-configurations/policy-groups) kullanabilirsiniz.
</Warning>

Daha fazla bilgi için [API Proxy Group](/tr/apinizer-anlama/temel-kavramlar/api-proxy-group) kavram sayfasına bakabilirsiniz.

## API Proxy Grubu Listesi

API Proxy Grubu listesi ilk açıldığında aşağıdaki görselde olduğu gibi mevcut API Proxy Grupları listelenir.

<img
  src="/images/gelistirici/api-proxy-group-olusturma/api-proxy-group-listesi.png"
  alt="API Proxy Grubu Listesi"
  width="1000"
  height="200"
/>

## API Proxy Grubu Oluşturma

Yeni API Proxy Grup oluşturmak için API Proxy Grubu Listesi arayüzünde sağ üst köşedeki **(plus) Yeni (_Create_)** tuşuna tıklanır.

**API Proxy Grubu oluşturma ekranı:**

<img
  src="/images/gelistirici/api-proxy-group-olusturma/api-proxy-group-olusturma-ekrani.png"
  alt="API Proxy Grubu Oluşturma Ekranı"
  width="1000"
  height="320"
/>

| Alan             | Açıklama                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ---------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Name**         | API Proxy Group için benzersiz bir isim. Boşluk ve özel karakterler kullanılmamalı, grup tanımlaması için anlamlı bir isimlendirme yapılmalıdır.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **Description**  | API Proxy Group'un amacını ve kullanım senaryosunu açıklayan isteğe bağlı metin alanı. Yönetim ve bakım süreçlerinde grubun işlevini anlamak için kullanılır.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **Client Route** | İstemcilerin bu API Proxy Group'a erişmek için kullanacakları yönlendirme bilgisi. Path, method veya header bazlı yönlendirme seçeneklerinden en az biri seçilmelidir.**Relative Paths:**API Proxy Group'a yönlendirilecek göreli URL path'leri. Birden fazla path tanımlanabilir, her path "/" ile başlamalıdır.**Methods:**Bu grup için izin verilen HTTP metodları (GET, POST, PUT, DELETE, PATCH, OPTIONS, HEAD). Varsayılan olarak tüm metodlar seçilebilir.**Hosts:**Backend servislerinin host adresleri. Birden fazla host eklenebilir.**Headers:**API Proxy Group seviyesinde eklenecek veya değiştirilecek HTTP header'ları. Key-value çiftleri olarak tanımlanır, tüm bu gruba ait isteklere uygulanır.Detaylı bilgi için bakınız: [Client Route Ayarları](/tr/gelistirici/api-proxy-olusturma/client-route-ayarlari) |

Kaydetme sonrası, API Proxy Grubunun biçimlendirme arayüzü açılır.

## API Proxy Grubunu Biçimlendirme

Genel Bakış (_Overview_), Ayarlar _(Settings)_ ve Geliştirme (_Development_) sekmelerinin biçimlendirmesi API Proxy'ninkilerle birkaç küçük farklılık dışında tamamen aynıdır.

### Genel Bakış Sekmesi (_Overview Tab_)

**Genel Bakış Sekmesi'ni içeren görsele aşağıda yer verilmiştir:**

<img
  src="/images/gelistirici/api-proxy-group-olusturma/genel-bakis-sekmesi.png"
  alt="Genel Bakış Sekmesi"
  width="1000"
  height="410"
/>

Genel Bakış Sekmesi konfigürasyonu için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan                                        | Açıklama                                                                                                                                                                                                                                                                                                                                                        |
| ------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Ad(_Name_)                                  | API Proxy Grubunun adıdır. Zorunlu alandır.                                                                                                                                                                                                                                                                                                                     |
| Açıklama(_Description_)                     | API Proxy Grubuna ilişkin açıklama/tanım bilgisidir. Girilmesi isteğe bağlıdır.                                                                                                                                                                                                                                                                                 |
| Client Route                                | İstemcilerin API Proxy Group'a erişim için kullanacağı yönlendirme bilgileri. Detaylı bilgi için bakınız: [Client Route Ayarları](/tr/gelistirici/api-proxy-olusturma/client-route-ayarlari)                                                                                                                          |
| Proxy Grubu Anahtarı(_API Proxy Group Key_) | API Proxy Grup üzerinden JWT veya OAuth2 yetkilendirmesi yapılmak istendiğinde ihtiyaç duyulan Genel ve Gizli Anahtarların yönetildiği bölümdür. Detaylı bilgi için bu anahtarların [ API Proxy için nasıl yönetildiğine ](/tr/gelistirici/api-proxy-konfigurasyonu/yukleme-ve-tanim-dosyasi-bilgileri#api-proxy-anahtari)bakınız. |
| Deployment Information                      | API Proxy Group'un deployment durumu ve ortam bilgileri. **Environment:**API Proxy Group'un deploy edildiği ortam (Development, Test, Production). **URL:**API Proxy Group'a erişim için kullanılacak tam URL adresi. **Specs:**API Proxy Group'un OpenAPI/Swagger spesifikasyon bilgileri.                                                                     |

### API Proxy Grup Anahtarı (API Proxy Group Key) Bölümü 

API Proxy Grubun erişim anahtarlarının yönetildiği bölümdür. Erişim anahtarları OAuth2 Kimlik Doğrulama Politikası için kullanılır. 

Client Id ve Client Secret değerleri otomatik olarak oluşturulur ve kullanıcı yenilerinin oluşturulmasını isteyebilir. Yüklenmiş bir API Proxy Grup için anahtarlardan herhangi birisi yeniden oluşturulursa, anahtarların geçerli olabilmesi için API Proxy Grubun yeniden yüklenmesi gerekir. 

<img
  src="/images/gelistirici/api-proxy-group-olusturma/api-proxy-group-anahtari.png"
  alt="API Proxy Grup Anahtarı"
  width="600"
  height="270"
/>

### API Proxy Grubu Swagger Arayüzünde Görüntüleme 

API Proxy Group deploy edildikten sonra Deployment bölümünde ilgili erişim adresine ait **Göster** _(Show)_butonu gelir. Bu butona tıklandığında API Proxy Grubun JSON formatındaki Open API specification bilgisine ulaşılır. 

<img
  src="/images/gelistirici/api-proxy-group-olusturma/spec-info-dialog.png"
  alt="Spec Info Dialog"
  width="1000"
  height="120"
/>

**Spec Info ayarlarını içeren diyalog görseline aşağıda yer verilmiştir:**

<img
  src="/images/gelistirici/api-proxy-group-olusturma/spec-info-icerik.png"
  alt="Spec Info İçeriği"
  width="1000"
  height="280"
/>

### API Tanım Dosyalarına Erişim 

Tanım dosyalarının içeriği, **Show** bağlantısına tıklandığında yukarıdaki şekilde görüldüğü gibi açılır ve buradan kopyalanabilir. Ancak bu yöntem Apinizer platformu üzerinde çalışmakta olan API Geliştirici, API Testçi gibi rollerden kullanıcılar içindir. İstemciler bu arayüzlere erişemez.

**İstemciler, tanım dosyalarına erişmek için API Proxy Grup'un yüklenmiş olduğu Ortamdaki erişim adresini aşağıdaki şekilde kullanabilirler:**

Örneğin API Proxy'nin Production Ortamındaki erişim adresi `https://api.apinizer.com/apigateway/apiProxyGroup` olsun.

Tanım dosyalarına erişim için aşağıdaki adreslere istek gönderilebilir;

**Swagger 2.x (JSON)**
- `https://api.apinizer.com/apigateway/apiProxyGroup?swagger`
- `https://api.apinizer.com/apigateway/apiProxyGroup?swagger&format=json`
- `https://api.apinizer.com/apigateway/apiProxyGroup?swagger.json`

**Swagger 2.x (YAML)**
- `https://api.apinizer.com/apigateway/apiProxyGroup?swagger&format=yaml`
- `https://api.apinizer.com/apigateway/apiProxyGroup?swagger.yaml`

**OpenAPI 3.x (JSON)**
- `https://api.apinizer.com/apigateway/apiProxyGroup?openapi`
- `https://api.apinizer.com/apigateway/apiProxyGroup?openapi&format=json`
- `https://api.apinizer.com/apigateway/apiProxyGroup?openapi.json`

**OpenAPI 3.x (YAML)**
- `https://api.apinizer.com/apigateway/apiProxyGroup?openapi&format=yaml`
- `https://api.apinizer.com/apigateway/apiProxyGroup?openapi.yaml`

### Ayarlar Sekmesi _(Settings Tab)_ 

Ayarlar sekmesi üzerinden API Proxy Grubu için aşağıdaki ayarlamalar yönetilebilir. Bu ayarların detayı için Ayarlar Sekmesi _(Settings Tab)_sayfasına bakınız.

- CORS
- Cache
- XML Hata Yanıt Şablonunu Özelleştirme
- JSON Hata Yanıt Şablonunu Özelleştirme
- İletilen IP Başlık Parametreleri
- Ignore Error Response Template: Error response template'in ignore edilmesi ayarı, API Proxy Group bazında ayarlanabilmektedir.
- API Proxy Trafiği Log Ayarları

**Ayarlar Sekmesi'ni içeren görsele aşağıda yer verilmiştir:**

<img
  src="/images/gelistirici/api-proxy-group-olusturma/ayarlar-sekmesi.png"
  alt="Ayarlar Sekmesi"
  width="900"
  height="980"
/>

### Geliştirme Sekmesi (_Development Tab_)

Geliştirme sekmesinde API Proxy Grubunun politikaları yönetilir. Detaylı bilgi için API Proxy için politikaların nasıl yönetildiğinin anlatıldığı Geliştirme Sekmesi (_Development Tab_) sayfasına bakınız.

**Geliştirme Sekmesi'ni içeren görsele aşağıda yer verilmiştir:**

<img
  src="/images/gelistirici/api-proxy-group-olusturma/gelistirme-sekmesi.png"
  alt="Geliştirme Sekmesi"
  width="1000"
  height="340"
/>

### API Proxy'ler Sekmesi (_API Proxies Tab_)

API Proxy Grup içerisinde yer alan API Proxy'ler ve Deployment bilgileri bu bölümden yönetilir. 

API Proxy Grup deploy edilmemiş ise, URL kısmı boş gözükür.

**API Proxy'ler Sekmesi'ni içeren görsele aşağıda yer verilmiştir:**

<img
  src="/images/gelistirici/api-proxy-group-olusturma/api-proxy-ler-sekmesi.png"
  alt="API Proxy'ler Sekmesi"
  width="1000"
  height="230"
/>

### Endpoints Sekmesi 

**Endpoints Sekmesi'ni içeren görsele aşağıda yer verilmiştir:**

<img
  src="/images/gelistirici/api-proxy-group-olusturma/endpoints-sekmesi.png"
  alt="Endpoints Sekmesi"
  width="1000"
  height="430"
/>

#### Endpoint Test Etme

Endpoint'i test etmek için test butonuna tıklanır.

<img
  src="/images/gelistirici/api-proxy-group-olusturma/endpoint-test.png"
  alt="Endpoint Test"
  width="1000"
  height="75"
/>

#### Endpoint Detayını Görüntüleme

Endpoint detayını görüntülemek için satır sonunda yer alan butona tıklanır.

<img
  src="/images/gelistirici/api-proxy-group-olusturma/endpoint-detay-butonu.png"
  alt="Endpoint Detay Butonu"
  width="1000"
  height="75"
/>

**Endpoint detayını içeren görsele aşağıda yer verilmiştir:**

<img
  src="/images/gelistirici/api-proxy-group-olusturma/endpoint-detay.png"
  alt="Endpoint Detayı"
  width="1000"
  height="250"
/>

Bu ekranda eğer isteğin Tip bilgisi ya da yanıtın Model İçeriği bulunursa, tıklanarak detayı görüntülenebilir.

Aşağıdaki örneklerde kullanılacak adresler şunlar olsun:

- Ortam'ın erişim adresi: **`https://demo.apinizer.com/apigateway`**
- API Proxy Grubu için verilen Geçit Adresi: **`/apiProxyGroup1`**
- API Proxy Grubunun yüklendiği ortamdaki adresi: **`https://demo.apinizer.com/apigateway/apiProxyGroup1`**
- API Proxy için verilen Geçit Adresi: **`/petstore`**
- API Proxy'nin yüklendiği ortamdaki adresi: **`https://demo.apinizer.com/apigateway/petstore`**
- Erişilmek istenen endpoint: **`/pet/findByStatus`**
- Erişilmek istenen endpoint'in HTTP metot değeri: **GET**

<Warning>
Proxy Group yalnızca HTTP(S) protokolünde çalışır.
</Warning>

### API Proxy'e Doğrudan Erişim

API Proxy Grubuna eklenmiş API Proxy'lere doğrudan erişimde herhangi bir değişiklik olmaz. İstemciler, yüklendikleri Ortamlara göre oluşturulan adresleri aracılığıyla API Proxy'lere erişmeye devam eder.

**GET isteğinin gönderileceği adres:**

```
https://demo.apinizer.com/apigateway/petstore/pet/findByStatus?status=pending
```

### API Proxy Gruba Erişim

API Proxy'lerin metot/endpoint'lerine API Proxy Grubunun adresi üzerinden erişilebilir.

#### REST tipindeki API Proxy'nin bir _endpoint_'e erişim

Kullanılacak erişim adresi, API Proxy Grubu için belirtilen geçit adresine, erişilecek metot/_endpoint_'in adresi eklenerek bulunur. **Bu işlem sırasında API Proxy'nin kendi adresi dikkate alınmaz.**

**GET isteğinin gönderileceği adres:**

```
https://demo.apinizer.com/apigateway/apiProxyGroup1/pet/findByStatus?status=pending
```

Bir metot/endpoint'e API Proxy Grubu üzerinden erişiliyorsa**API Proxy'nin** adresi dikkate alınmaz. Metot/endpoint sanki doğrudan API Proxy Grubuna aitmiş gibi davranılır ve Metot/endpoint için URL, API Proxy Grubunun adresi ile oluşturulur.

<img
  src="/images/gelistirici/api-proxy-group-olusturma/erisim-ornegi.png"
  alt="Erişim Örneği"
  width="1000"
  height="160"
/>

<Warning>
API Proxy Grubundaki REST tipindeki API Proxy'ler içinde aynı adresli metot/endpoint ve HTTP metoduna sahip birden fazla metot/endpoint varsa, istek ilk bulunan metot/endpoint'e gider. 

API Proxy grubunun içindeki herhangi bir API Proxy'ye ait path parametresi kullanan bir metot/enpoint'den dolayı, grup içindeki diğer API Proxy'lere ait bazı method/endpoint'lere erişilemez hale gelebilir.
</Warning>

#### SOAP tipindeki API Proxy'nin bir metot/_endpoint_'ine erişim

API Proxy Grubunun erişim adresine, çağrılmak istenen metodun **SOAPAction** header'ı ve ilgili SOAP mesajı ile istek göndermek yeterlidir. 

<Warning>
API Proxy Grubundaki SOAP tipindeki API Proxy'ler içinde aynı metota/SOAP Action'a sahip birden fazla metot varsa, istek ilk bulunan metot'a gider.
</Warning>

## İlgili Sayfalar

<CardGroup cols={3}>
  <Card title="API Proxy Group" icon="users" href="/tr/apinizer-anlama/temel-kavramlar/api-proxy-group">
    API Proxy Group kavramını öğrenin
  </Card>
  <Card title="Client Route Ayarları" icon="route" href="/tr/gelistirici/api-proxy-olusturma/client-route-ayarlari">
    Client Route yapılandırması
  </Card>
  <Card title="API Proxy Oluşturma" icon="plus" href="/tr/gelistirici/api-proxy-olusturma/api-proxy-olusturma">
    API Proxy oluşturma
  </Card>
  <Card title="Politika Yönetimi" icon="shield" href="/tr/gelistirici/api-proxy-konfigurasyonu/politika-yonetimi">
    Politika yönetimi hakkında bilgi edinin
  </Card>
  <Card title="Global Politikalar" icon="globe" href="/tr/gelistirici/global-configurations/global-policies">
    Global politikalar hakkında bilgi edinin
  </Card>
  <Card title="Politika Grupları" icon="layer-group" href="/tr/gelistirici/global-configurations/policy-groups">
    Politika grupları hakkında bilgi edinin
  </Card>
</CardGroup>
