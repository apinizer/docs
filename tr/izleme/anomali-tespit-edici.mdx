---
title: "Anomali Tespit Edici"
description: "Log kayıtlarında zaman bazlı verileri analiz ederek anomali tespiti yapma"
---


## Anomaly Detection Nedir?

Anomaly Detection (Anomali Tespiti), en basit anlamıyla bir veride beklenmedik durumların veya kalıpların bulunmasını sağlayan bir tekniktir. Bu beklenmedik durumlar veya kalıplar aslında bir verinin beklenen davranışlarına uymayan durumlar veya kalıplardır. Bu beklenmedik durumlara literatürde outliers (aykırı değerler), exceptions (istisnai durumlar) veya anomaliler (normalin dışı) denilmektedir.

<Info>
**Örnek Senaryo:** Diyelim ki, siz kredi kartınızdan her ay aşağı yukarı 200–300 tl harcama yapıyorsunuz. Yani, bankanızın size ait profilinde siz her ay düşük bütçeli harcamalar yapan bir müşteri konumundasınız. Peki eğer bir gün siz 1500 Tllik bir alışveriş yaparsanız ne olur?

Aslında bu durum, sizin normal davranışınızın dışına çıktığınıza ve normalde en fazla 200–300 tl gibi bir harcama yapan bir müşteriyken bir anda beklenmedik bir şekilde 1500 tl harcama yapan bir müşteri konumuna geldiğinize işaret eder. İşte bu durum aslında bir anomali davranıştır. Bu durumda bankanız anomaly detection tekniklerini kullanıyorsa, bunun bir kredi kartı dolandırıcılığı (Credit Card Fraud Detection) olabileceğini öngörüp size bir mesaj yollar. İşte bu basit örnek aslında bir anomaly detection örneğidir.
</Info>

Anomali Dedektörü ayarlarını içeren görsele aşağıda yer verilmiştir:
<img
  src="/images/yonetici/anomali.png"
  alt="Image 2024 9 9 15 35 35 Pn"
  width="1000"
  className="mr-auto"
/>


<Note>
- Sorgular için bakınız.
- Filtreler için bakınız.
</Note>


Anomali Dedektörü konfigürasyonu için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan | Açıklama |
|------|----------|
| **Ad (Name)** | Oluşturulan dedektöre ait ad bilgisidir. |
| **Açıklama (Description)** | Oluşturulan dedektör ile ilgili yönetimi kolaylaştırmak için açıklama yazılabilir. |
| **Ortam (Environment)** | Oluşturulan dedektör için bir ortam seçilir. |
| **Trigger Every** | Oluşturulan monitörün işletilme sıklığı belirlenir. |
| **Sorgu (Query)** | Log kayıtlarını analiz edebilmek için oluşturulan/seçilen sorgu bilgisidir. Yeni bir sorgu oluşturulabilir ve/ya var olan sorgular arasından seçim yapılabilir. |
| **Filtre (Filter)** | Oluşturulan/seçilen sorguya eklenecek filtre bilgisidir. Yeni bir filtre oluşturulabilir ve/ya var olan filtreler arasından seçim yapılabilir. |
| **Koşullar (Conditions)** | Bir anomaliyi belirlemek için koşullar kullanılır. Birden çok koşul varsa 've' operatörü ile bağlanırlar. "Koşullar" başlığında detaylı örnekler verilmiştir. |
| **Eylem (Action)** | Oluşturulan anomali işletildiği zaman yapılacak olan eylemin seçilmesini sağlar. Eylemler hakkında detaylı bilgi almak için [bu sayfayı](#) ziyaret edebilirsiniz. |

## Koşullar (Conditions)

4 farklı tip metrik ölçümü vardır:

<CardGroup cols={2}>
  <Card title="Metrik Değer Kontrolü" icon="gauge">
    Metrik değerlerinin doğrudan kontrolü
  </Card>
  <Card title="Metrik Artış/Düşüş Oranı" icon="chart-line">
    Metrik artış/düşüş oranı kontrolü
  </Card>
  <Card title="EMA ile bollinger bandlarının kullanımı" icon="wave-pulse">
    EMA ile bollinger bandlarının kullanımı
  </Card>
  <Card title="Sorgu/Filtre Oranı Kontrolü" icon="percent">
    Sorgu/Filtre oranı kontrolü
  </Card>
</CardGroup>

### 1. Metrik Değer Kontrolü

Metrik değer kontrolüne ait örneği içeren görsele aşağıda yer verilmiştir:
<img
  src="/images/yonetici/conditions.png"
  alt="Image 2024 9 9 15 35 35 Pn"
  width="1000"
  className="mr-auto"
/>

Koşul için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan | Açıklama |
|------|----------|
| **average of** | Bir sonraki kolondaki değerin hangi işlem ile ele alınacağını ifade eder. Bu örnekte, ortalama değer seçilmiştir. |
| **time api proxy total** | Hangi metriksel alanın işleme alınacağını belirtir. Bu örnekte, API Proxy total zamanı seçilmiştir. |
| **above** | Bulunan metriğin bir sonraki değerle nasıl kıyaslama yapılacağını belirten değer ifade belirtilir. |
| **for ... times** | Son ... seferde bu koşulu sağlama durumunun sağlanmış olması gerektiğini belirtir. |

### 2. Metrik Artış/Düşüş Oranı Kontrolü

Metrik artış/düşüş oranı kontrolüne ait örneği içeren görsele aşağıda yer verilmiştir:
<img
  src="/images/yonetici/conditions2.png"
  alt="Image 2024 9 9 15 35 35 Pn"
  width="1000"
  className="mr-auto"
/>

Koşul için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan | Açıklama |
|------|----------|
| **average of** | Bir sonraki kolondaki değerin hangi işlem ile ele alınacağını ifade eder. Bu örnekte, ortalama değer seçilmiştir. |
| **time api proxy total** | Hangi metriksel alanın işleme alınacağını belirtir. Bu örnekte, API Proxy total zamanı seçilmiştir. |
| **increased by** | Bulunan metriğin davranışının ne olacağı belirtilir. Bu örnekte, artış hızı seçilmiştir. |
| **more than** | Metrik davranışının bir önceki değere oranla nasıl bir kıyaslama yapılacağı belirtilir. Bu örnekte, büyük olma kıyaslaması seçilmiştir. |
| **average** | Son bakılacak değerlerin nasıl ele alınacağını belirtir. Bu örnekte son bakılacak değerlerin "Ortalama"sının alınması gerektiğini belirtir. |
| **previous ... result** | Son ... seferde bu koşulu sağlama durumunun sağlanmış olması gerektiğini belirtir. |

### 3. EMA ile Bollinger Bandlarının Kullanımı

EMA ile bollinger bandlarının kullanımına ait örneği içeren görsele aşağıda yer verilmiştir:
<img
  src="/images/yonetici/conditions3.png"
  alt="Image 2024 9 9 15 35 35 Pn"
  width="1000"
  className="mr-auto"
/>

Koşul için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan | Açıklama |
|------|----------|
| **average of** | Bir sonraki kolondaki değerin hangi işlem ile ele alınacağını ifade eder. Bu örnekte, ortalama değer seçilmiştir. |
| **time api proxy total** | Hangi metriksel alanın işleme alınacağını belirtir. Bu örnekte, API Proxy total zamanı seçilmiştir. |
| **EMA** | Seçilen metrik değeri ile ne işlemi yapılacağını belirtir. Bu örnekte EMA değeri seçilmiştir. |
| **above from upper bollinger band** | Uygulanan EMA formülünün sonucunun nasıl uygulanacağını belirtir. Bu örnekte, Upper Bollinger Band değerinin üstünde olan değerlerin seçilmiştir. |
| **is calculated with** | EMA değerinin önceki kaç adet değer üzerinden hesaplanacağını belirtir. Bu örnekte 10 değeri seçilmiştir. |
| **data points and standard deviation multiplier sensitivity of** | EMA bollinger bandlarının hassasiyet derecesini belirtir. |

### 4. Sorgu/Filtre Oranı Kontrolü

Sorgu/Filtre oranı kontrolü kullanımına ait örneği içeren görsele aşağıda yer verilmiştir:
<img
  src="/images/yonetici/conditions4.png"
  alt="Image 2024 9 9 15 35 35 Pn"
  width="1000"
  className="mr-auto"
/>
Koşul için kullanılan alanlar aşağıdaki tabloda görülmektedir.


| Alan | Açıklama |
|------|----------|
| **query/filter rate percent** | Çalışma zamanında filtre ve sorgudaki çıkan sonucun sadece filtrede çıkan sonuca oranını yüzde olarak ifade edilmesini sağlar. |
| **above** | Bulunan metriğin bir sonraki değerle nasıl kıyaslama yapılacağını belirten değer ifade belirtilir. |
| **90** | Metriğin kıyaslanacağı değer belirtilir. |
| **for ... time** | Son ... seferde bu koşulu sağlama durumunun sağlanmış olması gerektiğini belirtir. |

## İşlem Sonuçları

Anomali Dedektörü işlem sonuç sayfasını içeren görsele aşağıda yer verilmiştir:
<img
  src="/images/yonetici/islem-sonucu.png"
  alt="Image 2024 9 9 15 35 35 Pn"
  width="1000"
  className="mr-auto"
/>

Görselde yürütülmüş anomalinin, çalışma kayıtları ve sonuçları detaylı bir şekilde yer almaktadır.

<Tip>
Overview sekmesinde bu değerleri grafiksel olarak görmek de mümkündür.
</Tip>