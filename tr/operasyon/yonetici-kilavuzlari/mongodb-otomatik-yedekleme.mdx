---
title: "MongoDB Veritabanını Otomatik Yedekleme ve Eski Yedekleri Temizleme"
description: "MongoDB veritabanının otomatik yedeklenmesi ve eski yedeklerin temizlenmesi"
---

# MongoDB Veritabanını Otomatik Yedekleme ve Eski Yedekleri Temizleme

Bu sayfa, MongoDB veritabanının otomatik yedeklenmesi ve eski yedeklerin temizlenmesi işlemini açıklamaktadır.

## Genel Bakış

MongoDB veritabanını otomatik olarak yedekleyerek veri kaybını önleyebilir ve eski yedekleri temizleyerek depolama alanını optimize edebilirsiniz.

## Yedekleme Stratejisi

### 1. Yedekleme Türleri

- **Full Backup**: Tüm veritabanının yedeği
- **Incremental Backup**: Sadece değişen verilerin yedeği
- **Point-in-Time Recovery**: Belirli bir zaman noktasına geri dönüş

### 2. Yedekleme Sıklığı

Yedekleme sıklığını belirleyin:

- Günlük yedekleme
- Haftalık yedekleme
- Aylık yedekleme

## Otomatik Yedekleme Scripti

### MongoDB Dump Scripti

```bash
#!/bin/bash

# Yedekleme ayarları
BACKUP_DIR="/backup/mongodb"
DATE=$(date +%Y%m%d_%H%M%S)
RETENTION_DAYS=30

# MongoDB bağlantı bilgileri
MONGO_HOST="mongodb-service"
MONGO_PORT="27017"
MONGO_DB="apinizer"
MONGO_USER="admin"
MONGO_PASS="password"

# Yedekleme dizini oluşturma
mkdir -p $BACKUP_DIR

# MongoDB dump
mongodump \
  --host=$MONGO_HOST:$MONGO_PORT \
  --db=$MONGO_DB \
  --username=$MONGO_USER \
  --password=$MONGO_PASS \
  --out=$BACKUP_DIR/backup_$DATE

# Eski yedekleri temizleme
find $BACKUP_DIR -type d -mtime +$RETENTION_DAYS -exec rm -rf {} \;
```

### Cron Job Kurulumu

Cron job ile otomatik yedekleme:

```bash
# Crontab düzenleme
crontab -e

# Günlük yedekleme (her gece 02:00'de)
0 2 * * * /path/to/backup-script.sh
```

## Yedekten Geri Yükleme

Yedekten geri yükleme:

```bash
mongorestore \
  --host=$MONGO_HOST:$MONGO_PORT \
  --db=$MONGO_DB \
  --username=$MONGO_USER \
  --password=$MONGO_PASS \
  $BACKUP_DIR/backup_20240101_020000
```

## İlgili Kaynaklar

- [Database Büyüme Yönetimi](/tr/bakim-operasyon/database-buyume-yonetimi)
- [MongoDB Sorunları](/tr/sorun-giderme/altyapi-sorunlari/mongodb-sorunlari)
