---
title: Apinizer Gateway için Grafana Üzerinde Örnek Dashboardlar
description: "Apinizer Gateway metriklerini görselleştirmek için Grafana üzerinde kullanılabilecek örnek dashboard panellerini sağlar. API trafik hacmi, en yüksek trafik hacmine sahip API'ler, API işlem süreleri, istek/yanıt boyutları ve pod CPU kullanımı gibi metrikleri görselleştiren hazır PromQL sorguları ve görselleştirme önerileri içerir."
---

<Info>
Grafana Kurulumu ve Veri Kaynağı Olarak Prometheus Entegrasyonu için [ilgili dökümanımıza göz atabilirsiniz](/tr/operasyon/yonetici-kilavuzlari/grafana-prometheus-data-source.mdx).
</Info>

## Panel 1: İsteklerin Türüne Göre Toplam API İstek Hacmi

<Accordion title="PromQL Sorguları">
- **A (Toplam İstekler):** `sum(rate(apinizer_api_traffic_total_count_total[5m]))`
- **B (Başarılı İstekler):** `sum(rate(apinizer_api_traffic_success_count_total[5m]))`
- **C (Hatalı İstekler):** `sum(rate(apinizer_api_traffic_error_count_total[5m]))`

**Görselleştirme:** Timeseries
</Accordion>

<img
  src="/images/operasyon/dahsboard1.png"
  alt="Panel 1: İsteklerin Türüne Göre Toplam API İstek Hacmi"
  width="1000"
  height="600"
/>

## Panel 2: En Yüksek Trafik Hacmine Sahip API'ler

<Accordion title="PromQL Sorguları">
- **A (Top 5 API):** `topk(5, sum by (api_name) (increase(apinizer_api_traffic_total_count_tagged_total[100m])))`

**Görselleştirme:** Bar gauge veya Bar chart
</Accordion>

<img
    src="/images/operasyon/dashboard2.png"
  alt="Panel 2: En Yüksek Trafik Hacmine Sahip API'ler"
  width="1000"
  height="600"
/>

## Panel 3: API İşlem Süreleri Detayı

<Accordion title="PromQL Sorguları">
- **A (Request Pipeline Süresi):** `sum(rate(apinizer_api_traffic_request_pipeline_time_seconds_sum[5m])) / sum(rate(apinizer_api_traffic_request_pipeline_time_seconds_count[5m])) * 1000`
- **B (Routing Süresi):** `sum(rate(apinizer_api_traffic_routing_time_seconds_sum[5m])) / sum(rate(apinizer_api_traffic_routing_time_seconds_count[5m])) * 1000`
- **C (Response Pipeline Süresi):** `sum(rate(apinizer_api_traffic_response_pipeline_time_seconds_sum[5m])) / sum(rate(apinizer_api_traffic_response_pipeline_time_seconds_count[5m])) * 1000`

**Görselleştirme:** Timeseries
</Accordion>

<img
    src="/images/operasyon/dashboard3.png"
    alt="Panel 3: API İşlem Süreleri Detayı"
  width="1000"
  height="600"
/>

## Panel 4: Ortalama İstek / Yanıt Boyutu

<Accordion title="PromQL Sorguları">
- **A (Ortalama İstek Boyutu):** `sum(rate(apinizer_api_traffic_request_size_bytes_sum[5m])) / sum(rate(apinizer_api_traffic_request_size_bytes_count[5m]))`
- **B (Ortalama Yanıt Boyutu):** `sum(rate(apinizer_api_traffic_response_size_bytes_sum[5m])) / sum(rate(apinizer_api_traffic_response_size_bytes_count[5m]))`

**Görselleştirme:** Timeseries
</Accordion>

<img
    src="/images/operasyon/dashboard4.png"
    alt="Panel 4: Ortalama İstek / Yanıt Boyutu"
  width="1000"
  height="600"
/>

## Panel 5: Pod'ların CPU Kullanımı

<Accordion title="PromQL Sorguları">
- **A (Pod CPU Kullanımı):** `sum(system_cpu_usage{pod=~".*"}) by (pod) * 100`

**Görselleştirme:** Gauge
</Accordion>

<img
    src="/images/operasyon/dahsboard5.png"
    alt="Panel 5: Pod'ların CPU Kullanımı"
  width="1000"
  height="600"
/>
