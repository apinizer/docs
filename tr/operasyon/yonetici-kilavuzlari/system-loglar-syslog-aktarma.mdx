---
title: "Sistem Loglarının Syslog'a Aktarılması"
description: "Apinizer sistem loglarını (Application Log, Token Log, Audit Log) syslog protokolü üzerinden harici SIEM sistemlerine aktarır ve merkezi log yönetimi sağlar."
---

## Ön Gereksinimler

Syslog bağlantı ayarlarının yapılması gerekmektedir. Bağlantı ayarları için [Syslog Entegrasyonu](/tr/operasyon/yonetici-kilavuzlari/syslog-entegrasyonu) sayfasına bakabilirsiniz.

<Note>
    Administration > Bağlantı Konfigürasyonlar > Syslog sayfasına giderek bir Syslog bağlantı tanımı oluşturmanız gerekir.
</Note>

## Log Türleri ve Yapılandırma

Sistem logları üç ana kategoriye ayrılır ve her biri ayrı ayrı syslog'a aktarılabilir.

<Tabs>
    <Tab title="Uygulama Logları">
        <Steps>
            <Step title="Yapılandırma">
                Administration > System Settings > General Settings sayfasına gidin ve uygulama logları için Syslog Connector seçin.
            </Step>
            <Step title="Bağlantı Seçimi">
                Daha önce oluşturulmuş olan Syslog bağlantı tanımını seçin.
            </Step>
        </Steps>

        <h3>Veri Yapısı</h3>

        Gönderilecek uygulama logları için veri yapısı:

        <ul>
            <li><strong>id</strong>: Log kaydının benzersiz kimliği</li>
            <li><strong>date</strong>: Logun oluştuğu tarih ve saat</li>
            <li><strong>level</strong>: Logun önem seviyesi (INFO, WARN, ERROR, DEBUG)</li>
            <li><strong>message</strong>: Logun ana mesajı, olayı açıklayan metin</li>
            <li><strong>stackTrace</strong>: Hata durumlarında, hatanın oluştuğu kod yolunu gösteren detaylı yığın izi</li>
            <li><strong>hostName</strong>: Logu üreten Apinizer bileşeninin çalıştığı makinenin adı</li>
            <li><strong>enumApplicationLog</strong>: Logun hangi Apinizer modülünden geldiğini belirtir (MANAGER, GATEWAY)</li>
        </ul>

        <h3>Örnek Log Kaydı</h3>

        ```json
        2025-06-11T08:52:02.824Z apinizer_demo Apinizer_demo {
          "id":"684943b280f5de2a3c29d28b",
          "date":"2025-06-11T08:52:02.810Z",
          "level":"ERROR",
          "message":"Connector response status code is 429",
          "stackTrace":"java.lang.Exception: Connector response status code is 429\n\tat com.apinizer.common.executable.connector.webhook.ConnectorWebhookSend.sendWithFailover(ConnectorWebhookSend.java:185)...",
          "hostName":"manager-58b4d4784d-sm47j",
          "enumApplicationLog":"MANAGER"
        }
        ```
    </Tab>

    <Tab title="Token Logları">
        <Steps>
            <Step title="Yapılandırma">
                Administration > System Settings > General Settings sayfasına gidin ve token logları için Syslog Connector seçin.
            </Step>
            <Step title="Bağlantı Seçimi">
                Daha önce oluşturulmuş olan Syslog bağlantı tanımını seçin.
            </Step>
        </Steps>

        <h3>Veri Yapısı</h3>

        Gönderilecek token logları için veri yapısı:

        <ul>
            <li><strong>id</strong>: Log kaydının benzersiz kimliği</li>
            <li><strong>timestamp</strong>: Token olayının gerçekleştiği zaman damgası</li>
            <li><strong>apinizerCorrelationId</strong>: Token talebiyle ilgili tüm işlemleri takip etmek için kullanılan benzersiz korelasyon ID'si</li>
            <li><strong>environmentId</strong>: İsteğin yapıldığı ortamın benzersiz kimliği</li>
            <li><strong>projectId</strong>: İsteğin ait olduğu projenin benzersiz kimliği</li>
            <li><strong>applicationName</strong>: İsteğin ilgili olduğu uygulamanın adı</li>
            <li><strong>apiProxyId</strong>: Token talebinin ilişkili olduğu API Proxy'nin benzersiz kimliği</li>
            <li><strong>apiProxyName</strong>: İlişkili API Proxy'nin adı</li>
            <li><strong>httpRequestRemoteAddress</strong>: Token isteğini yapan istemcinin IP adresi</li>
            <li><strong>httpRequestHttpMethod</strong>: Token isteğinin HTTP metodu (genellikle POST)</li>
            <li><strong>httpRequestContentType</strong>: İsteğin içerik tipi</li>
            <li><strong>usernameOrKey</strong>: Token talep eden kullanıcı adı veya istemci anahtarı</li>
            <li><strong>timeTotal</strong>: Token işleminin toplam süresi (ms)</li>
            <li><strong>statusCode</strong>: Token isteğinin HTTP durum kodu</li>
            <li><strong>resultType</strong>: Token işleminin sonucu (SUCCESS, ERROR)</li>
            <li><strong>audience</strong>: Tokenın geçerli olduğu hedef kitle veya kaynak</li>
            <li><strong>clientInfo</strong>: Token talep eden istemci hakkında ek bilgi</li>
            <li><strong>issuedAt</strong>: Tokenın verildiği zaman damgası</li>
            <li><strong>refreshTokenAllowed</strong>: Yenileme tokenının bu işlem için izin verilip verilmediği (boolean)</li>
            <li><strong>refreshTokenIssuedAt</strong>: Yenileme tokenının verildiği zaman damgası</li>
            <li><strong>refreshCount</strong>: Yenileme tokenının kaç kez kullanıldığı</li>
        </ul>

        <h3>Örnek Log Kaydı</h3>

        ```json
        2025-06-11T08:49:15.970Z apinizer_demo Apinizer_demo {
          "id":"6849430bfec3ea5f01ed3989",
          "timestamp":"2025-06-11T08:49:15.229Z",
          "apinizerCorrelationId":"dccababd-16e3-415e-b801-9f6a52b6a28c",
          "environmentId":"63ca7ed05c8e155862d99e88",
          "projectId":"68493b6e80f5de2a3c29c5ee",
          "applicationName":"Swagger Petstore Documentation",
          "apiProxyId":"68493bb680f5de2a3c29c609",
          "apiProxyName":"Swagger Petstore Documentation",
          "httpRequestRemoteAddress":"10.244.0.1",
          "httpRequestHttpMethod":"POST",
          "httpRequestContentType":"application/x-www-form-urlencoded",
          "usernameOrKey":"documentation",
          "timeTotal":19,
          "statusCode":200,
          "resultType":"SUCCESS",
          "audience":"#GW#90c33df5f81e-4717-95f8-1ea76228a7d5",
          "clientInfo":"documentation",
          "issuedAt":"2025-06-11T08:49:15.220Z",
          "refreshTokenAllowed":false,
          "refreshTokenIssuedAt":"2025-06-11T08:49:15.220Z",
          "refreshCount":0
        }
        ```
    </Tab>

    <Tab title="Audit Logları">
        <Steps>
            <Step title="Yapılandırma">
                Administration > System Settings > General Settings sayfasına gidin ve audit logları için Syslog Connector seçin.
            </Step>
            <Step title="Bağlantı Seçimi">
                Daha önce oluşturulmuş olan Syslog bağlantı tanımını seçin.
            </Step>
        </Steps>

        <h3>Veri Yapısı</h3>

        Gönderilecek audit logları için veri yapısı:

        <ul>
            <li><strong>id</strong>: Denetim olayının benzersiz kimliği</li>
            <li><strong>principal</strong>: İşlemi gerçekleştiren kullanıcının adı (örneğin, "admin")</li>
            <li><strong>auditEventDate</strong>: Denetim olayının gerçekleştiği tarih ve saat</li>
            <li><strong>state</strong>: Yapılan işlemin tipi (CREATED, UPDATED, DELETED)</li>
            <li><strong>objectId</strong>: İşlemin etkilendiği objenin (API, Policy vb.) benzersiz kimliği</li>
            <li><strong>objectName</strong>: İşlemin etkilendiği objenin adı</li>
            <li><strong>referenceObjectJson</strong>: İşlem sonrası objenin tüm detaylı JSON gösterimi (genellikle çok uzun olabilir)</li>
            <li><strong>projectId</strong>: İlgili objenin ait olduğu projenin benzersiz kimliği</li>
            <li><strong>className</strong>: İşlemin etkilendiği objenin Apinizer içindeki sınıf/tip adı (örneğin, "ApiProxy")</li>
        </ul>

        <Warning>
            <strong>referenceObjectJson</strong> alanı genellikle çok uzun olabilir. Syslog entegrasyonu açılırken body alanının sadece belirli karaktere kadarının gönderilmesi ayarlanabilmektedir.
        </Warning>

        <h3>Örnek Log Kaydı</h3>

        ```json
        2025-06-11T08:26:11.650Z apinizer_demo Apinizer_demo {
          "id":"68493da280f5de2a3c29c975",
          "principal":"admin",
          "auditEventDate":"2025-06-11T08:26:10.710Z",
          "state":"UPDATED",
          "objectId":"68493bb680f5de2a3c29c609",
          "objectName":"Swagger Petstore Documentation",
          "referenceObjectJson":"{ \"id\": \"68493bb680f5de2a3c29c609\", \"name\": \"Swagger Petstore Documentation\", \"type\": \"REST\", ... }",
          "projectId":"68493b6e80f5de2a3c29c5ee",
          "className":"ApiProxy"
        }
        ```
    </Tab>
</Tabs>
