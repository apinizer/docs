---
title: "Pod Thread Sayısının Periyodik İzlenmesi"
description: "Apinizer pod'larının thread sayılarını periyodik olarak izleyerek performans sorunlarını erken tespit eder ve sistem kaynak kullanımını optimize eder."
---

## İzleme Yöntemleri

<Tabs>
    <Tab title="kubectl ile İzleme">
        `kubectl` komutunu kullanarak pod içindeki thread sayısını görüntüleyebilirsiniz:

        ```bash
        # Pod içindeki thread sayısını görüntüleme
        kubectl exec <pod-name> -- ps -eLf | wc -l

        # Thread detaylarını görüntüleme
        kubectl exec <pod-name> -- jstack <pid>
        ```

        <Tip>
            `<pod-name>` yerine izlemek istediğiniz pod'un adını, `<pid>` yerine ise Java process ID'sini yazın. Process ID'yi `kubectl exec <pod-name> -- ps aux | grep java` komutu ile bulabilirsiniz.
        </Tip>
    </Tab>

    <Tab title="Prometheus Metrikleri">
        Prometheus metrikleri ile thread sayılarını izleyebilirsiniz:

        <ul>
            <li><strong>jvm_threads_current</strong>: Mevcut thread sayısı</li>
            <li><strong>jvm_threads_peak</strong>: Peak thread sayısı</li>
            <li><strong>jvm_threads_daemon</strong>: Daemon thread sayısı</li>
        </ul>

        <Note>
            Bu metrikler Grafana dashboard'larında görselleştirilebilir ve alert kuralları oluşturulabilir.
        </Note>
    </Tab>

    <Tab title="Otomatik İzleme Scripti">
        Periyodik izleme için otomatik script oluşturabilirsiniz:

        ```bash
        #!/bin/bash
        POD_NAME="<pod-name>"
        INTERVAL=60  # saniye cinsinden

        while true; do
          echo "$(date): Thread count: $(kubectl exec $POD_NAME -- ps -eLf | wc -l)"
          sleep $INTERVAL
        done
        ```

        <Warning>
            Script'i çalıştırmadan önce `POD_NAME` değişkenini güncelleyin ve gerekli izinlerin olduğundan emin olun.
        </Warning>
    </Tab>
</Tabs>

## İlgili Kaynaklar

<CardGroup cols={2}>
  <Card title="İzleme Bileşeni" icon="chart-line" href="/tr/apinizer-anlama/temel-bilesenler/izleme-bileseni">
    Apinizer izleme bileşeni ve özellikleri
  </Card>
  <Card title="Performans Tuning" icon="gauge-high" href="/tr/operasyon/performans-tuning/jvm-tuning">
    Sistem performans optimizasyonu kılavuzları
  </Card>
</CardGroup>
