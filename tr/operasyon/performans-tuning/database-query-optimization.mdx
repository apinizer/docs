---
title: "Veritabanı Sorgu Optimizasyonu"
description: "Apinizer platformunda veritabanı sorgu optimizasyonu ve performans iyileştirmeleri ile ilgili bilgileri sağlar. Sorgu indeksleme, sorgu planlarının analizi, N+1 sorgu probleminin çözülmesi, batch işlemlerinin kullanılması ve connection pooling optimizasyonu gibi teknikleri uygulayabilir."
---

## Veritabanı Sorgu Optimizasyonu

Veritabanı sorgu optimizasyonu, API performansını doğrudan etkileyen kritik bir faktördür.

<CardGroup cols={2}>
  <Card title="Sorgu İndeksleme" icon="list-ol">
    Veritabanı indekslerinin oluşturulması ile sorgu performansının artırılması
  </Card>
  <Card title="Sorgu Planı Analizi" icon="chart-line">
    Sorgu planlarının gözden geçirilmesi ve optimizasyonu
  </Card>
  <Card title="N+1 Sorgu Problemi" icon="bug">
    N+1 sorgu probleminin tespit edilmesi ve çözülmesi
  </Card>
  <Card title="Batch İşlemleri" icon="layer-group">
    Toplu işlemlerin kullanılması ile performans iyileştirmesi
  </Card>
</CardGroup>

## Optimizasyon Teknikleri

### Sorgu İndeksleme

Veritabanı indekslerinin oluşturulması, sorgu performansını önemli ölçüde artırır:

- **Primary Key İndeksleri**: Otomatik olarak oluşturulan birincil anahtar indeksleri
- **Secondary İndeksleri**: Sık kullanılan sorgu alanları için ikincil indeksler
- **Composite İndeksleri**: Birden fazla alan içeren bileşik indeksler
- **Unique İndeksleri**: Benzersizlik kontrolü için özel indeksler

### Sorgu Planlarının Analizi

Sorgu planlarının gözden geçirilmesi, yavaş sorguların tespit edilmesini sağlar:

- **Explain Plan**: Sorgu yürütme planının görüntülenmesi
- **Execution Statistics**: Sorgu yürütme istatistiklerinin analizi
- **Index Usage**: İndeks kullanımının kontrol edilmesi
- **Full Table Scan**: Tam tablo taramasının tespit edilmesi

### N+1 Sorgu Probleminin Çözülmesi

N+1 sorgu probleminin çözülmesi, gereksiz sorgu sayısını azaltır:

- **Eager Loading**: İlişkili verilerin önceden yüklenmesi
- **Batch Loading**: Toplu veri yükleme işlemleri
- **Join İşlemleri**: İlişkili verilerin birleştirilmesi
- **Subquery Optimizasyonu**: Alt sorguların optimize edilmesi

### Batch İşlemlerinin Kullanılması

Batch işlemlerinin kullanılması, veritabanı round-trip sayısını azaltır:

- **Bulk Insert**: Toplu ekleme işlemleri
- **Bulk Update**: Toplu güncelleme işlemleri
- **Bulk Delete**: Toplu silme işlemleri
- **Transaction Batching**: İşlem gruplarının toplu yürütülmesi

### Connection Pooling Optimizasyonu

Connection pool ayarlarının optimize edilmesi, bağlantı yönetimini iyileştirir:

- **Pool Size**: Havuz boyutunun trafik hacmine göre ayarlanması
- **Connection Reuse**: Bağlantıların yeniden kullanılması
- **Connection Timeout**: Bağlantı bekleme sürelerinin optimize edilmesi

<Steps>
  <Step title="Yavaş Sorguları Tespit Etme">
    Veritabanı loglarını ve sorgu istatistiklerini analiz ederek yavaş sorguları tespit edin.
  </Step>
  <Step title="Sorgu Planlarını İnceleme">
    Explain plan kullanarak sorgu yürütme planlarını inceleyin ve optimizasyon fırsatlarını belirleyin.
  </Step>
  <Step title="İndeks Oluşturma">
    Sık kullanılan sorgu alanları için uygun indeksler oluşturun.
  </Step>
  <Step title="N+1 Problemini Çözme">
    Eager loading veya batch loading kullanarak N+1 sorgu problemini çözün.
  </Step>
  <Step title="Batch İşlemleri Uygulama">
    Toplu işlemler kullanarak veritabanı round-trip sayısını azaltın.
  </Step>
  <Step title="Performans Testi">
    Optimizasyon sonrası performans testleri yaparak iyileştirmeleri doğrulayın.
  </Step>
</Steps>

<Info>
Veritabanı sorgu optimizasyonu, API performansını doğrudan etkilediği için düzenli olarak sorgu performansını izlemek ve optimize etmek kritik öneme sahiptir.
</Info>

## İlgili Konular

<CardGroup cols={2}>
  <Card title="Connection Pooling" icon="plug" href="/tr/operasyon/performans-tuning/connection-pooling">
    Bağlantı havuzu optimizasyonu
  </Card>
  <Card title="Cache Strategy" icon="clock" href="/tr/operasyon/performans-tuning/caching-strategy">
    Cache stratejileri
  </Card>
  <Card title="JVM Tuning" icon="memory" href="/tr/operasyon/performans-tuning/jvm-tuning">
    JVM ayarları ve optimizasyonu
  </Card>
  <Card title="Operasyon Genel Bakış" icon="list" href="/tr/operasyon/genel-bakis">
    Operasyon bölümü genel bakış
  </Card>
</CardGroup>
