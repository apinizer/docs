---
title: "Çalışma Süresini İzleme Kullanımı"
description: 'Çalışma Süresini İzleme Kullanımı'
---

*   *   *   *   * 

  * [Apinizer Dokümantasyonu](/apinizer-dokumantasyonu/apinizer-dokuemantasyonuna-hos-geldiniz-1179695.html)
  * [Senaryolar (Tutorials)](/apinizer-dokumantasyonu/senaryolar-tutorials-16812800.html)
  * [API İzleme Senaryoları](/apinizer-dokumantasyonu/api-izleme-senaryolari-26348142.html)
  * Current: Çalışma Süresini İzleme Kullanımı

# Çalışma Süresini İzleme Kullanımı

Çalışma Süresi İzleme (Uptime Monitor) ile verilen başlangıç ve bitiş süresince belirli aralıklarla enpoint'e istek gönderilerek ayakta olup olmadığına bakılır.

Eğer endpointe istek görderirken hata alma veya beklenen doğrulama kriterlerinin gerçekleştirmemesi gibi bir hata ile sonuçlanmışsa eylemler (actions) tanımlanabilir. Eylemler bizim hata durumunda aldığımız verileri kullanarak süreçten haberdar olmayı sağlar.

Bu içerikte, aynı projede var olan **Petstore API Proxy** 'sine ait **/findByStatus** enpoint'inin çalışma süresi izlenecektir. Sırasıyla; mevcut API Proxy'yi seçme, enpoint'i test etme, eylem tanımlama, iş zamanlayıcısı oluşturma ve işin detaylarını/loglarını inceleme işlemleri anlatılmaktadır.

### Çalışma Süresinin Genel Tanım Bilgilerinin Oluşturulması 

İlk aşamada işin tanımlayıcı bilgileri girilir. Buradaki en önemli alan **ENABLED** seçeneğidir. Bu seçenek kapatıldığında, işin çalıştırması askıya alınır. 

![](/apinizer-dokumantasyonu/files/26348144/26351224/1/1639048557334/image2021-12-9_14-15-57.png)

  

### İsteğin Tanımlanması

İsteği oluşturmak için birçok yol bulunur;

  * **Select From Collection** linki üzerinden kayıt Test Konsoluna kayıt edilmiş isteklerden seçim yapılabilir.
  * Manuel olarak istek bilgileri oluşturabilir.
  * İstek oluşma butonuna tıklanarak platformda kayıtlı olan API Proxy ya da API Proxy Grup içinden seçim yapılabilir. Ya da API Tanım Belgeleri tiplerinden birini seçip bir tanım dosyası ayrıştırılarak istek oluşturulabilir.

![](/apinizer-dokumantasyonu/files/26348144/26351243/1/1639049897214/image2021-12-9_14-38-16.png)

  

#### İsteği Teyit Etme

Eğer istekte zaman aşım süresi (timeout), durum kodu (status code), yanıtın gövdesi, XPath/JSONPath üzerinden yanıt gövdesini belirli bir değer doğrulaması yapılabilir. Bu özellikleri yönetmek için isteğin **Teyit (Assertions)** tabına gidilir. 

Eğer bu teyitlerdeki doğrulama işlemi karşılanması işlem sonucu **hatalı (failure)** olarak değerlendirilir.

Bu örnek üzerinde yanıtın durum kodunun 200 olması beklendiği için aşağıdaki doğrulama kriteri isteğe uygulanır.

![](/apinizer-dokumantasyonu/files/26348144/26351239/1/1639049713862/image2021-12-9_14-35-13.png)

  

Eğer istekte gönderilmesi gereken sertifika varsa ya da zaman aşımı süresi (timeout) eklenecek ise **Settings (Ayarlar)** tabına gidilir.

### **İsteği Test Etme**

**Gönder (Send)** tuşuna basılarak istek test edilebilir. Testin sonucu **Yanıt (Response)** bölümünde görüntülenir.

![](/apinizer-dokumantasyonu/files/26348144/26351244/1/1639049995017/image2021-12-9_14-39-54.png)

  

![](/apinizer-dokumantasyonu/_/05BD9F48017A5D1E2319A7812864C3E5/1699865923290/images/common/info-macro-icon.svg)

İsteğe bağlı olarak, **Yeniden Dene (Retry)** bölümünde başarısız bir yanıt alındığında isteğin yeniden gönderilip denenmesi ve iki istek arasındaki gecikme süresi için ayarlar yapılır. 

**![](/apinizer-dokumantasyonu/files/26348144/26351262/1/1639050312405/image2021-12-9_14-45-12.png)**

### Eylem Tanımlama

Bu içerikte hata alındığında eposta gönderilmesi için ilgili eylem ayarları yapılmaktadır.

Aşağıdaki resimde, hatanın alındığı zaman, istek adresi ve hata mesajına dair işin sonucu içeren eposta gönderme eylemi anlatılmaktadır.

![](/apinizer-dokumantasyonu/files/26348144/75794960/1/1689775727753/image2023-7-19_16-8-47.png)

![](/apinizer-dokumantasyonu/_/05BD9F48017A5D1E2319A7812864C3E5/1699865923290/images/common/info-macro-icon.svg)

Eylem çeşitleri, eylemin kullanımı ve görev içindeki değişkenler ile bilgi almak için [tıklayınız.](/apinizer-dokumantasyonu/eylemler-konnektoerler-actions-connectors-26350720.html)

#### Eylemin Sonucu

Eylem hatalı çalıştığında mail alıcıları aşağıda yer alan görseldeki içerikle karşılaşır.

![](/apinizer-dokumantasyonu/files/26348144/26351287/1/1639053647422/image2021-12-9_15-40-47.png)

  

### İş Zamanlayıcısı Oluşturma

Tanımlanan iş manuel ya da cron tanımı üzerinden tetiklenerek çalıştırılabilir.

Bu içerikteki iş tanımı 1 saat aralıklarla çalıştırılacak şekilde ayarlandığından, aşağıdaki bilgiler görülür.

![](/apinizer-dokumantasyonu/files/26348144/26351288/1/1639053904390/image2021-12-9_15-45-4.png)

  

![](/apinizer-dokumantasyonu/_/05BD9F48017A5D1E2319A7812864C3E5/1699865923290/images/common/info-macro-icon.svg)

Her iş çalıştığında log kaydı oluşturulur. Saklama (retention) değerine göre, bu log kayıtları veri tabanında tutulmaya devam eder.

![](/apinizer-dokumantasyonu/files/26348144/26351289/1/1639054348743/image2021-12-9_15-52-27.png)

### İşin Detaylarını İnceleme

Eğer bir hata alındıysa bunun sebebinin bulunmak gerekli olabilir ya da süreç ile ilgili genel log kayıtlarını incelenmek ve üzerinde filtreleme yapılmak istenirse, monitör kaydının detay sayfasına gidilmelidir.

İlgili log kaydındaki detay ikonuna tıklanarak detaylı bilgi alınabilir.

![](/apinizer-dokumantasyonu/files/26348144/26351291/1/1639054734743/image2021-12-9_15-58-53.png)

  

×