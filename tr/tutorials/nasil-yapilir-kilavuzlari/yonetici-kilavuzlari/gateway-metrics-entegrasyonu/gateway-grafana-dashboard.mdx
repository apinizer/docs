# Apinizer Gateway için Grafana Üzerinde Örnek Dashboardlar

Grafana Kurulumu ve Veri Kaynağı Olarak Prometheus Entegrasyonu için [ilgili dökümanımıza göz atabilirsiniz](/apinizer-dokumantasyonu/grafana-kurulumu-ve-veri-kaynagi-olarak-prometheus-entegrasyonu-126910830.html).

## Panel 1: İsteklerin Türüne Göre Toplam API İstek Hacmi

**PromQL Sorguları:**

- A: `sum(rate(apinizer_api_traffic_total_count_total[5m]))`
- B: `sum(rate(apinizer_api_traffic_success_count_total[5m]))`
- C: `sum(rate(apinizer_api_traffic_error_count_total[5m]))`

**Görselleştirme:** Timeseries

## Panel 2: En Yüksek Trafik Hacmine Sahip API'ler

**PromQL Sorguları:**

- A: `topk(5, sum by (api_name) (increase(apinizer_api_traffic_total_count_tagged_total[100m])))`

**Görselleştirme:** Bar gauge veya Bar chart

## Panel 3: API İşlem Süreleri Detayı:

**PromQL Sorguları:**

- A: `sum(rate(apinizer_api_traffic_request_pipeline_time_seconds_sum[5m])) / sum(rate(apinizer_api_traffic_request_pipeline_time_seconds_count[5m])) * 1000`
- B: `sum(rate(apinizer_api_traffic_routing_time_seconds_sum[5m])) / sum(rate(apinizer_api_traffic_routing_time_seconds_count[5m])) * 1000`
- C: `sum(rate(apinizer_api_traffic_response_pipeline_time_seconds_sum[5m])) / sum(rate(apinizer_api_traffic_response_pipeline_time_seconds_count[5m])) * 1000`

**Görselleştirme:** Timeseries

## Panel 4: Ortalama İstek / Yanıt Boyutu:

**PromQL Sorguları:**

- A: `sum(rate(apinizer_api_traffic_request_size_bytes_sum[5m])) / sum(rate(apinizer_api_traffic_request_size_bytes_count[5m]))`
- B: `sum(rate(apinizer_api_traffic_response_size_bytes_sum[5m])) / sum(rate(apinizer_api_traffic_response_size_bytes_count[5m]))`

**Görselleştirme:** Timeseries

## Panel 5: Pod'ların CPU Kullanımı:

**PromQL Sorguları:**

- A: `sum(system_cpu_usage{pod=~".*"}) by (pod) * 100`

**Görselleştirme:** Gauge
