# Apinizer Syslog Entegrasyonu

## Sıkça Sorulan Sorular ve Cevapları

### Soru 1: Apinizer'da loglama mekanizması kaç ana kategoriye ayrılmaktadır?

Apinizer'da loglama temel olarak iki ana kategoriye ayrılır:

- **Trafik Logları**: Apinizer üzerinden geçen tüm API trafik bilgilerini içerir ve varsayılan olarak **Elasticsearch** uygulamasına kaydedilir.
- **Sistem Logları (Denetim & Uygulama)**: Sistemle ilgili işlemleri ve olayları kaydeder. Bunlar varsayılan olarak **MongoDB** veritabanına atılır.

### Soru 2: Sistem Logları kendi içinde hangi alt kategorilere ayrılır ve hangileri Syslog aracılığıyla harici sistemlere gönderilebilir?

Sistem Logları kendi içinde beş alt kategoriye ayrılır. Bunlardan üçü Syslog üzerinden harici bir ürüne gönderilebilir:

- **Audit Log (Sistem Üzerindeki İşlemler)**: Apinizer management uygulamasında yapılan değişiklikler ve işlemlerle ilgili loglardır.
- **Token Log**: Apinizer'ın token sağlayıcı olarak kullanılması durumunda, token alımıyla ilgili logları içerir.
- **Application Log**: Apinizer uygulamalarının/modüllerinin yazılımsal loglarıdır. Varsayılan olarak hata (Error) seviyesinde tutulur ve kullanıcılar ihtiyaca göre seviyesini değiştirebilir.
- **Test Konsol Denetimi**: Apinizer management uygulaması arayüzündeki Test Konsol kullanımı ile ilgili denetim loglarıdır. Harici olarak syslog ürünlerine gönderilmemektedir.
- **Giriş (Login) Denetimi**: Apinizer management uygulaması arayüzüne yapılan başarılı ve başarısız giriş işlemlerinin log kayıtlarıdır. Harici olarak syslog ürünlerine gönderilmemektedir.

### Soru 3: QRadar gibi bir SIEM ürününe log gönderirken yaşanan zorluklar nelerdir?

JSON formatındaki loglarda ilgili parametrelerin bir parser yazılarak ayrıştırılması ve bu şekilde tutulması gerekmektedir. Bu yüzden Apinizer ürünü yöneten/kullanan veya web servislere hakim olan kişilerle birlikte çalışılarak kurum için önemli alanların birlikte belirlenmesi gerekmektedir.

Bazı kullanımlarda tek seferde alınabilecek log kaydının uzunluğu da sorun olabilmektedir. Bu gibi durumlarda syslog entegrasyonu açılırken body alanının sadece belirli karaktere kadarının gönderilmesi de ayarlanabilmektedir.

### Soru 4: Syslog üzerinden gelecek Sistem Denetim logları, Kullanıcı Denetim loglarını karşılamakta mıdır? Aralarında ne gibi farklılıklar bulunmaktadır?

Hayır, Syslog üzerinden gönderilebilen **Sistem Denetim logları** ile bahsedilen **Kullanıcı Denetim logları** farklı içeriktedir:

- **Sistem Denetim Logları**: "Kim hangi sayfada ne iş yaptı" yani sistem üzerindeki yapılan değişikliklerle ilgili genel loglardır.
- **Kullanıcı Denetim Logları**: Bu tanımda ayrı bir "kullanıcı denetimi" logu harici olarak bulunmamaktadır. Genellikle kullanıcı odaklı denetimler, **Giriş (Login) Denetimi** ve **Test Konsol Kullanımı Denetimleri** gibi özel kategori logları altında ele alınır ve bunlar şu an için harici bir uygulamaya gönderilmemektedir.

## Api Trafik ve Sistem Loglarının Syslog'a Aktarılması ve Log Template'leri

İlk olarak Syslog bağlantı ayarlarının yapılması gerekmektedir bu bağlantı ayarları için [Syslog dökümanına](/apinizer-dokumantasyonu/syslog-39741367.html) göz atabilirsiniz.

Apinizer trafik loglarının syslog'a aktarım ayarları için [bu sayfayı](/apinizer-dokumantasyonu/apinizer-trafik-loglarinin-syslog-a-aktarilmasi-138117525.html) ziyaret edebilirsiniz.

Apinizer sistem loglarının syslog'a aktarım ayarları için [bu sayfayı](/apinizer-dokumantasyonu/apinizer-sistem-loglarinin-syslog-ile-aktarilmasi-138117529.html) ziyaret edebilirsiniz.
