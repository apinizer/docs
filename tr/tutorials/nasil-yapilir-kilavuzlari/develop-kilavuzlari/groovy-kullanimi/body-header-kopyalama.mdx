---
title: Body'de Gelen Değeri Header Alanına Kopyalama
description: "Groovy script ile request body'den gelen access_token değerini alarak Authorization header'ına Bearer token olarak ekleme işlemi"
---

## Groovy Script

```groovy
import java.lang.String

int start=requestBodyTextFromClient.indexOf("access_token")+16
int end=requestBodyTextFromClient.indexOf("\"",start+1)
String token=requestBodyTextFromClient.substring(start,end)
requestHeaderMapToTargetAPI.put("Authorization", "Bearer " + token)
```

## Açıklama

Bu script şu işlemleri gerçekleştirir:

1. **Token Bulma**: Request body'den `access_token` alanı bulunur
2. **Token Çıkarma**: Token değeri çıkarılır
3. **Header Ekleme**: Authorization header'ına Bearer token olarak eklenir

<Note>
Bu script, request hattında (Request Policy) çalıştırılmalıdır çünkü `requestBodyTextFromClient` ve `requestHeaderMapToTargetAPI` değişkenlerini kullanmaktadır.
</Note>
