---
title: Custom Variable Map Kullanarak Değişken İçeriğe Göre Business Rule Uygulaması
---

Bu senaryoda, Apinizer üzerinde bir Mock API oluşturulacak. Yapılacak istekte, script kullanarak **customVariableMap** değişkenine **stop=true** değeri eklenecektir.

Sonraki aşamada, bir **Business Rule** politikası eklenerek **customVariableMap** içindeki değer kontrol edilecektir. Eğer bu değer **stop=true** ise, isteğin **backend'e gitmesi engellenecektir**

Add policy üzerinden politikaları ekleyelim.

Politika olarak **Script** ve **Business Rule** ekliyoruz.

**Script** politikasında **Groovy** dilini seçerek, customVariableMap değerine stop=true atanacaktır.

Business Rule politikasında belirlediğimiz **stop** aksiyonunu seçelim.

**Conditions** alanından **"'Custom Variable'"** seçiniz ve name alanına **stop** yazınız ve kaydediniz.

Aşağıda eklediğiniz kural ile birlikte, eğer **customVariableMap** içindeki değer **"'true'"** ise istek backende iletilmeyecektir.

Aşağıdaki konsol üzerinden test işlemi gerçekleştirildiğinde, isteğin durdurulduğunu belirten bir yanıt mesajı dönmektedir.
