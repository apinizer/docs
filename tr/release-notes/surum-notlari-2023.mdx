---
title: "Sürüm Notları 2023"
description: "Bu sayfa, Apinizer platformunun 2023 yılında yayınlanan tüm sürümlerinin release notlarını içerir. Her sürüm için yeni özellikler, değişiklikler, düzeltmeler ve migration notları detaylı olarak listelenmiştir."
---

2023 yılında Apinizer platformu önemli güncellemeler ve yeni özelliklerle geliştirildi. Bu yıl içinde yapılan tüm değişiklikler aşağıda listelenmiştir.

## Sürüm 2023.08.1

**Yayınlanma Tarihi: 28 Temmuz 2023**

<Warning>
    Bu sürümde belirtilen değişiklik sebebiyle güncelleme sırasında Veri tabanında aşağıdaki komut çalıştırılmalıdır:

    MongoDB v6.0 ve sonrası için:

    mongosh "mongodb://MONGOIPADDRESS:25080/apinizerdb" --eval 'db.getSiblingDB("admin").auth("apinizer", "MONGODBPASSWORD"); db.getSiblingDB("apinizerdb").apinizer_log.drop();'

    MongoDB v6.0 öncesi için:

    mongo "mongodb://MONGOIPADDRESS:25080/apinizerdb" --eval 'db.getSiblingDB("admin").auth("apinizer", "MONGODBPASSWORD"); db.getSiblingDB("apinizerdb").apinizer_log.drop();'
</Warning>

<Warning>
    Bu sürümde belirtilen değişiklik sebebiyle güncelleme sırasında cache deployment'ına aşağıdaki girdi eklenmelidir:

    - name: CACHE_SERVICE_NAME
      value: cache-http-service.ENVIRONMENTNAME.svc.cluster.local
</Warning>

<span style={{ display: 'inline-block', backgroundColor: '#bfdbfe', color: '#1e40af', padding: '0.25rem 0.75rem', borderRadius: '9999px', fontSize: '0.875rem', fontWeight: '500' }}>ÖNEMLİ DEĞİŞİKLİKLER VE İYİLEŞTİRMELER</span>

- Worker'ın log seviyesinin environment variable ile ilk değer ataması yapılabilmesi sağlandı. Ayrıca bu issue ile MongoDB üzerinde tutulan uygulama loglarının 1 saatlik time to live değeri kaldırılarak sınırsız hale getirilmiştir.

- Public Key, Secret Key ve Sertifikadan JWK oluşturulması sağlandı.

- API Entegratörü kapsamında çalışan tüm görevler üzerinde iyileştirmeler yapıldı; Görevleri aktifleştir/devre dışı bırakma alanı eklendi, loop tipindeki görevlerin söz dizimi alanına varsayılan parametre değerini ekleyebilme butonu getirildi, değişken ekleme listesi iyileştirildi ve Çıktı Anahtarı alanı eklendi.

- API Proxy Şablonu ekranına Yönlendirme bazındaki çalışan Bağlantı Ayarları ve Log Ayarları seçenekleri getirildi.

- Günlük olarak Kota politikasının sıfırlanması UTC'ye göre değil yerel time zone'a göre olması sağlandı.

- Anomali Dedektör'ün çalışma mantığı güncellendi ve ekranın kullanıcı deneyimi iyileştirildi.

- Veri Tabanı ve LDAP bağlantı tanımlarının ortam bazında test edilmesi sağlandı.

- API Proxy, API Proxy Grup ve Proje bazında, relative path'in biricik olma doğrulaması kaldırılarak, environment bazında biricik olması sağlandı.

- Ağ Geçidi Ortamı ekranlarının kullanıcı deneyimi iyileştirildi.

- API Proxy'e Backend API versiyonunu metadata alanı eklendi ve Deployment History'sinde bu bilgi gösterildi.

- API Proxy'nin yönlendirme bölümü üzerinden bağlantı havuzu (connection pool) ayarının özelleştirilebilmesi sağlandı.

- Tüm rapor ekranları Raporlar menüsü altında toplandı.

<span style={{ display: 'inline-block', backgroundColor: '#e65a2a', color: '#ffffff', padding: '0.25rem 0.75rem', borderRadius: '9999px', fontSize: '0.875rem', fontWeight: '500' }}>HATA DÜZELTMELERİ</span>

**APNZ-3355** : Projede API Proxy Şablonu üzerinde Basic Kimlik Doğrulama politikası eklenildiğinde hata fırlatıyor.

**APNZ-3551** : API Integration'da görev ekleme sırasında hatalar alınıyor; Bildirim görevinde başka bir sayfadan kullanıcı seçilmiyor, kaydedilmiyor ve görevi çalıştırma tipi bulunmuyor, Zorunlu alanlar girilmeden görevler eklenebiliyor, Bir görev eklendikten sonra başka bir görev eklenmiyor.

**APNZ-3563** : Anahtar-Değer çifti aracılığıyla oluşturulmuş veri tabanı bağlantısı ile oluşturulan Db2Api test edildiğinde bağlantı hatası alınıyor.

**APNZ-3589** : Kimlik bilgisinde yer alan JWK ayarlarına ait form hatalı çalışıyor.

**APNZ-3593** : Alert, Çalışma Süresi Monitörü, Anomali Detektörü ve API Entegratör'e ait işler, Zamanlanmış İşler (Scheduled Jobs) sayfasında listelenmiyor.

**APNZ-3594** : API Çağrısı politikasının Bellek sekmesindeki girdilerde zorunluluk kontrolü çalışmıyor.

**APNZ-3612** : API Proxy güncelleme ekranındaki Proxy Client Id ve Client Secret değerleri güncellenmiyor.

**APNZ-3618** : Ağ Geçidi Ortamı ekranında Host Alias değerleri boş girilebiliyor.

**APNZ-3621** : Veri tabanı yedeklemesi zamanlanmış bir görev olarak tanımlandığında bağlantı hatası veriyor.

**APNZ-3622** : Kafka bağlantısı manuel kapatılmasına rağmen Kafka'ya istek gitmeye devam ediyor.

**APNZ-3623** : Çalışma Süresi Monitöründe, hata içeren log sonuçlarında hata mesajları görünmüyor.

**APNZ-3624** : Veri tabanı yedeklemesine ait zamanlama silinemiyor.

**APNZ-3625** : API Proxy Trafiği ekranındaki gelişmiş filtreleme yapıldığında, başlık ve parametre alanlarına ait sonuçlar tam çalışmıyor.

**APNZ-3637** : Mock API'ye tek başlık değeri üzerinden istek gönderildiği halde, isteğin loguna bakıldığında bu değerin çift olduğu görülüyor.

**APNZ-3647** : Çalışma Süresi Monitörü, scheduled olarak çalışırken 525 kodlu TLS hatası alabiliyor.

**APNZ-3648** : API Entegratörü'nde, veri tabanı tipindeki görev hata fırlatıyor.

**APNZ-3657** : application/x-www-form-urlencoded ile url parametresinde gelen veri, manipüle edip backend'e iletilmek istendiğinde problem ile karşılaşılıyor.

**APNZ-3658** : Belirlenen Ön Bellek kapasitesi aşıldığı zaman FILO değil FIFO prensibine göre ön belleğe alınmış verilerden yanlış olanı ön bellekten çıkartılıyor.

**APNZ-3663** : API Proxy Trafik'i ekranında Today filtrelemesi 03.00'dan itibaren olan logları listeliyor.

**APNZ-3666** : İçe aktarılan Çalışma Süresi Monitörü hata fırlatıyor.

**APNZ-3673** : Form Data tipindeki değişken ile çeşitli politikalarda yapılan insert işlemlerinde key değeri null geliyor.

**APNZ-3685** : Ağ Geçidi Ortamı ekranında bir defa proje/projeler seçilirse, tekrar hepsi kaldırıldığında tüm projelerde ortam aktif olmuyor.

**APNZ-3687** : API Entegratörü modülünde, çalışma tipi loop olan ve Db2Api cinsinde olan bir API'ye, API Çağrısı görevi ile istek gönderildiğinde hata alınıyor.

**APNZ-3689** : Kimlik bilgisine kota verildiğinde ve limite ulaşıldığında, JWT token alımı da engelleniyor.

**APNZ-3694** : API Proxy deploy edilirken, Hassas Veri Yönetimi ayarıyla ilgili alınan hata alınıyor.

**APNZ-3695** : Genel ayarlarda Kafka, Rabbit vs. açık olmasına rağmen Api Proxy Log Settings ayarlarında bu alanlar gözükmüyor.

**APNZ-3716** : API Çağrı politikasından gelen bir alan, orijinal mesaja eklemek istendiğinde sorun yaşanıyor.

**APNZ-3725** : Bir API Proxy üzerinde 2 tane kimlik doğrulama politikası kullanıldığında, ilk politika devre dışı ise hata alınıyor.

**APNZ-3726** : HTTP Get metodu x-www-formurlencoded verisi ile istek yapılırsa log'da görünmüyor.

**APNZ-3728** : API Çağrısı politikasında form data gönderimi, data manipulation ile yapıldığında ilk gönderilen istek ön belleğe alınıyor.

**APNZ-3739** : Genel Bakış ekranındaki grafiklerde sayılar değişiyor ama grafikler değişmiyor.

**APNZ-3747** : Anahtar Değer çiftinde ortam bazında aynı anahtar değeriyle değişken oluşturuluyor.

**APNZ-3748** : Zamanlanmış İşler'de manuel olarak cron değeri girilemiyor.

**APNZ-3769** : REST-to-SOAP dönüşümünde Body alanı da dönüşüme dahil ise Body alanının namespace'i XML'e eklenmiyor.

## Sürüm 2023.06.1

**Yayınlanma Tarihi: 7 Haziran 2023**

<span style={{ display: 'inline-block', backgroundColor: '#86efac', color: '#056d4f', padding: '0.25rem 0.75rem', borderRadius: '9999px', fontSize: '0.875rem', fontWeight: '500' }}>YENİ ÖZELLİK</span>

- ### Manuel Kubernetes Yönetimi

Ön tanımlı olarak, Gateway ve Cache sunucuların Kubernetes üzerinde tanımlanması ve yönetilmesi Apinizer üzerinden yapılmaktadaydı. Bu sürüm ile birlikte sadece ilgili metadata tanımlamalarını yapılması ile mevcut Kubernetes kümelerinin manuel olarak yönetilebilmesine imkan sağlandı. Böylece kubernetes ortamlarının Apinizer yönetim konsolu üzerinden yönetim zorunluluğu isteğe bağlı hale getirilmiş oldu.

- ### Personal API Access Token Oluşturma

Personal API Access Token, Apinizer Management API'ye erişim sürecinde şifre yerine kullanıcının kimliğini doğrulamak için kullanılan jeton bilgisidir. Yönetim konsoluna giriş yapan kullanıcı tarafından kendisine özel olarak üretilmektedir.

- ### Deployment Geçmişine göre API Proxy'i Geri Yükleme

API Proxy deployment geçmişi üzerinden önceki revizyonuna (deploy edilmiş haline) geri yüklenebilir.

<span style={{ display: 'inline-block', backgroundColor: '#bfdbfe', color: '#1e40af', padding: '0.25rem 0.75rem', borderRadius: '9999px', fontSize: '0.875rem', fontWeight: '500' }}>ÖNEMLİ DEĞİŞİKLİKLER VE İYİLEŞTİRMELER</span>

- Job sonuçlarının görüntülendiği ekranlardaki tarih filtreleme alanlarının kullanıcı deneyimi iyileştirildi.

- Genel Ayarlar ekranının kullanıcı deneyimi iyileştirildi.

- ApiOps'a eklenen API Proxy kaydet ve güncelle metodu ile birlikte API Proxy yoksa kayıt eklemesi, varsa güncellemesi sağlandı.

- ApiOps API'sinde API Proxy kaydet/güncelle işlemlerinde eğer istek mesajında varsa kayıt işlemi sonrası deploy edilmesi ve ayıt işleminde routing bilgilerinin de ayarlanabilmesi sağlandı.

<span style={{ display: 'inline-block', backgroundColor: '#e65a2a', color: '#ffffff', padding: '0.25rem 0.75rem', borderRadius: '9999px', fontSize: '0.875rem', fontWeight: '500' }}>HATA DÜZELTMELERİ</span>

**APNZ-3434** : Environment bilgisi güncellendiğinde, podların durumu güncellenmiyor.

**APNZ-3602** : API Proxy silindiğinde buna bağlı tüm monitor bilgileri siliniyor ama eğer scheduled job'ları varsa unschedule edilmiyor.

**APNZ-3608** : DB2API ile oluşturulan API Proxy'e istek yapıldığında, veri tabanı bağlantısına ait hata mesajı doğru gözükmüyor.

**APNZ-3636** : API Proxy ekranındaki Routing sekmesinde, birden fazla Routing adresi varsa, API Trafik loglarında en son gidilen adres yerine hep ilk adres yazıyor.

## Sürüm 2023.05.1

**Yayınlanma Tarihi: 18 Mayıs 2023**

<Warning>
    Bu sürümde veri tabanında tutulan hassas verilerin şifreleme yönteminde yükseltme yapıldığından güncelleme yapılmadan önce veri tabanının yedeğinin alınması önemle tavsiye edilmektedir.
</Warning>

<span style={{ display: 'inline-block', backgroundColor: '#86efac', color: '#056d4f', padding: '0.25rem 0.75rem', borderRadius: '9999px', fontSize: '0.875rem', fontWeight: '500' }}>YENİ ÖZELLİK</span>

- ### SNMP Bağlantısı Konfigürasyonu Tanımlama

Apinizer üzerinden SNMP protokolünü destekleyen izleme araçlarına veri gönderilebilmesi için SNMP bağlantı tanımları yapılabilir.

- ### SNMP ile Eylem Oluşturma

SNMP Bağlantı tanımları kullanılarak oluşan eylemlerdeki verilerin izleyici sistemlere gönderilebilmesi sağlanır.

- ### Elasticsearch Loglamasını Tamamen Kapatma

Apinizer varsayılan olarak, loglama sürecini Elasticsearch ile yönetir ve Manager konsolu üzerindeki analitik işlemleri için tüm sorgulamalarını Elasticsearch üzerinde yapar. Eğer istenirse, bu özellik devre dışı bırakılabilir. Devre dışı bırakıldığında, analitik modülünün, bazı politikaların ve monitör özelliklerinden mahrum kalınacağına dikkat edilmelidir.

- ### Kafka Entegrasyonu ile Logların Başka Sisteme Aktarılması

Varsayılan olarak, API Proxy'e gelen ve giden mesajın öğeleri, Elasticsearch üzerinde tutulmaktadır. Kafka Entegrasyonu yapılarak, mesajların kuyruk sistemi üzerinde farklı bir uygulamaya aktarımı gerçekleştirilebilir.

- ### mTLS Kimlik Doğrulama Politikası

mTLS Authentication (Mutual Transport Layer Security Authentication) Politikası, Apinizer tarafında yapılan, kimlik doğrulama yöntemlerinden biridir. Bu yöntem, istemci ve sunucu arasında güvenli bir kanal oluşturmak için kullanılan TLS protokolünün bir türüdür. mTLS Authentication kullanıldığında, Apinizer, gelen isteklerdeki istemcinin sertifikasının geçerliliğini kontrol eder ve belirli bir sertifika otoritesinden geldiğinden emin olmak için güvenilir bir sertifika otoritesi (CA) kullanılmasını sağlar.

- ### İsteğe mTLS Ayarını Uygulama

Routing ayarları üzerinden mTLS konfigürasyonu aktifleştirilebilir. Böylece Apinizer'dan hedef hizmete gönderim yapacak olan Apinizer istemcisi, hedef hizmetin sertifikasını doğrular ve kendisinin de bir sertifikası olduğunu ve hedef hizmet tarafından doğrulanması gerektiğini belirtir. Hedef hizmet de istemcinin sertifikasını doğrular ve bu sayede istemci ile güvenli bir iletişim kurulmuş olur.

- ### Kimlik Bilgisine mTLS Ayarını Uygulama

Eğer Kimlik Bilgisi'nin mTLS Authentication Politikası ile sertifikanın doğrulanabilmesi istenirse, Kimlik Bilgisine ait sertifika yüklemesi yapılabilir.

- ### API Proxy Grup bazında Log Ayarları

API Proxy Grup'a eklenen API Proxy'lere gelen ve giden mesaj bilgileri, mesaj ögelerine (başlık, parametre, gövde) göre Elasticsearch veri tabanında loglanıp loglanmayacağı ya da logların tanımlanmış bir sisteme (Syslog, Webhook, RabbitMQ, Kafka) aktarma ayarları yapılabilir.

<span style={{ display: 'inline-block', backgroundColor: '#bfdbfe', color: '#1e40af', padding: '0.25rem 0.75rem', borderRadius: '9999px', fontSize: '0.875rem', fontWeight: '500' }}>ÖNEMLİ DEĞİŞİKLİKLER VE İYİLEŞTİRMELER</span>

- API Çağrısı politikasının cache özelliğinin çalışması için Api Proxy'e gelen istekte Cache-Control adlı başlığın olup olmamasına değil, istek hattında isteğin API Çağrısı Politikasına geldiği anda Cache-Control adlı başlığa bakılması sağlandı.

- Global politikaların listelendiği ekranlardaki menüye, Dışa Aktar seçeneği eklendi.

- Decryption, Encryption ve Digital Signing politikaları içerisindeki tanımlar düzenlenebilir oldu.

- API Proxy EKL ve API Proxy Grup EKL bilgilerinin listesine hangi projede olduğu bilgisi eklendi.

- Uygulama bazında Sorgu, Filtre ve Rapor Üretici oluşturulması sağlandı.

- (Uygulama bazındaki) Analitik menüsündeki API Proxies ile Genel Bakış (Overview) ekranı, Genel Bakış sayfası üzerinde birleştirildi.

- IP Grup Değerlerini İçe ya da Dışa Aktarma

- Denetim Kayıtları (Audit Records) ekranına Object name ve Keyword bilgilerine göre arama filtreleri eklendi.

- Proje dialogunda arama yapma işlemi iyileştirildi.

- Kimlik Bilgisini İçe ya da Dışa Aktarma

- Veri Tabanı Bağlantı Tanımlarını İçe ya da Dışa Aktarma

- API Integration bölümüne ait detay ekranındaki filtreleme seçenekleri ve tablonun okunması iyileştirildi.

- JOSE Doğrulama ve JOSE Gerçekleştirim politikaları hem istek hem yanıt hattına eklenmesi sağlandı.

- İstek hattına eklenen JOSE Doğrulama politikasının içine yetkilendirme alanları eklendi.

- API Proxy Grup'daki bir politikanın API proxy'e uygulanmayacaksa, uyarı ikonunun gelmesi sağlandı.

- DB2API ile metot oluşturma ayarlarına, JSON verisini işlerken optimize etmek için alanlar eklendi.

- JWK ile üretilen Keypair ya da Keypair Set bilgileri açık şekilde gösterimi düzenlendi.

- Veri tabanında tutulan hassas verilerin şifreleme algoritması yükseltildi.

- Routing'e ait bağlantı ayarlarındaki Error Handling Type özelliğine yeni bir seçenek (Status Code List) eklendi.

- Trafik loglarının dışa aktarımlarında API Proxy'e gelmeyen istekler için log'un aktarımına genel ayarlardan yönetilmesi sağlandı.

<span style={{ display: 'inline-block', backgroundColor: '#e65a2a', color: '#ffffff', padding: '0.25rem 0.75rem', borderRadius: '9999px', fontSize: '0.875rem', fontWeight: '500' }}>HATA DÜZELTMELERİ</span>

**APNZ-3360** : Denetim Kayıtları (Audit Records) sayfasında kaydın detayına girip geri dönüldüğünde filtreler temizleniyor.

**APNZ-3365** : API Proxy sayfasında gelişmiş arama alanlarına göre filtreme yapıldığında sorunlarla karşılaşılıyor.

**APNZ-3366** : Proje bazındaki relative path bilgisi, içe aktarılan API Proxy'e eklenmiyor.

**APNZ-3386** : Projenin Genel Ayarlar sayfasına tıklandığında, çok uzun sürede ekran açılıyor.

**APNZ-3387** : Anomali Detektörü ekranında, hata alınan kaydın detayına gidilemiyor.

**APNZ-3304** : Snapshot Ayarları sayfası, ekran hataları içeriyor.

**APNZ-3415** : API Proxy Grup içerisinde "/{id}" içeren bir metoda sahip farklı API Proxy'lerden birine log kaydı oluşturulduğunda, diğer API Proxy'de de görüntüleniyor.

**APNZ-3417** : API Proxy Group'da relative path değerine büyük harf verilirse, path bulunamıyor.

**APNZ-3445** : API Çağrısı politikasında Cache tabında Uygulanan Alan (Apply by) değeri boş olduğunda, politika çalışmıyor.

**APNZ-3468** : JWT Politikasında LDAP ile doğrulama yapılamıyor.

**APNZ-3494** : JOSE Doğrulama politikasında Yetkilendirme açıkken Issuer'ın role bilgileri alınamıyor.

**APNZ-3502** : JOSE Doğrulama politikasında hata mesajları görünmüyor.

**APNZ-3504** : Aynı isimde kimlik bilgileri oluşturulabiliyor.

**APNZ-3518** : Kubernetes Resources sayfasındaki Monitör sekmesi doğru veri sunmuyor.

**APNZ-3519** : OpenAPI dokümantasyonunda sorunlar ile karşılaşılmaktadır.

**APNZ-3524** : Kubernetes Resources sayfasında Manager ayarlarına yapılan işlemlerde sorun yaşanıyor.

**APNZ-3532** : SSL tipindeki bildirim, kontrol değerine göre çalışmıyor.

**APNZ-3538** : Rest2SOAP tipindeki API Proxy kaydedilirken hata fırlatıyor.

**APNZ-3540** : API Proxy sayfasından method/endpoint disable edilemiyor.

**APNZ-3549** : İsteklerin veri tipinin bulunması aşamasında, dosya tipindeki verilerin veri tipinin anlaşılmıyor.

**APNZ-3555** : JOSE Doğrulama politikasında Decrypt By Issuer/Credential's JWK seçeneği aktif olduğunda hata veriyor.

**APNZ-3584** : MySQL bağlantısı üzerinden out parametresi içeren DB2API'den, API Proxy oluşturulamıyor ya da güncellenemiyor.

**APNZ-3588** : Veri tabanı bağlantı konfigürasyonları silinemiyor.

**APNZ-3593** : Alert, Çalışma Süresi Monitörü, Anomali Detektörü ve API Entegratör'e ait işler, Zamanlanmış İşler (Scheduled Jobs) sayfasında listelenemiyor.

## Sürüm 2023.03.1

**Yayınlanma Tarihi: 14 Mart 2023**

<span style={{ display: 'inline-block', backgroundColor: '#86efac', color: '#056d4f', padding: '0.25rem 0.75rem', borderRadius: '9999px', fontSize: '0.875rem', fontWeight: '500' }}>YENİ ÖZELLİK</span>

- ### JSON Web Keypair Set (JWK) Oluşturma

JWK, JSON formatında public key ya da keypair bilgisi tutar. 4 farklı yöntem (key store'dan dönüştürme, URL bağlantısından al, panoya yapıştır, üret) ile 4 farklı tipte (RSA, EC, OCT, OKP) key, key set, keypair ya da keypair set oluşturulabilir. Bu key tanımları, JOSE politikaları ile isteğin üzerindeki mesaj içeriğini doğrulama (validation) ya da imzalama (sign) işlemleri için kullanılırken, yanıt hattındaki içeriğin şifresini açma (decryption) ya da şifreleme (encryption) için kullanılır.

- ### JOSE Doğrulama Politikası

JOSE (Javascript Object Signing and Encryption), "claim" veya genellikle JSON verilerin herhangi iki taraf arasında güvenli aktarımını kolaylaştırmak için kullanılan bir çözümdür. JOSE Doğrulama Politikası ile imzalanmış olan verilerin imza doğrulaması ve şifrelenmiş olan verilerin deşifre edilmesi işlemleri yapılır.

- ### JOSE Implementasyonu Politikası

JOSE (Javascript Object Signing and Encryption), "claim" veya genellikle JSON verilerin herhangi iki taraf arasında güvenli aktarımını kolaylaştırmak için kullanılan bir çözümdür. JOSE Implementasyon Politikası ile verilerin imzalanması ve şifrelenmesi işlemleri yapılır.

- ### Elasticsearch Konfigürasyonu

Eğer loglama direkt olarak Apinizer üzerinden değilde dış bir sistem tarafından Elasticsearch'e yazılmak istenirse, Elasticsearch, read-only moda geçirilebilir. Bu durumda, API Proxy üzerinden gelen giden mesaj logların Elasticsearch kümesine yazımı Apinizer üzerinde durdurulur ve sadece logları okuma aktif olarak yapılır. Böylece, analitik ekranlarının çalıştırdığı sorgulama işlemlerine devam edilir.

- ### Webhook Entegrasyonu ile Logların Aktarımı

Varsayılan olarak, API Proxy'e gelen ve giden mesajın öğeleri, Elasticsearch üzerinde depolanmaktadır. Webhook Entegrasyonu yapılarak, mesajların loglanması farklı bir uygulamaya aktarılabilir.

- ### RabbitMQ Entegrasyonu ile Logların Başka Sisteme Aktarılması

Varsayılan olarak, API Proxy'e gelen ve giden mesajın öğeleri, Elasticsearch üzerinde tutulmaktadır. RabbitMQ Entegrasyonu yapılarak, mesajların kuyruk sistemi üzerinde farklı bir uygulamaya aktarımı gerçekleştirilebilir.

- ### Sistem Bilgilendirmesi için Alarm Oluşturma

Real-time çalışan sistemlerde, uygulama performansının düşmemesi için sistem kaynak kullanımıyla ilgili durumların probleme dönüşmeden önce yakalanması önemli bir gereksinimdir. Böylelikle, olası problem ile çözüm üretilerek, karşılaşılması önlenir. Alarm ise Apinizer Platformu'nun bulunduğu Kubernetes modülleri ve Elasticsearch kümelerinin, ön tanımlı tetikleme tiplerine göre izlenmesi sağlanır. Eğer verilen eşik değeri aşılmış ise uygulama üzerinde bildirim oluşturulur.

- ### Yeni bir Eylem tipi: Bildirim (Notification) Oluşturma

Anomali Dedektörü, Çalışma Süresi Monitörü, API Entegratörü veya Alarm oluştururken zamanlayıcı sonunda, sonucu işlemek için yeni bir eylem olan bildirim oluşturma eylemi eklenebilir. Bu sayede, her iş tanımı çalıştığında tüm ya da bildirim alınması istenen kullanıcılara bildirim gönderilir. Kullanıcı, uygulamanın arayüzünden bildirimlerini yönetebilir.

- ### Bildirimleri Yönetme

Apinizer üzerinde 3 farklı durum sonucunda bildirim oluşturulmaktadır; eylem sonucunu gösteren bildirimler, Hesap/Geliştirici oluşturma istekleri ve API Ürünü abonelik istekleri. Tüm bildirimler, uygulamanın header kısmındaki ikondan görüntülenebilir ve ya ilgili bildirim kategorisine tıklanarak bildirim yönetimi yapılabilir.

- ### MongoDB'den Bağlantı Tanımı Oluşturma

Veri tabanı bağlantı konfigürasyonlarına yeni bir tip olan MongoDB eklendi.

- ### MongoDB ile DB-2-API Find Metodu Oluşturma

API Creator modülünde olan Db-2-API ile veri tabanından endpoint oluştururken, MongoDB konfigürasyonu ile find sorgusu yazarak endpoint eklenebilir.

- ### Tüm API Proxy'nin Log Ayarlarını Proje ya da Uygulama Bazında Kontrol Etme

Önceden Proje, API Proxy Grup ve API Proxy olarak 3 farklı bazda, hangi bölgede hangi mesaj öğelerinin log kaydı alınıp alınmayacağı ayarlanmaktaydı. Log ayarlarının kullanılabilirliği ve yönetilebilirliği iyileştirmek için, sadece API Proxy bazına indirgenmiştir. Log ayarlarını etkinleştirme veya devre dışı bırakmak için 3 farklı ekran bulunur; her API Proxy'nin kendi sayfasından ayarlanabilir ya da Proje ve uygulama bazında bulunan Log Ayarları ekranı üzerinden çoklu olarak API Proxy log ayarlamaları yapılabilir.

- ### Pod Probe'ların Kubernetes Resources Ekranından Tanımlama

Kubernetes, konteynerının (container) ne zaman yeniden başlatılacağını, hazır olduğunu ve başlatılacağını bilmek için Probe'ları kullanır. Temel olarak, Probe'lar containerların sağlığını kontrol eder ve yanıt vermeyen uygulamanın yeniden başlatılmasını sağlar. Apinizer'ın üzerinden, Pod'ların Probe'larını tanımlanması sağlandı.

<span style={{ display: 'inline-block', backgroundColor: '#bfdbfe', color: '#1e40af', padding: '0.25rem 0.75rem', borderRadius: '9999px', fontSize: '0.875rem', fontWeight: '500' }}>ÖNEMLİ DEĞİŞİKLİKLER VE İYİLEŞTİRMELER</span>

- Eylemler dialogundaki görünüm ve eylemler oluşturma dialoglarının kullanıcı deneyimi iyileştirildi.

- Spec Tasarımı üzerinden API Proxy oluşturulduğunda, oluşturulan spec tanımından tasarıma devam edilebilmesi sağlandı.

- API Çağrısı politikasında gövdenin orijinal mesaj verisi düzenlemesi işlemine ekleme operasyonu eklendi.

- API Proxy listesini, yükleme durumuna göre arayabilme filtresi getirildi.

- Kubernetes Resources ekranına podların durumunu gösteren tabloya yenile butonu eklendi.

- API Proxy Trafik ekranına sorguyu cURL olarak kopyalama ve excel olarak dışa aktarma özellikleri eklendi.

- Rapor Üretici ekranına sorgu ve filtreyi düzenleme ve sorguyu cURL olarak kopyalama özellikleri eklendi.

- JWT token'ların saklanması veri tabanı tarafından bağımsız hale getirildi.

- Sertifika, Anahtar ve Key Store ekranları project bazında da yönetilebilir olması sağlandı.

- Audit kaydı için Manager Console girişlerindeki IP bilgisinin X-Forwarded-For alanından alınması sağlandı.

- API Proxy'nin Yönlendirme sekmesinde Circuit Breaker gözükmesi için en az 2 tane adres ekleme kontrolü kaldırıldı.

- Rapor Oluşturma ve Sorgu ekranlarındaki zaman bilgileri (Total Time, API Proxy Time, Backend Time) ait alanlar revize edildi.

- Veritabanlarına ait bağlantı konfigürasyonları ekranları birleştirildi.

- API Proxy ekranına Log Ayarları sekmesi eklenerek, tüm log ayarlarının Ayarlar sekmesinden ayrıldı.

- Çalışma Süresi Monitörü ve Anomali Dedektörü tanımlarının, uygulama bazında da yönetilmesi sağlandı.

- Veri Tabanı bağlantılarında zorunlu girilmesi gereken kimlik bilgileri, kimlik bilgisi istemeyen bağlantıların desteklenebilmesi için seçimli hale getirildi.

- Plain-Text Kimlik Doğrulama Politikasında şifre (password) alanının seçilmesi isteğe bağlı hale getirildi. Böylece sadece API Key kullanarak servislerin yetkilendirilebilmesi sağlandı.

- Yetki Konfigürasyonunda (Authorization) politikasında rol kontrolü yapılmadan sadece rollerin alınabilmesi sağlandı.

- JWT, OAuth2 ve JOSE Validasyonu politikalarında, eğer Kimlik/Yetki Doğrulama Servisi seçildiyse, bu servisteki rollerin istek başlığına eklenebilmesi durumu sağlandı.

- Hassas Veri Yönetimi, Syslog Entegrasyonu ekranı Log Ayarları menüsüne taşındı.

- KPS Ayarı ve ProCrpyt ekranı Sistem Ayarları menüsüne taşındı.

- API Proxy Raporu, Analitik menüsüne taşındı.

- ACL Raporu ekranı, Kimlik Yönetimi menüsüne taşındı. Önceden uygulama bazında çalışan ekran proje menüsüne de eklendi.

- Analitik menüsündeki API Proxies ekranı kaldırılıp, buradaki tablo verileri, API Proxy Raporu ekranının liste modundaki tablo verileri ile birleştirildi.

- Kimlik Bilgisi ekranına JWK Ayarı tabı getirilerek, JOSE politikaları için kullanılacak olan JWK'nın seçilmesi sağlandı.

- OpenAPI 3.0.3 sürümünün desteklenmesi sağlandı.

<span style={{ display: 'inline-block', backgroundColor: '#e65a2a', color: '#ffffff', padding: '0.25rem 0.75rem', borderRadius: '9999px', fontSize: '0.875rem', fontWeight: '500' }}>HATA DÜZELTMELERİ</span>

**APNZ-2958** : Rapor Üretici (Report Generator), Anomali Dedektörü (Anomaly Detection) ve Çalışma Süresi Monitörü (Uptime Monitor) ekranlarında zamanlama (schedule) çalışsa bile herhangi bir rapor verisi oluşmuyor.

**APNZ-3247** : API Proxy Trafiği ekranında gelişmiş arama ile X-Forwarded-For alanı ile filtreleme çalışmıyor.

**APNZ-3308** : API Proxy'ye birden fazla API Çağrısı politikası eklenip Veri Düzenleme yapıldığında diğer API Çağrısı politikalarını da etkiliyor.

**APNZ-3344** : JWT ve OAuth2 politikalarında, Grant Type değeri Password seçilince, Kimlik Hizmeti (Identity Service) Security Manager varsayılan olarak seçili gelmiyor.

**APNZ-3345** : İçe aktarma işlemleri hata içeriyor.

**APNZ-3353** : Mock API'de sadece içerik tipi (content-type) olan boş yanıtı bulunan uç noktaya gönderilen isteklerin, API Trafik'de logu gözükmüyor.

**APNZ-3354** : Kubernetes Resources üzerinden yeni bir API Integration modülü oluşturulurken sorun yaşanıyor.

**APNZ-3363** : API Proxy Grup'u silme işlemi iptal edildikten sonra tekrar silme işlemi yapılamıyor.

**APNZ-3364** : Ortama (environment) ait host takma adları her republish işleminde hataya sebep olur.

**APNZ-3383** : Sorgu oluşturma ekranındaki "şununla başla (starts with)" ve "şununla bitsin (ends with)" seçeneklerine ait arama çalışmıyor.

**APNZ-3392** : Db-2-API için metoda parametre tanımlarken, birbirini içeren parametre adları sorgunun çalışmamasına sebep oluyor.

**APNZ-3393** : API Proxy'e uygulanan kota verinin boyutu büyüdüğünde önbelleği zorlayabiliyor.

**APNZ-3395** : API Proxy Trafik üzerinde sayfalaması değiştirilen kayıtlara, yeni sorgu uygulandığında senkron çalışmıyor.

**APNZ-3398** : API Proxy Trafik ekranında log kaydı 500kb'dan küçük olmasına rağmen açılmıyor.

**APNZ-3401** : Kubernetes Resources sayfası aşırı kaynak varsa sorun yaşıyor.

**APNZ-3410** : Aynı relative path değerini içeren başka bir API Proxy ya da API Proxy Group oluşturulabiliyor.

**APNZ-3411** : API Proxy Grup ACL ekranında, kimliği düzenleme işlemindeki değişim sayfa yenilendikten sonra yansıyor.

**APNZ-3415** : API Proxy Grup içerisinde "/{id}" içeren bir metoda sahip farklı API Proxy'lerden birine log kaydı oluşturulduğunda, diğerinde de görüntüleniyor.

**APNZ-3416** : WSDL adresinde schemaLocation bilgisinin local adresini referans veren tanım dosyalarında, XSD işlenme hatası alınıyor.

**APNZ-3419** : Db-2-API ile parametreli sorgu parametresiz hale dönüştürüldüğünde kaydedilemiyor.

**APNZ-3438** : Rest2SOAP tipindeki API Proxy'nin Tracing log detayına gitmek istenildiğinde hata alınıyor.

**APNZ-3441** : Toplu olarak gerçekleştirilen işlemlerin audit kaydı oluşmuyor.

**APNZ-3449** : SOAP metotlarında metot bulunsa bile diğer metotların da iterate edilmesi aynı istek gövdesine sahip metotlarda, hatalı metodun bulunmasına yol acıyor.

**APNZ-3450** : Db-2-API'de sorgu parametrelerinde boşluk gibi beklenmeyen karakterler, URL decode edilmiyor.

**APNZ-3466** : Aynı relative path değerine sahip API Proxy ya da API Proxy Grup oluşturulamamalı.

**APNZ-3490** : Rest 2 Soap Transformation politikalarında kaydet ve iptal işlemlerinde hata alınıyor.


