---
title: "Tracing"
description: "API Proxy'de gelen isteklerin nasıl işlendiğini adım adım izleyebilir, trace başlatabilir ve trace çıktısını okuyabilir. Politika bazlı execution izleyebilir, istek/yanıt incelemesi yapabilir ve performans analizi gerçekleştirebilir."
---

## Genel Bakış

Tracing aracı, API Proxy'nin mesaj işleme akışını gerçek zamanlı olarak izlemenizi sağlar. Bu araç özellikle:

* Politikaların nasıl çalıştığını anlamak
* Performans sorunlarını tespit etmek
* Hata ayıklama yapmak
* İstek/yanıt akışını incelemek

için kullanılır.

<CardGroup cols={2}>
  <Card title="Trace Başlatma" icon="play">
    Yeni bir trace oturumu başlatma
  </Card>
  <Card title="Trace Çıktısı" icon="eye">
    Trace sonuçlarını görüntüleme
  </Card>
  <Card title="Politika İzleme" icon="list">
    Her politikanın çalışmasını izleme
  </Card>
  <Card title="Performans Analizi" icon="chart-line">
    Performans metriklerini analiz etme
  </Card>
</CardGroup>

## Trace Başlatma

### Trace Oturumu Oluşturma

Bir trace oturumu başlatmak için:

1. API Proxy detay sayfasına gidin
2. **Tracing** sekmesine tıklayın
3. **Start Trace** butonuna tıklayın
4. Trace ayarlarını yapılandırın
5. **Start** butonuna tıklayın

### Trace Ayarları

Trace başlatırken şu ayarları yapılandırabilirsiniz:

* **Trace Duration**: Trace süresi (varsayılan: 5 dakika)
* **Max Traces**: Maksimum trace sayısı
* **Filter**: Trace filtresi (path, method, header, vb.)
* **Capture Request/Response**: İstek/yanıt yakalama

### Trace Filtreleri

Trace'leri filtrelemek için:

* **Path Filter**: Belirli path'ler için trace
* **Method Filter**: Belirli metodlar için trace
* **Header Filter**: Belirli header'lara sahip istekler için trace
* **IP Filter**: Belirli IP adreslerinden gelen istekler için trace

## Trace Çıktısı

Trace başlatıldıktan sonra, API Proxy'ye gelen istekler otomatik olarak izlenir ve trace çıktısı görüntülenir.

### Trace Listesi

Trace listesi şu bilgileri içerir:

* **Timestamp**: İsteğin zamanı
* **Method**: HTTP metodu
* **Path**: İstek path'i
* **Status**: Yanıt durum kodu
* **Duration**: Toplam süre
* **Policies**: Çalıştırılan politika sayısı

### Trace Detayları

Bir trace'e tıklayarak detaylı bilgileri görüntüleyebilirsiniz:

* **Request Details**: İstek detayları
* **Response Details**: Yanıt detayları
* **Policy Execution**: Politika çalıştırma detayları
* **Timing Information**: Zamanlama bilgileri

## Politika Bazlı Execution

Tracing, her politikanın nasıl çalıştığını gösterir.

<CardGroup cols={2}>
  <Card title="Pre-flow Politikaları" icon="play">
    Pre-flow politikalarının çalışması, politika adı, çalıştırma süresi, durum ve yapılan değişiklikler görüntülenebilir.
  </Card>
  <Card title="Koşullu Politikalar" icon="code-branch">
    Koşullu politikaların çalışması, koşul ifadesi, koşul sonucu, çalıştırılan ve atlanan politikalar görüntülenebilir.
  </Card>
  <Card title="Route Step" icon="route">
    Route step'in çalışması, seçilen upstream target, load balancing kararı, bağlantı süresi ve backend yanıt süresi görüntülenebilir.
  </Card>
  <Card title="Post-flow Politikaları" icon="stop">
    Post-flow politikalarının çalışması, politika adı, çalıştırma süresi, durum ve yapılan değişiklikler görüntülenebilir.
  </Card>
  <Card title="Fault Handler" icon="exclamation-triangle">
    Fault handler'ın çalışması (hata durumunda), hata türü, hata mesajı, çalıştırılan handler politikaları ve son yanıt görüntülenebilir.
  </Card>
</CardGroup>

## İstek/Yanıt İncelemesi

Tracing, istek ve yanıt içeriğini incelemenizi sağlar.

### Request Inspection

İstek detayları:

* **Headers**: İstek header'ları
* **Query Parameters**: Query parametreleri
* **Path Parameters**: Path parametreleri
* **Body**: İstek gövdesi
* **Raw Request**: Ham istek

### Response Inspection

Yanıt detayları:

* **Status Code**: Durum kodu
* **Headers**: Yanıt header'ları
* **Body**: Yanıt gövdesi
* **Raw Response**: Ham yanıt

### Request/Response Comparison

İstek ve yanıtı karşılaştırabilirsiniz:

* **Before/After**: Politika öncesi/sonrası
* **Transformation**: Dönüşüm detayları
* **Header Changes**: Header değişiklikleri
* **Body Changes**: Gövde değişiklikleri

## Performans Analizi

Tracing, performans analizi için detaylı metrikler sağlar.

### Timing Metrics

Zamanlama metrikleri:

* **Total Duration**: Toplam süre
* **Pre-flow Duration**: Pre-flow süresi
* **Route Duration**: Route süresi
* **Backend Duration**: Backend süresi
* **Post-flow Duration**: Post-flow süresi

### Policy Performance

Politika performans metrikleri:

* **Policy Execution Time**: Politika çalıştırma süresi
* **Slowest Policies**: En yavaş politikalar
* **Policy Count**: Politika sayısı
* **Average Policy Time**: Ortalama politika süresi

### Backend Performance

Backend performans metrikleri:

* **Connection Time**: Bağlantı süresi
* **Response Time**: Yanıt süresi
* **Total Backend Time**: Toplam backend süresi
* **Backend Status**: Backend durumu

## Trace Görünümleri

Tracing farklı görünümler sunar:

<CardGroup cols={3}>
  <Card title="Timeline View" icon="clock">
    Zaman çizelgesi görünümü. Politikaların çalışma sırası, her politikanın süresi ve toplam süre dağılımı görüntülenebilir.
  </Card>
  <Card title="Tree View" icon="sitemap">
    Ağaç görünümü. Hiyerarşik politika yapısı, koşullu dallar ve detaylı politika bilgileri görüntülenebilir.
  </Card>
  <Card title="Table View" icon="table">
    Tablo görünümü. Politika listesi, performans metrikleri ve durum bilgileri görüntülenebilir.
  </Card>
</CardGroup>

## Kullanım Senaryoları

### Senaryo 1: Performans Sorunu Tespiti

Bir API Proxy'nin yavaş çalıştığını fark ettiğinizde:

1. Trace başlatın
2. Yavaş istekleri filtreleyin
3. En yavaş politikaları belirleyin
4. Performans optimizasyonu yapın

### Senaryo 2: Hata Ayıklama

Bir isteğin neden başarısız olduğunu anlamak için:

1. Trace başlatın
2. Başarısız istekleri filtreleyin
3. Hata oluşan politikayı bulun
4. Hata nedenini analiz edin

### Senaryo 3: Transformation Doğrulama

Bir transformation'ın doğru çalışıp çalışmadığını kontrol etmek için:

1. Trace başlatın
2. Transformation politikasını izleyin
3. Before/After karşılaştırması yapın
4. Sonucu doğrulayın

## En İyi Uygulamalar

### Trace Kullanımı

* **Development**: Development ortamında sık kullanın
* **Production**: Production'da dikkatli kullanın (performans etkisi)
* **Filtering**: Gereksiz trace'leri filtreleyin
* **Duration**: Trace süresini sınırlayın

### Performance Analysis

* **Baseline**: Performans baseline'ı oluşturun
* **Monitoring**: Düzenli olarak izleyin
* **Optimization**: Yavaş politikaları optimize edin
* **Documentation**: Sonuçları dokümante edin

### Debugging

* **Reproducible**: Tekrarlanabilir senaryolar oluşturun
* **Isolation**: Sorunları izole edin
* **Comparison**: Before/After karşılaştırması yapın
* **Documentation**: Hata ayıklama sürecini dokümante edin

## Sonraki Adımlar

<CardGroup cols={2}>
  <Card title="Test Console" icon="terminal" href="/tr/gelistirici/test-console">
    API test konsolu
  </Card>
  <Card title="API Traffic Tab" icon="chart-line" href="/tr/gelistirici/api-traffic-tab">
    Gerçek zamanlı trafik izleme
  </Card>
  <Card title="Policy Management" icon="shield" href="/tr/gelistirici/api-proxy-konfigurasyonu/politika-yonetimi">
    Politika yönetimi
  </Card>
  <Card title="Error Analysis" icon="exclamation-triangle" href="/tr/gelistirici/error-analysis">
    Hata analizi
  </Card>
</CardGroup>
