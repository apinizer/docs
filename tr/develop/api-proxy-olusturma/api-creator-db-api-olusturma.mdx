---
title: "API Creator ile Veri Tabanından API oluşturma"
description: "DB-2-API ile teknik bilgi gerektirmeden dakikalar içinde veri tabanı işlemi yapan REST API oluşturabilirsiniz. SQL ve NoSQL sorguları çalıştırabilir, Stored Procedure çağırabilir, Batch işlemler yapabilir ve CRUD operasyonları gerçekleştirebilirsiniz"
---

Aşağıdaki işlemleri destekler:

<CardGroup cols={3}>
  <Card title="Native SQL Deyimleri" icon="database">
    SELECT, INSERT, UPDATE, DELETE, PROCEDURE, BATCH INSERT, TRUNCATE işlemlerini destekler.
  </Card>
  
  <Card title="NoSQL İşlemleri" icon="database">
    FIND işlem tipi desteği sağlar.
  </Card>
  
  <Card title="Stored Procedure" icon="code">
    Stored Procedure çağırma desteği sunar.
  </Card>
  
  <Card title="Cursor Desteği" icon="arrows-rotate">
    Cursor sonucunu dönebilir.
  </Card>
  
  <Card title="Batch İşlemler" icon="list">
    Batch işlem yapma desteği sağlar.
  </Card>
  
  <Card title="CRUD İşlemleri" icon="gear">
    Tüm CRUD operasyonlarını destekler.
  </Card>
</CardGroup>

## Yeni DB-2-API Oluşturma

<Steps>
  <Step title="Menüden DB-2-API Sayfasına Gidin">
    Ana menüde **Geliştirme → API Oluşturucu → DB-2-API** (*Development → API Creator → DB-2-API*) ögesi seçilir.
  </Step>
  
  <Step title="Yeni API Oluşturun">
    Açılan arayüzde sağ üstteki **+Oluştur (Create)** tuşuna tıklanır.
    
    <img src="/images/develop/api-proxy-olusturma/db-api-olustur-butonu.png" alt="DB-2-API Oluştur butonu" width="800" />
  </Step>
  
  <Step title="API Bilgilerini Doldurun">
    Yeni oluşturulacak *API* için gerekli alanlar doldurularak sağ üstteki **→Kaydet ve Devam (Save and Next)** tuşuna tıklanmasıyla *API* oluşturma işi başlamış olur.
    
    <img src="/images/develop/api-proxy-olusturma/db-api-bilgileri-doldurma.png" alt="DB-2-API bilgilerini doldurma" width="800" />
  </Step>
</Steps>

## Endpoint Oluşturma

<Steps>
  <Step title="Endpoint Ekle">
    Gelen ekranda **Ekle (Add)** tuşuna tıklayarak API'ye *Method/Endpoint* eklenir.
    
    <img src="/images/develop/api-proxy-olusturma/db-api-endpoint-ekle.png" alt="Endpoint ekle" width="800" />
  </Step>
  
  <Step title="Endpoint Bilgilerini Doldurun">
    *Method/Endpoint* tanımlama ekranındaki alanlar doldurularak **Kaydet** tuşuna tıklanır.
    
    <img src="/images/develop/api-proxy-olusturma/db-api-endpoint-tanimlama.png" alt="Endpoint tanımlama" width="800" />
  </Step>
</Steps>

Endpoint oluşturmak için kullanılan alanlar aşağıda kategorilere ayrılarak açıklanmıştır:

<AccordionGroup>
  <Accordion title="Temel Bilgiler">
    <CardGroup cols={2}>
      <Card title="HTTP Metot" icon="list">
        **Alan:** HTTP Metot (HTTP Method)
        
        REST API'ler için HTTP Metodu seçilir: GET, POST, PUT, HEAD, OPTIONS, DELETE, PATCH, TRACE, ALL
      </Card>
      
      <Card title="Ad/URL" icon="tag">
        **Alan:** Ad/URL (Name/URL)
        
        Method/Endpoint'ye kullanıcı tarafından verilen addır. Arayüzlerde bu ad görünür.
      </Card>
      
      <Card title="Açıklama" icon="file-lines">
        **Alan:** Açıklama 
        
        Method/Endpoint'nin tanım bilgisidir.
      </Card>
    </CardGroup>
  </Accordion>
  
  <Accordion title="Veritabanı Bağlantısı">
    <CardGroup cols={2}>
      <Card title="Bağlantı Havuzu" icon="database">
        **Alan:** Bağlantı Havuzu Tanımı (Connection Pool Description)
        
        Sorguların işletileceği Veritabanı bağlantısının bilgisidir.
      </Card>
      
      <Card title="Sorgu Zaman Aşımı" icon="clock">
        **Alan:** Sorgu Zaman Aşımı (Timeout)
        
        Sorgu yürütmesinin saniye cinsinden zaman aşımı değeridir.
      </Card>
    </CardGroup>
  </Accordion>
  
  <Accordion title="SQL İşlemleri">
    <CardGroup cols={2}>
      <Card title="SQL Deyimi Türü" icon="code">
        **Alan:** SQL Deyimi Türü (Type of SQL Statement)
        
        SQL Deyimi türü bilgisidir: SELECT, UPDATE, INSERT, DELETE, PROCEDURE, TRUNCATE, BATCH INSERT
      </Card>
      
      <Card title="SQL Deyimi" icon="code">
        **Alan:** SQL Deyimi (SQL)
        
        Çalıştırılacak olacak SQL deyimidir. Parametreler, tanımlanabilmeleri için iki nokta üst üste (`:`) önekiyle boşluk bırakılmadan yazılmalıdır.
        
        **Örnek sorgu:**
        ```sql
        select * from employees where first_name = :fName
        ```
        
        Burada `:fName` parametre'dir ve API'ya istek yapacak kullanıcı tarafından gönderilir.
        
        <Tip>
          Ardından parametre için örnek değerleri girerek **Dene (Try It)** butonuna tıklayarak sorgunuzun doğrulunu kontrol edebilirsiniz.
        </Tip>
      </Card>
    </CardGroup>
  </Accordion>
  
  <Accordion title="NoSQL İşlemleri">
    <CardGroup cols={2}>
      <Card title="İşlem Tipi" icon="database">
        **Alan:** İşlem Tipi (Operation Type)
        
        NoSQL işlem tipi bilgisidir: FIND
      </Card>
      
      <Card title="Sorgu" icon="code">
        **Alan:** Sorgu (Query)
        
        Çalıştırılacak olacak sorgudur. Parametreler, tanımlanabilmeleri için iki süslü parantez içine alınır.
        
        **Örnek sorgu:**
        ```javascript
        { username: {{username}} }
        ```
        
        Burada `{{username}}` parametre'dir ve API'ya istek yapacak kullanıcı tarafından gönderilir.
        
        <Tip>
          Ardından parametre için örnek değerleri girerek **Dene (Try It)** butonuna tıklayarak sorgunuzun doğrulunu kontrol edebilirsiniz.
        </Tip>
      </Card>
    </CardGroup>
  </Accordion>
  
  <Accordion title="Parametreler">
    <Card title="Parametreler" icon="slider">
      **Alan:** Parametreler (Parameters)
      
      SQL Sorgunuzda `:fName` gibi bir parametre mevcutsa Parametreler (Parameters) tablosu açılır. Burada parametrenin:
      - Veri Tipi
      - Formatı
      - Yineleme Tipi
      - Parametre Tipi
      - Örnek Değer'ler
      
      girilir.
      
      <Info>
        Daha sonra **Dene** butonuna tıklanarak "Yanıt Mesaj Örneği" bu verilere göre gelir.
      </Info>
    </Card>
  </Accordion>
</AccordionGroup>

## SQL'i Test Etme

Endpoint'e istek gönderildiğinde nasıl bir sonucun alınacağı görülmek istenebilir. Eğer endpoint için çalıştırılacak sorgunun parametreleri varsa test verileri (Test Value) girilerek **Dene (Try It)** butonuna basılır.

Test sonucu dönen şablon, Apinizer'da stabil olan Response nesnesidir. Eğer sorguyla eşleşen birden fazla kayıt varsa sadece ilk kayıt örnek yanıt içinde verilmektedir.

<img src="/images/develop/api-proxy-olusturma/db-api-sql-test.png" alt="SQL test etme" width="800" />

<Info>
  Test için **null** değer gönderilmek istenirse, parametre olarak **null** yazılması yeterlidir.
</Info>

## DB-2-API'den API Proxy Oluşturma

En az bir tane *Method/Endpoint* olduğunda **API Proxy Oluştur (Create API Proxy)** tuşuna tıklayarak DB-2-API için bir API Proxy oluşturulur.

<Warning>
  DB-2-API'den API Proxy oluşturmak için en az bir *Method/Endpoint* olmalıdır.
</Warning>

Gelen ekranda API Proxy için gerekli alanları girerek **Kaydet (Save)** butonuna tıklayarak API Proxy oluşturulur.

<img src="/images/develop/api-proxy-olusturma/db-api-proxy-olusturma.png" alt="API Proxy oluşturma" width="800" />

Bu adımdan sonra yapılabilecekler API Proxy dokümanı ile birebir aynıdır. Detayına gitmek için [API Proxy Oluşturma](/tr/develop/api-proxy-olusturma/api-proxy-olusturma) sayfasına bakabilirsiniz.

<Info>
  Bir DB-2-API'dan birden fazla API Proxy oluşturabilirsiniz.
</Info>

## Yükle (Deploy)/Yeniden Yükle (Redeploy)

DB-2-API'deki API Proxy'leri görüntülemek ve yönetmek için **API Proxy'leri Yönet (Manage API Proxies)** linkine tıklayarak açılan pencereden görüntülenir ve yönetilir. Açılan pencerede DB-2-API ile oluşturulan API Proxy'ler Yükle/Kaldır ve Yeniden Yükle işlemleri bu bölümde yapılır.

API Proxy'i deploy etmek için **API Proxy'leri Yönet (Manage API Proxies)** linkine tıklanarak deploy simgesine basılır.

<img src="/images/develop/api-proxy-olusturma/db-api-proxy-yonetme.png" alt="API Proxy yönetme" width="600" />

Yukarıdaki işlemden sonra onaylama yapmak gereklidir. Yükleme işlemiyle ilgili bilgileri oluşturup **(Yükle) Deploy** butonuna tıklanır.

<img src="/images/develop/api-proxy-olusturma/db-api-deploy.png" alt="Deploy ekranı" width="600" />

DB-2-API'ye yeni bir *Method/Endpoint* eklendiğinde veya mevcut *Method/Endpoint*'lerden birisi güncellendiğinde, tüm API Proxy'lerin yeniden yüklenmesi gerekir.

Yeni bir *Method/Endpoint* eklediğinizde veya mevcut bir *Method/Endpoint*'i güncellediğinizde aşağıdaki gibi bir bilgilendirme gelecektir.

<img src="/images/develop/api-proxy-olusturma/db-api-yeniden-yukleme-bildirimi.png" alt="Yeniden yükleme bildirimi" width="600" />

**Yeniden Yükle (Redeploy Required)** diyerek değişikliklerin API Proxy'lere uygulanması sağlanır.

<img src="/images/develop/api-proxy-olusturma/db-api-redeploy.png" alt="Redeploy ekranı" width="600" />

Yukarıdaki işlemden sonra onaylama yapmak gereklidir. Yeniden yükleme işlemiyle ilgili bilgileri oluşturup **(Yeniden Yükle) Redeploy** butonuna tıklanır.

<img src="/images/develop/api-proxy-olusturma/db-api-redeploy-onay.png" alt="Redeploy onay ekranı" width="600" />

DB-2-API sayfasından API Proxy'nin ismindeki link tıklanarak API Proxy'e gidilir.

<img src="/images/develop/api-proxy-olusturma/db-api-proxy-link.png" alt="DB-2-API'dan API Proxy'ye link" width="600" />

Benzer şekilde, API Proxy sayfasından DB-2-API sayfasına gitmek için aşağıdaki gibi API Proxy'deki DB-2-API ismine tıklayarak gidilir.

<img src="/images/develop/api-proxy-olusturma/db-api-geri-link.png" alt="API Proxy'den DB-2-API'ye link" width="600" />

## DB-2-API Silme

Bir DB-2-API silindiğinde ona bağlı olan tüm API Proxy'ler önce kaldırılır (Undeploy) sonra silinir.
