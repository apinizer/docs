---
title: "Credentials"
description: "Credentials"
---

Apinizer'da Kimlik Yönetimi ile yapılan erişim denetimi ayarı 2 farklı şekilde yapılandırılabilir:

1. **Kimlik bilgileri üzerinden;** Bu yöntemde kimlik bilgisinin detayına gidilir. Kimlik bilgisinin detayında erişim izni verilmiş API Proxy'ler ve ayarları görüntülenerek işlem yapılır.
2. **API Proxyler üzerinden;** Bu yöntemde API Proxy'nin detayına gidilir. API Proxy'e erişim izni verilmiş kimlik bilgileri görüntülenerek işlem yapılır.

Bu sayfa, birinci seçenekteki koşulu gerçekleştirir.

Apinizer'da tanımlı olan API Proxy'e erişim sağlayacak olan istemcilerin kimlik bilgisi bu sayfadan oluşturulur ve yönetilir.

<Warning>
Kimlik bilgisi erişim izni, API proxy'e erişim için tek başına yeterli değildir. Kimlik bilgisindeki ve erişim iznindeki ayarların geçerli olması için API Proxy üzerinde kimlik doğrulama politikalarından birisi eklenmiş olmalı ve bu politikada kimlik doğrulama şekli olarak **Security Manager** seçeneği seçili olmalıdır.
</Warning>

## Kimlik Bilgisi Listesi

**Kimlik bilgileri sayfası ilk açıldığında mevcut kimlik bilgilerinin listelendiği görsele aşağıda yer verilmiştir:**

<img
  src="/images/yonetici/kimlik-bilgisi.png"
  alt="Kimlik bilgisi"
  width="700"
  className="mr-auto"
/>

Ekran bileşenleri için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan | Açıklama |
|------|----------|
| Arama Alanı _(Advanced Search)_ | Kimlik bilgileri üzerinde detaylı arama yapmak için kullanılır. |
| Kimlik Bilgisi Listesi _(Access Control List)_ | Kimlik bilgilerinin listelendiği ve sıralandığı tablodur. |
| Oluştur _(Create)_ | Yeni "Kimlik Bilgisi" oluşturmak için kullanılır. |
| CSV'den İçe Aktar _(Import From CSV)_ | Topluca kimlik bilgisi kaydedilmesi için kullanılır. |
| Veriyi Aktar _(Import)_ | Kimlik bilgisini .json veya .zip uzantılı olarak içe aktarmak için kullanılır. |
| Kimlik Bilgileri Listesini Excel Dosyası Olarak Dışa Aktar _(Export Credential List as an Excel File)_ | Kimlik bilgileri listesini excel dosyası olarak indirmek için kullanılır. |
| Dışa Aktar _(Export)_ | Kimlik bilgisine ait tüm veriler, başka bir proje de tekrar kullanmak için dışa aktarılabilir. Bu süreçte, sadece genel bilgiler dışa aktarılır. Gelişmiş ayarlar, API Proxy EKL, API Proxy Grup EKL, JWK ayarları ve mTLS ayarları, proje bazında bilgiler oldukları için dışa aktarılmaz. |

## CSV ile Toplu Kimlik Bilgisi Aktarımı

Hali hazırda mevcut olan kimlik bilgilerinin Apinizer'a aktarımı için CSV'den aktar özelliği kullanılabilir.

Bu özellik kullanılmak istenirse;

<Steps>
<Step title="Veri Formatı">
Mevcut kullanıcı bilgileri her bir kayıt bir satıra gelecek şekilde yazılmalıdır.
</Step>
<Step title="Bilgi İçeriği">
Kayıt içerisinde kullanıcı adı ve parola bilgisi beraber ve parola bilgisi açık olarak yer almak zorundadır.
</Step>
<Step title="Ayıraç Kullanımı">
**kullanıcı adı** ve **parola** bilgisi arasına ayıraç olarak **#** işareti koyulmalıdır.
</Step>
<Step title="Satır Ayrımı">
Her bir satır Enter tuşu ile ayrılmalıdır.
</Step>
</Steps>

Bu şekilde hazırlanan veriler açılan ekrana girilerek içe aktar tuşuna basılır.

<img
  src="/images/yonetici/ice-aktar.png"
  alt="Image 2024 9 9 15 35 35 Pn"
  width="700"
  className="mr-auto"
/>

## Kimlik Bilgisini Dışa Aktarma

Kimlik Bilgisi'ni dışa aktarmak için satır sonundaki menüden **Dışa Aktar _(Export)_** seçilir.

![Dışa Aktarma](/images/export-credential.png)

## Kimlik Bilgisini Globalleştirme

Kimlik bilgileri "Globalleştir" seçeneği ile Admin sayfasına taşınarak görünümü bu listeden kalkar, tüm projelerde kullanılabilir hale gelir ve yönetimi Admin kullanıcısına bırakılır.

Kimlik Bilgisi'ni globalleştirmek için satır sonundaki menüden **Globalleştir _(Move to Global)_** seçilir.

![Globalleştirme](/images/move-to-global.png)

## Kimlik Bilgisi Oluşturma

**Kimlik bilgileri eklemek için** **Oluştur (Create) tuşuna basıldığında aşağıda görseli paylaşılan ekran gelir:**

![Kimlik Bilgisi Oluşturma](/images/create-credential.png)

Bu görselde de görüldüğü üzere kimlik bilgilerinin üzerinde iki tür işlem yapabiliriz:

1. Kimlik bilgisinin detaylarının girilmesi, oluşturulması veya güncellenmesi
2. Kimlik bilgisinin erişim denetimi listesinin oluşturulması veya güncellenmesi

Kimlik bilgisi alanlarının açıklamaları şu şekildedir:

| Alan | Açıklama |
|------|----------|
| Kullanıcı Adı _(Username)_ | Kimliği ifade edecek "kullanıcı adı" bilgisidir, yetkilendirme için kullanıcı kimliğine erişmek için bu değer kullanılır. Tüm sistemde tekil ve biricik olmak zorundadır. |
| Parola _(Password)_ | Kimliğin parola bilgisidir. İstenirse yanındaki tuş ile otomatik oluşturulabilir. |
| E-Posta _(E-Mail)_ | Kimliğin sahibi istemciye erişmek için kullanılan ve istemciye ait mail bilgisidir. |
| Tam Adı _(Full Name)_ | Kimliğin sahibi istemcinin tam adıdır. |
| Aktif _(Enabled)_ | Kimlik bilgisinin aktif (kullanılabilir) olup olmadığını belirtir. Seçilmiş ise aktiftir. |
| Kurum _(Organization)_ | Kimlik bilgisinin bağlı olduğu kurum/organizasyon bilgisi isteğe bağlı olarak seçilebilir. Sadece bilgi/raporlama amacıyla tutulur. |
| Roller _(Roles)_ | Kimlik bilgisinin sahip olduğu rollerdir. Bu rollere göre yetkilendirme yapılır. |
| IP Listesi _(IP List)_ | Kimlik bilgisinin sadece belli IP adreslerden gelmesi gerekiyorsa, bu kimlik bilgisinin hangi IP adreslerinden erişebileceği bilgisi buraya girilir. Boş bırakılması tüm IP'lerden isteğin kabul edileceği anlamına gelir. |
| Açıklama _(Description)_ | Kimlik bilgisi hakkında açıklama girilmek istenirse bu alan doldurulabilir. |
| Gelişmiş Ayarları Aktifleştir _(Enable Advanced Settings)_ | Kimlik bilgisinin parola ve IP listesinin ortam bazlı özelleştirilme ihtiyacı varsa, bu seçenek ile özelleştirme ayarları aktif hale gelir. |
| Ortam Parolası _(Environment Password)_ | İlgili satırdaki ortama özel olarak kullanılmak üzere parola girilebilir. |
| Ortam IP Listesi _(Environment IP List)_ | İlgili satırdaki ortama özel olarak kullanılmak üzere IP listesi girilebilir. |

## Kimlik Bilgisi Erişim Denetimi Ayarları

Kimlik bilgisinin erişim izinlerini ayarlamak için **Erişim Denetimi (Access Control List)** paneline geçilerek işlem yapılır.

Bu panelde erişim izni verilmek istenen API Proxy aşağıdaki görselde kırmızı ile işaretli tuşa basılarak karşımıza çıkan ekrandan seçilir.

![Erişim Denetimi](/images/access-control-list.png)

Açılan ekrandan ayarlamak istenilen API Proxy(ler) seçilir ve aşağıda kırmızı ile işaretlenmiş **Ekle (Add)** tuşuna basılır.

![API Proxy Seçimi](/images/select-api-proxy.png)

Bu işlem ile kimlik bilgisine seçilen API Proxy'ler için erişim izni verilmiş olur. Bu işlemin canlı çalışan kurallar üzerinde aktif hale gelebilmesi için ortamlara yüklenmesi gereklidir.

Bunun için işlemler tamamlandığında sağ üst köşedeki **Kaydet ve Yükle (Save and Deploy)** tuşuna basılarak ayarların aktifleşmesi sağlanır.

![Kaydet ve Yükle](/images/save-and-deploy.png)

API Proxy bazında kimlik bilgisinin özelleştirilmesi için yine bu ekrandan ilgili API Proxy kaydının olduğu satırdaki **Düzenle (Edit)** linkine basılır.

![Düzenleme](/images/edit-proxy-access.png)

Karşımıza çıkan dialogda kimlik bilgisinin bu API Proxy'e özel ayarları yapılabilir:

![Özel Ayarlar](/images/proxy-specific-settings.png)

API Proxy bazlı erişimi özelleştirme konfigürasyonu için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan | Açıklama |
|------|----------|
| Geçerliliğini Yitirme Zamanı _(Expires On)_ | Bu tarih değerinin girilmesi durumunda Kimlik Bilgisi bu tarih geldiği zamandan itibaren API Proxy'e erişemez hale gelir. |
| Ortam Listesi _(Environment List)_ | API Proxy'nin yüklendiği ortama özel olarak Kota ve Daraltma değerlerinin girilebilmesini sağlar. |
| Ortam Kotası _(Quota)_ | API Proxy'nin belirtilen ortama özel Kota değeridir. |
| Ortam Daraltması _(Throttling)_ | API Proxy'nin belirtilen ortama özel Daraltma değeridir. |
| Mesaj Sayısı _(Message Count)_ | Daraltma Aralığı ile verilen süre içinde Backend API'ye gönderilebilecek olan maksimum mesaj sayısıdır. |
| Daraltma Zaman Miktarı _(Interval Time Amount)_ | Seçilen zaman birimi cinsinden, sınırlama penceresinin süresini belirten sayısal değer. |
| Daraltma Zaman Birimi _(Interval Time Unit)_ | API istek sınırlaması için kullanılan zaman aralığı birimi (örneğin, saniye, dakika). |
| Periyot Tipi _(Interval Window Type)_ | API istek sınırlaması için kullanılan zaman aralığı yöntemi (sabit veya kayan). |
| Cache Bağlantısı Zaman Aşım Süresi _(Cache Connection Timeout (Second))_ | Cache bağlantısı için zaman aşımı süresi belirtilir. |
| Cache Bağlantı Hatası Eylemi _(Action for Cache Connection Error)_ | Eğer politika cache sunucusuna bağlantı sorunu yaşarsa uygulanacak eylem belirtilir. |
| İzin Verilmeyen Metodlar _(Disallowed Methods)_ | Kimlik bilgisinin sahip olduğu rollerinden bağımsız olarak API Proxy'nin herhangi bir metoduna erişmemesi isteniyorsa, burada API Proxy'nin erişime kapatılmak istenen metodları seçilir. |
| Kaydet ve Yükle Tuşu _(Save and Deploy)_ | Ayarların/değişikliklerin tamamlanması sonrasında **Kaydet ve Yükle** tuşuna basılarak ayarların aktifleşmesi sağlanır. |

## Token Ayarları

Token ayarları için **Token Ayarları (Token Settings)** paneline geçilerek işlem yapılır.

**Token ayarlarını içeren görsele aşağıda yer verilmiştir:**

![Token Ayarları](/images/token-settings.png)

Token ayarları konfigürasyonu için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan | Açıklama |
|------|----------|
| Onay Türü _(Grant Type)_ | Buna göre token üretimi istenecek olan bilgiler değişmektedir. Client Credentials veya Password seçenekleri mevcuttur. |
| Kimlik/Yetki Doğrulama Servisi _(Identity/Role/Group Service)_ | Grant Type password ise; gönderilecek olan username, password bilgisinin nereden doğrulanacağını belirten kimlik sağlayıcı servisidir. |
| JWT Rejeneratör API Servisi _(Select to JWT Regenerator Service API)_ | Bu özellik yalnızca JWT token kullanımında geçerlidir. JWT token değerinin seçilen API üzerinden kimlik doğrulama olmaksızın tekrar oluşturulmasını sağlar. |
| Önceki Token'ı Sil _(Delete Previous Token)_ | Bu özellik yalnızca OAuth2 token kullanımında geçerlidir. Yeni token alımlarında ya da yapılan yenilemelerde, önceki token'ı geçersiz hale getirir. |
| Token Ölümsüz Olsun _(Token Never Expires)_ | Bu seçenek işaretlenirse token zamana bağlı olarak geçersiz hale gelmez, istenildiği kadar kullanılabilir. |
| Token Geçerlilik Süresi _(Token Expires In)_ | Token'ın kullanılabilir olacağı yaşam süresini belirtir. |
| Token Yenileme Olsun _(Refresh Token Allowed)_ | Token'ın yenilenme özelliğini etkinleştirir. |
| Token Yenileme Sayısı _(Refresh Token Count)_ | Token'ın kaç kez yenilenebilir olacağını belirtir. |
| Yenilenmiş Token Geçerlilik Süresi _(Refresh Token Expires In)_ | Her bir yenilemede, token'ın ne kadarlık yaşam süresine sahip olacağını belirtir. |
| JWT İmzalama Algoritması _(JWT Signature Algorithm)_ | Bu özellik yalnızca JWT token kullanımında geçerlidir. Token üretilirken kullanılacak olan imza algoritmasını seçmek için kullanılır. |
| URL Parametrelerine İzin Ver _(Allow URL Parameters)_ | Token Servisine token üretimi için istek gönderilirken bilgilerin URL parametresi halinde de gönderilmesine izin verir. Güvenlik açısından risk oluşturacağından kullanılmaması tavsiye edilir. |

## JWK Ayarları

JWK ayarları sekmesinde gelen kimlik bilgisinin JWK anahtarları ile ilgili verisinin decrypt edilmesi ve/veya imzasının doğrulanabilmesi için gerekli olan JWK anahtarları seçimleri yapılır.

**JWK ayarlarını içeren görsele aşağıda yer verilmiştir:**

![JWK Ayarları](/images/jwk-settings.png)

JWK Ayarları etkinleştirildiğinde karşımıza çıkan dialog aşağıdaki gibidir:

![JWK Dialog](/images/jwk-dialog.png)

JWK ayarları konfigürasyonu için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan | Açıklama |
|------|----------|
| JOSE İmza & Doğrulama için JWK _(JWK for JOSE Sign & Validation)_ | Kimlik bilgisinin sahip olduğu imzalama/imza doğrulama JWK anahtarıdır. JOSE Validation/Implementation politikalarında kullanıcının anahtarı kullanılsın denildiğinde imzalama/imza doğrulama için bu JWK kullanılır. |
| JOSE Encryption & Descryption için JWK _(JWK for JOSE Encryption & Descryption)_ | Kimlik bilgisinin sahip olduğu şifreleme/şifre doğrulama JWK anahtarıdır. JOSE Validation/Implementation politikalarında kullanıcının anahtarı kullanılsın denildiğinde şifreleme/şifre doğrulama için bu JWK kullanılır. |

## mTLS Ayarları

mTLS ayarları sekmesinde gelen kimlik bilgisinin mTLS Authentication Poliçesi ile sertifikasının doğrulanabilmesi için gerekli olan truststore seçimi yapılır.

**mTLS ayarlarını içeren görsele aşağıda yer verilmiştir:**

![mTLS Ayarları](/images/mtls-settings.png)

mTLS ayarları konfigürasyonu için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan | Açıklama |
|------|----------|
| Truststore | Truststore seçilir. Eğer daha önce tanımlı değil ise yandaki + butonuna basarak yeni bir tane oluşturulabilir. |