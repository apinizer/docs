---
title: "API Kimlik Sağlayıcı"
description: "API ile kullanıcı doğrulama için kimlik sağlayıcı yapılandırması"
---

Kimlik Sağlayıcı, istemcilere verilecek olan kullanıcı havuzunu belirtir. Bu ön tanımlı Kimlik Sağlayıcıları, Kimlik Doğrulama Politikası oluşturulurken kullanılır.

API ile kullanıcı doğrulamak için gerekli ayarlardan İstek sekmesini içeren görsele aşağıda yer verilmiştir:

<img
  src="/images/yonetici/api.jpg"
  alt="Image 2024 9 9 15 35 35 Pn"
  width="800"
  className="mr-auto"
/>

İstek sekmesi konfigürasyonunda kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan                                                      | Açıklama                                                                                                                                                                                                                                                                                |
| --------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Ad** (Name)                                             | Oluşturulan Kimlik Sağlayıcısı için API Kimlik Sağlayıcı adı bilgisidir.                                                                                                                                                                                                                |
| **Açıklama** (Description)                                | Oluşturulan API Kimlik Sağlayıcı ile ilgili yönetimi kolaylaştırmak için açıklama yazılabilir.                                                                                                                                                                                          |
| **HTTP Metodu** (Method)                                  | Kimlik Doğrulaması yapacak API adresinin HTTP Metodu seçilir. Varsayılan Değeri: GET.                                                                                                                                                                                                   |
| **URL** (URL)                                             | Kimlik Doğrulaması yapacak API'nin adresi girilir.                                                                                                                                                                                                                                      |
| **Zaman Aşımı** (Timeout)                                 | Saniye olarak verilen bu süre boyunca sunucuya bağlanılmazsa hata verir ve bağlantı sonlanır. Varsayılan Değeri: 10 saniye.                                                                                                                                                             |
| **Mesaj Şablonu Kullan** (Use Message Template)           | API için bir mesaj şablonu kullanılacak ise aktive edilir.                                                                                                                                                                                                                              |
| **Mesaj Şablonu Tipi** (Template Content Type)            | Mesaj şablonu içeriğinin tipi seçilir. Varsayılan Değeri: JSON.<br />• XML<br />• JSON                                                                                                                                                                                                  |
| **Mesaj Şablonu** (Message Template)                      | Seçilen mesaj şablonu tipine bağlı olarak mesaj şablonu girilir.                                                                                                                                                                                                                        |
| **Kullanıcı Adını Al** (Take Username)                    | Kullanıcı adı alınacak ise aktive edilir.                                                                                                                                                                                                                                               |
| **Kullanıcı Adının Alınacağı Mesaj** (Take Username From) | Kullanıcı adının alınacağı yer seçilir. Varsayılan Değeri: Gelen İstek Mesajı.<br />• Gelen İstek Mesajı (Incoming Request Message)<br />• Kimlik Doğrulama API Yanıt Mesajı (Response of API Authentication)                                                                           |
| **Kullanıcı Adı Değişkeni** (Username Variable)           | Kullanıcı adı değerine erişmek için bir değişken seçilmelidir.                                                                                                                                                                                                                          |
| **İstek Verisi Düzenlemesi** (Request Data Manipulation)  | Gelen isteğin istediğiniz bölümlerini, kimlik doğrulaması yapacak olan API'ye gönderilen istek mesajının içine taşıyabilirsiniz. Kaynak Değişken, gelen mesajın hangi bölümünün alınacağını, Hedef Değişken ise bu bilginin API'ye gönderilecek mesajın neresine koyulacağını belirtir. |

## 

API ile kullanıcı doğrulamak için gerekli ayarlardan Teyit sekmesini içeren görsele aşağıda yer verilmiştir:

<img
  src="/images/yonetici/api2.png"
  alt="Image 2024 9 9 15 35 35 Pn"
  width="800"
  className="mr-auto"
/>

Teyit sekmesi konfigürasyonunda kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan                                               | Açıklama                                                                                                  |
| -------------------------------------------------- | --------------------------------------------------------------------------------------------------------- |
| **Teyit** (Assertions)                             |                                                                                                           |
| **Sonuç Durum Kodu** (Assert Result Status Code)   | Teyit için belirli bir sonuç durum kodunu kullanmak için seçilir.                                         |
| **Beklenen Durum Kodu** (Expected Status Code)     | API tarafından döndürülmesi beklenen durum kodu girilir.                                                  |
| **Sonuç Gövdesi** (Assert Result Body)             | Teyit için belirli bir body dönmesi beklendiği zaman seçilir.                                             |
| **Beklenen Sonuç Gövdesi** (Expected Result Body)  | API tarafından döndürülen yanıt mesajlarının içermesi beklenen metin girilir.                             |
| **XPath Sonucu** (Assert Result XPath)             | Teyit için gelen Xml mesajının belirli bir alanının belirli bir değeri dönmesi beklendiği zaman seçilir.  |
| **Beklenen XPath** (XPath Expression)              | Beklenen değerin bulunduğu kısma işaret eden Xpath girilir.                                               |
| **Beklenen XPath Sonucu** (Expected Result Body)   | Beklenen değer girilir.                                                                                   |
| **JsonPath Sonucu** (Assert Result JsonPath)       | Teyit için gelen Json mesajının belirli bir alanının belirli bir değeri dönmesi beklendiği zaman seçilir. |
| **Beklenen JsonPath** (JsonPath Expression)        | Beklenen değerin bulunduğu kısma işaret eden Jsonpath girilir.                                            |
| **Beklenen JsonPath Sonucu** (Expected Xml Result) | Beklenen değer girilir.                                                                                   |

## 

API ile kullanıcı doğrulamak için gerekli ayarlardan Ortak Yanıt sekmesini içeren görsele aşağıda yer verilmiştir:

<img
  src="/images/yonetici/api3.png"
  alt="Image 2024 9 9 15 35 35 Pn"
  width="800"
  className="mr-auto"
/>

Ortak yanıt sekmesi konfigürasyonunda kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan                                                                                                                      | Açıklama                                                                                            |
| ------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------- |
| **Ortak Yanıt** (Response Common)                                                                                         |                                                                                                     |
| **Başarısız Sonuçta API Yanıt Durum Kodu Kullan** (Use Response Status Code of API in case of Failed Result)              | Teyit kısmının başarısız sayacağı bir mesaj geldiğinde, gelen Http durum kodunu cevap olarak döner. |
| **Başarısız Sonuçta API Yanıtını Token Yanıtının İçine Yerleştir** (Use Response Message of API in case of Failed Result) | Teyit kısmının başarısız sayacağı bir mesaj geldiğinde, Token yanıtı olarak hata mesajını döner.    |

## 

API ile kullanıcı doğrulamak için gerekli ayarlardan Proxy İçin Yanıt sekmesini içeren görsele aşağıda yer verilmiştir:

<img
  src="/images/yonetici/api4.png"
  alt="Image 2024 9 9 15 35 35 Pn"
  width="800"
  className="mr-auto"
/>

Proxy için yanıt sekmesi konfigürasyonunda kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan                                                                                                                                          | Açıklama                                                                                                                                                                                                                              |
| --------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Proxy için Yanıt** (Response for Proxy)                                                                                                     |                                                                                                                                                                                                                                       |
| **Yanıt Başarılı Olduğunda Yanıt Verisi Düzenlemesi - Kaynak Değer/Değişken** (Response Data Manipulation On Success - Source Value/Variable) | Mesaj içeriğinde gelen herhangi bir değerin mesajın neresinden alınması gerektiğini ifade etmek için kullanılan değişkendir. (Değişken kullanımı için Değişkenler sayfasını ziyaret edebilirsiniz.)                                   |
| **Yanıt Başarılı Olduğunda Yanıt Verisi Düzenlemesi - Hedef Değer/Değişken** (Response Data Manipulation On Success - Target Value/Variable)  | Yanıt mesajında dönecek olan mesaj içeriğinden alınmış herhangi bir değerin mesajın neresine konulacağını gerektiğini ifade etmek için kullanılan değişkendir. (Değişken kullanımı için Değişkenler sayfasını ziyaret edebilirsiniz.) |
| **Yanıt Başarısız Olduğunda Veri Düzenlemesi - Kaynak Değer/Değişken** (Response Data Manipulation On Failure - Source Value/Variable)        | Mesaj içeriğinde gelen herhangi bir değerin mesajın neresinden alınması gerektiğini ifade etmek için kullanılan değişkendir. (Değişken kullanımı için Değişkenler sayfasını ziyaret edebilirsiniz.)                                   |
| **Yanıt Başarısız Olduğunda Veri Düzenlemesi - Hedef Değer/Değişken** (Response Data Manipulation On Failure - Target Value/Variable)         | Yanıt mesajında dönecek olan mesaj içeriğinden alınmış herhangi bir değerin mesajın neresine konulacağını gerektiğini ifade etmek için kullanılan değişkendir. (Değişken kullanımı için Değişkenler sayfasını ziyaret edebilirsiniz.) |

## 

API ile kullanıcı doğrulamak için gerekli ayarlardan Belirteç İçin Yanıt sekmesini içeren görsele aşağıda yer verilmiştir:

<img
  src="/images/yonetici/api5.png"
  alt="Image 2024 9 9 15 35 35 Pn"
  width="800"
  className="mr-auto"
/>

Belirteç için yanıt sekmesi konfigürasyonunda kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan                                                                                                    | Açıklama                                                                                                                                                                                                           |
| ------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Belirteç için Yanıt** (Response for Token)                                                            |                                                                                                                                                                                                                    |
| **API Yanıtını Token Yanıtının içine yerleştir** (Insert Response Of API To Token Response)             | Seçilirse API'den dönen yanıt, Token yanıtı olarak döner.                                                                                                                                                          |
| **JWT Token Veri Düzenlemesi - Kaynak Değer/Değişken** (JWT Token Manipulation - Source Value/Variable) | Yanıt mesajında dönecek olan mesaj içeriğinden herhangi bir değerin mesajın neresinden alınacağını ifade etmek için kullanılan değişkendir. (Değişken kullanımı için Değişkenler sayfasını ziyaret edebilirsiniz.) |
| **JWT Token Veri Düzenlemesi - Hak Talebi Adı** (JWT Token Manipulation - Claim Name)                   | Mesaj içeriğinden alınan parça, Jwt Token'ın içerisine burada verilen isimle eklenir.                                                                                                                              |

## 

API ile kullanıcı doğrulamak için gerekli ayarlardan Roller İçin Yanıt sekmesini içeren görsele aşağıda yer verilmiştir:

<img
  src="/images/yonetici/api6.png"
  alt="Image 2024 9 9 15 35 35 Pn"
  width="800"
  className="mr-auto"
/>

Roller için yanıt sekmesi konfigürasyonunda kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan                                                           | Açıklama                                                                                                                                                                |
| -------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Roller için Yanıt** (Response for Roles)                     |                                                                                                                                                                         |
| **Yanıt Rolleri İçerir** (Response Contains Roles)             | Kimliği doğrulanan kullanıcının rollerini, API tarafından döndürülen yanıt içerisinden almak istenirse aktive edilir.                                                   |
| **Rollerin Alınacağı Yer Değişkeni** (Response Contains Roles) | Mesaj içeriğinde gelen hangi değerin rolleri içerdiğini ifade etmek için kullanılan değişkendir. (Değişken kullanımı için Değişkenler sayfasını ziyaret edebilirsiniz.) |