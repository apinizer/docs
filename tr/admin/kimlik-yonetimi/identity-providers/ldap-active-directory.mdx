---
title: 'LDAP Active Directory'
description: 'Kimlik Sağlayıcı, API ye istek gönderecek kullanıcı havuzunu belirtir. Bu ön tanımlı Kimlik Sağlayıcıları, Kimlik Doğrulama Politikası oluşturulurken kullanılır.'
---

"Project Owner" gibi "Kimlik Doğrulama Hizmetlerini Yönet" yetkisine sahip roller tarafından erişilebilir ve yönetilebilir.

LDAP ile kullanıcı doğrulama bağlantı ayarlarını içeren görsele aşağıda yer verilmiştir:

<img
  src="/images/yonetici/ldap-ayar.png"
  alt="Ldap Ayar"
  width="800"
  className="mr-auto"
/>

LDAP ile kullanıcı doğrulama bağlantı ayarları için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan | Açıklama |
| --- | --- |
| Ad *(Name)* | Oluşturulan Kimlik Sağlayıcısı için LDAP/Active Directory Kimlik Sağlayıcı adı bilgisidir. |
| Açıklama *(Description)* | Oluşturulan LDAP/Active Directory Kimlik Sağlayıcı ile ilgili yönetimi kolaylaştırmak için açıklama yazılabilir. |
| LDAP Bağlantı Havuzu Tanımları *(LDAP Connection Pool Definition)* | LDAP bağlantısının alınacağı havuz seçilir ya da oluşturulur. |
| Kimlik Doğrulama Tipi *(LDAP Authentication Type)* | LDAP/Active Directory ile Kimlik Sağlayıcı yapılırken iki yöntemden birisi kullanılabilir:<br/><br/>**1. Basit Kimlik Doğrulama:** Kullanıcı adı/parola çifti LDAP sunucusuna gönderilir, böyle bir kullanıcı olup olmadığı kontrol edilir.<br/><br/>**2. Gelişmiş Kimlik Doğrulama:** Kullanıcı adı/parola çifti kullanılarak kullanıcının üyelikleri, yetkileri gibi özellikleri kullanılır. |
| Kullanıcı Adı İfadesi *(User Configuration Expression)* | Kimlik Doğrulama Tipi, Basit Kimlik Doğrulama olarak seçildiğinde Kullanıcı Adı İfadesi girilir. İstek mesajı içinde gelen kullanıcı adı, aşağıdaki ifadede `{{username}}` yerine yerleştirilerek doğrulanır. Buna göre, aşağıdaki ifadeyi istek mesajı içinde gelecek kullanıcı adının yapısına göre LDAP arama kriterini oluşturacak şekilde girmelisiniz.<br/><br/>Örnek olarak, kullanıcı1 adını kullanan bir kullanıcının LDAP sunucusundaki DN değeri `uid={{username}},ou=People,dc=example,dc=com` olsun.<br/><br/>**Örnek 1:** İstek mesajı içinde kullanıcı adı olarak "kullanıcı1" değeri geliyorsa ifade şöyle yazılmalıdır: `uid={{username}},ou=People,dc=example,dc=com`<br/><br/>**Örnek 2:** İstek mesajı içinde kullanıcı adı olarak "uid=kullanıcı1" değeri geliyorsa ifade şöyle yazılmalıdır: `{{username}},ou=People,dc=example,dc=com`<br/><br/>**Örnek 3:** İstek mesajı içinde kullanıcı olarak "uid=kullanıcı1,ou=People,dc=example,dc=com" değeri geliyorsa ifade şöyle yazılmalıdır: `{{username}}` |
| Kullanıcı Sınıfı Tanımları *(User Object Class Definition)* | Kimlik Doğrulama Tipi, Gelişmiş Kimlik Doğrulama olarak seçildiğinde Kullanıcı Sınıfı Tanım(lar)ı oluşturulur. |
| Grup Sınıfı Tanımları *(Group Object Class Definition)* | Kimlik Doğrulama Tipi, Gelişmiş Kimlik Doğrulama olarak seçildiğinde Grup Sınıfı Tanım(lar)ı oluşturulur. |

## Gelişmiş Ayarlar - Kullanıcı Sınıfı Tanımı

LDAP ile kullanıcı doğrulama bağlantı ayarlarında gelişmiş ayarlardan Kullanıcı Sınıfı Tanımı ayarlarını içeren görsele aşağıda yer verilmiştir:

<img
  src="/images/yonetici/ldap-user.png"
  alt="LDAP Kullanıcı Sınıfı Tanımı"
  width="800"
  className="mr-auto"
/>

LDAP ile kullanıcı doğrulama bağlantı ayarlarında gelişmiş ayarlardan Kullanıcı Sınıfı Tanımı için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan | Açıklama |
| --- | --- |
| Kullanıcı Sınıfı Adı *(User Object Class Definition)* | Kullanıcıları filtrelemek için kullanılacak sınıf adı girilir. Varsayılan değeri: `inetOrgPerson` |
| Custom Filter Niteliği *(Custom Filter Attribute)* | Kullanıcıları getirme esnasında bağlantıdaki filtreye ek olarak kullanılabilecek filtre değeri girilir. Örn: `(&(objectCategory=Person)(sAMAccountName=*))` |
| User Base DN Niteliği *(User Base DN Attribute)* | Bu değer dolu ise bağlantıdaki Base DN yerine, kullanıcıları ararken ve yüklerken bu Base DN kullanılır. Hiçbir değer sağlanmazsa bağlantıdaki Base DN geçerli olur. Örn: `cn=users,dc=ad,dc=example,dc=com` |
| Arama Kapsamı *(Search Scope)* | Arama işleminin base DN üzerinde hangi seviyede yapılacağını belirtir. |
| Tam Ad Niteliği *(Full Name Attribute)* | Kullanıcının tam adını bulmak için kullanılacak niteliğin adı girilir. Varsayılan değeri: `cn` |
| Giriş Adı/Kullanıcı Adı Niteliği *(Login Name Attribute)* | Kullanıcının sisteme girişi için kullanılacak niteliğin (login name) adı girilir. Varsayılan değeri: `uid` |
| Ad Niteliği *(First Name Attribute)* | Kullanıcının adını belirten niteliğin adı girilir. Varsayılan değeri: `givenName` |
| Soyad Niteliği *(Last Name Attribute)* | Kullanıcının soyadını belirten niteliğin adı girilir. Varsayılan değeri: `sn` |
| E-Posta Niteliği *(E-mail Attribute)* | Kullanıcının e-posta adresini belirten niteliğin adı girilir. Varsayılan değeri: `mail` |
| Üyelik Niteliği *(Membership Attribute)* | Kullanıcının grup üyeliklerini belirten niteliğin adı girilir. Varsayılan değeri: `isMemberOf` |
| Alınacak Nitelikler *(Attributes To Fetch)* | LDAP ile kimlik doğrulama yapıldığında, kimlik doğrulamanın yanı sıra kullanıcı hakkında hangi bilgilerin alınacağını belirtir.<br/><br/>LDAP Authentication Provider sayfasında, Advanced Settings (Gelişmiş Ayarlar) seçeneği etkinleştirildiğinde, "Attributes to Fetch" (Alınacak Nitelikler) alanı belirir. Bu alana girilen nitelikler, LDAP kullanıcısında mevcutsa, değerleriyle birlikte alınır ve:<br/><br/>• Eğer LDAP provider JWT üretiminde kullanılıyorsa, bu nitelikler ve değerleri (null olanlar hariç) JWT'nin içine claim olarak eklenir.<br/><br/>• LDAP provider, plaintext, basic veya digest yetkilendirme yöntemlerinde kullanılıyorsa, bu nitelikler ve değerleri, message context'ine custom variable olarak eklenir. Bu sırada key değerinin başına `#clientLDAPAttribute#.` prefix'i eklenir. Örneğin, LDAP üzerinden mail niteliği alınmışsa, key değeri `#clientLDAPAttribute#mail`, value değeri ise `dummy@dummy.com` şeklinde olur. |

## Gelişmiş Ayarlar - Grup Sınıfı Tanımı

LDAP ile kullanıcı doğrulama bağlantı ayarlarında gelişmiş ayarlardan Grup Sınıfı Tanımı ayarlarını içeren görsele aşağıda yer verilmiştir:

<img
  src="/images/yonetici/ldap-group.png"
  alt="LDAP Grup Sınıfı Tanımı"
  width="800"
  className="mr-auto"
/>

LDAP ile kullanıcı doğrulama bağlantı ayarlarında gelişmiş ayarlardan Grup Sınıfı Tanımı için kullanılan alanlar aşağıdaki tabloda görülmektedir.

| Alan | Açıklama |
| --- | --- |
| Grup Sınıfı Adı *(Group Object Class Name)* | Grupları filtrelemek için kullanılacak sınıf adı girilir. Varsayılan değeri: `groupOfUniqueNames` |
| Custom Filter Niteliği *(Custom Filter Attribute)* | Gruplar alınırken bağlantıdaki filtreye ek olarak kullanılabilecek filtre değeridir. |
| Group Base DN Niteliği *(Group Base DN Attribute)* | Bu alanda değer varsa bağlantıda Base DN yerine grup aranırken ve yüklenirken bu Base DN kullanılır. Hiçbir değer sağlanmazsa bağlantıdaki Base DN geçerli olur. |
| Arama Kapsamı *(Search Scope)* | Arama işleminin base DN üzerinde hangi seviyede yapılacağını belirtir. |
| Grup Adı Niteliği *(Group Name Attribute)* | Grup adını tutan niteliğin adını girilir. |
| Grup Üyeliği Niteliği *(Member Attribute)* | Grup üyelerini tutan niteliğin adını girilir. |
| Grup Üyeliği Belirleme Niteliği *(Member Strategy)* | Grup üyelerini belirlemek için kullanılacak yöntem seçilir. Varsayılan değeri: `USER DN`<br/><br/>Alabileceği değerler:<br/>• USER DN<br/>• USER LOGIN |