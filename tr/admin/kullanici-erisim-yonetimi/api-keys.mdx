---
title: API Keys
description: Apinizer'da kimlik bilgileri (API Keys) yönetimi ve erişim denetimi
---

Apinizer'da Kimlik Yönetimi ile yapılan erişim denetimi ayarı 2 farklı şekilde yapılandırılabilir:

1. **Kimlik bilgileri üzerinden**: Bu yöntemde kimlik bilgisinin detayına gidilir. Kimlik bilgisinin detayında erişim izni verilmiş API Proxy'ler ve ayarları görüntülenerek işlem yapılır.
2. **API Proxyler üzerinden**: Bu yöntemde API Proxy'nin detayına gidilir. API Proxy'e erişim izni verilmiş kimlik bilgileri görüntülenerek işlem yapılır.

Bu sayfa, birinci seçenekteki koşulu gerçekleştirir.

Apinizer'da tanımlı olan API Proxy'e erişim sağlayacak olan istemcilerin kimlik bilgisi bu sayfadan oluşturulur ve yönetilir.


<Warning>
Kimlik bilgisi erişim izni, API proxy'e erişim için tek başına yeterli değildir. Kimlik bilgisindeki ve erişim iznindeki ayarların geçerli olması için API Proxy üzerinde kimlik doğrulama politikalarından birisi eklenmiş olmalı ve bu politikada kimlik doğrulama şekli olarak **Security Manager** seçeneği seçili olmalıdır.
</Warning>

## Kimlik Bilgisi Listesi

Ekran bileşenleri için kullanılan alanlar:

| Alan | Açıklama |
|------|----------|
| **Arama Alanı (Advanced Search)** | Kimlik bilgileri üzerinde detaylı arama yapmak için kullanılır. |
| **Kimlik Bilgisi Listesi (Access Control List)** | Kimlik bilgilerinin listelendiği ve sıralandığı tablodur. |
| **Oluştur (Create)** | Yeni "Kimlik Bilgisi" oluşturmak için kullanılır. |
| **CSV'den İçe Aktar (Import From CSV)** | Topluca kimlik bilgisi kaydedilmesi için kullanılır. |
| **Veriyi Aktar (Import)** | Kimlik bilgisini .json veya .zip uzantılı olarak içe aktarmak için kullanılır. |
| **Kimlik Bilgileri Listesini Excel Dosyası Olarak Dışa Aktar** | Kimlik bilgileri listesini excel dosyası olarak indirmek için kullanılır. |
| **Dışa Aktar (Export)** | Kimlik bilgisine ait tüm veriler, başka bir projede tekrar kullanmak için dışa aktarılabilir. Bu süreçte, sadece genel bilgiler dışa aktarılır. Gelişmiş ayarlar, API Proxy EKL, API Proxy Grup EKL, JWK ayarları ve mTLS ayarları, proje bazında bilgiler oldukları için dışa aktarılmaz. |

## CSV ile Toplu Kimlik Bilgisi Aktarımı

Hali hazırda mevcut olan kimlik bilgilerinin Apinizer'a aktarımı için CSV'den aktar özelliği kullanılabilir.

Bu özellik kullanılmak istenirse:

- Mevcut kullanıcı bilgileri her bir kayıt bir satıra gelecek şekilde yazılmalıdır.
- Kayıt içerisinde kullanıcı adı ve parola bilgisi beraber ve parola bilgisi açık olarak yer almak zorundadır.
- **kullanıcı adı** ve **parola** bilgisi arasına ayıraç olarak **"#"** işareti koyulmalıdır.
- Her bir satır Enter tuşu ile ayrılmalıdır.

Bu şekilde hazırlanan veriler açılan ekrana girilerek içe aktar tuşuna basılır.

## Kimlik Bilgisini Dışa Aktarma

Kimlik Bilgisi'ni dışa aktarmak için satır sonundaki menüden **Dışa Aktar (Export)** seçilir.

## Kimlik Bilgisini Globalleştirme

Kimlik bilgileri "Globalleştir" seçeneği ile Admin sayfasına taşınarak görünümü bu listeden kalkar, tüm projelerde kullanılabilir hale gelir ve yönetimi Admin kullanıcısına bırakılır.

Kimlik Bilgisi'ni globalleştirmek için satır sonundaki menüden **Globalleştir (Move to Global)** seçilir.

## Kimlik Bilgisi Oluşturma

Kimlik bilgileri eklemek için **Oluştur (Create)** tuşuna basılır.

Kimlik bilgilerinin üzerinde iki tür işlem yapılabilir:

1. Kimlik bilgisinin detaylarının girilmesi, oluşturulması veya güncellenmesi
2. Kimlik bilgisinin erişim denetimi listesinin oluşturulması veya güncellenmesi

### Kimlik Bilgisi Alanları

| Alan | Açıklama |
|------|----------|
| **Kullanıcı Adı (Username)** | Kimliği ifade edecek "kullanıcı adı" bilgisidir, yetkilendirme için kullanıcı kimliğine erişmek için bu değer kullanılır. Tüm sistemde tekil ve biricik olmak zorundadır. |
| **Parola (Password)** | Kimliğin parola bilgisidir. İstenirse yanındaki tuş ile otomatik oluşturulabilir. |
| **E-Posta (E-Mail)** | Kimliğin sahibi istemciye erişmek için kullanılan ve istemciye ait mail bilgisidir. |
| **Tam Adı (Full Name)** | Kimliğin sahibi istemcinin tam adıdır. |
| **Aktif (Enabled)** | Kimlik bilgisinin aktif (kullanılabilir) olup olmadığını belirtir. Seçilmiş ise aktiftir. |
| **Kurum (Organization)** | Kimlik bilgisinin bağlı olduğu kurum/organizasyon bilgisi isteğe bağlı olarak seçilebilir. Sadece bilgi/raporlama amacıyla tutulur. |
| **Roller (Roles)** | Kimlik bilgisinin sahip olduğu rollerdir. Bu rollere göre yetkilendirme yapılır. |
| **IP Listesi (IP List)** | Kimlik bilgisinin sadece belli IP adreslerden gelmesi gerekiyorsa, bu kimlik bilgisinin hangi IP adreslerinden erişebileceği bilgisi buraya girilir. Boş bırakılması tüm IP'lerden isteğin kabul edileceği anlamına gelir. |
| **Açıklama (Description)** | Kimlik bilgisi hakkında açıklama girilmek istenirse bu alan doldurulabilir. |
| **Gelişmiş Ayarları Aktifleştir (Enable Advanced Settings)** | Kimlik bilgisinin parola ve IP listesinin ortam bazlı özelleştirilme ihtiyacı varsa, bu seçenek ile özelleştirme ayarları aktif hale gelir. Seçildiğinde her bir ortam için parola ve IP listesi girilebilir hale gelir. |
| **Ortam Parolası (Environment Password)** | İlgili satırdaki ortama özel olarak kullanılmak üzere parola girilebilir. |
| **Ortam IP Listesi (Environment IP List)** | İlgili satırdaki ortama özel olarak kullanılmak üzere IP listesi girilebilir. |

## Kimlik Bilgisi Erişim Denetimi Ayarları

Kimlik bilgisinin erişim izinlerini ayarlamak için **Erişim Denetimi (Access Control List)** paneline geçilerek işlem yapılır.

Bu panelde erişim izni verilmek istenen API Proxy seçilir ve **Ekle (Add)** tuşuna basılır.

Bu işlem ile kimlik bilgisine seçilen API Proxy'ler için erişim izni verilmiş olur. Bu işlemin canlı çalışan kurallar üzerinde aktif hale gelebilmesi için ortamlara yüklenmesi gereklidir.

Bunun için işlemler tamamlandığında sağ üst köşedeki **Kaydet ve Yükle (Save and Deploy)** tuşuna basılarak ayarların aktifleşmesi sağlanır.

### API Proxy Bazlı Özelleştirme

API Proxy bazında kimlik bilgisinin özelleştirilmesi için ilgili API Proxy kaydındaki **Düzenle (Edit)** linkine basılır.

API Proxy bazlı erişimi özelleştirme konfigürasyonu için kullanılan alanlar:

| Alan | Açıklama |
|------|----------|
| **Geçerliliğini Yitirme Zamanı (Expires On)** | Bu tarih değerinin girilmesi durumunda Kimlik Bilgisi bu tarih geldiği zamandan itibaren API Proxy'e erişemez hale gelir. |
| **Ortam Listesi (Environment List)** | API Proxy'nin yüklendiği ortama özel olarak Kota ve Daraltma değerlerinin girilebilmesini sağlar. |
| **Ortam Kotası (Quota)** | API Proxy'nin belirtilen ortama özel Kota değeridir. |
| **Ortam Daraltması (Throttling)** | API Proxy'nin belirtilen ortama özel Daraltma değeridir. |
| **Mesaj Sayısı (Message Count)** | Daraltma Aralığı ile verilen süre içinde Backend API'ye gönderilebilecek olan maksimum mesaj sayısıdır. |
| **Daraltma Zaman Miktarı (Interval Time Amount)** | Seçilen zaman birimi cinsinden, sınırlama penceresinin süresini belirten sayısal değer. |
| **Daraltma Zaman Birimi (Interval Time Unit)** | API istek sınırlaması için kullanılan zaman aralığı birimi (örneğin, saniye, dakika). |
| **Periyot Tipi (Interval Window Type)** | API istek sınırlaması için kullanılan zaman aralığı yöntemi (sabit veya kayan). |
| **Cache Bağlantısı Zaman Aşım Süresi** | Cache bağlantısı için zaman aşımı süresi belirtilir. |
| **Cache Bağlantı Hatası Eylemi** | Eğer politika cache sunucusuna bağlantı sorunu yaşarsa uygulanacak eylem belirtilir. |
| **İzin Verilmeyen Metodlar (Disallowed Methods)** | Kimlik bilgisinin sahip olduğu rollerinden bağımsız olarak API Proxy'nin herhangi bir metoduna erişmemesi isteniyorsa, burada API Proxy'nin erişime kapatılmak istenen metodları seçilir. |

## Token Ayarları

Token ayarları için **Token Ayarları (Token Settings)** paneline geçilerek işlem yapılır.

Token ayarları konfigürasyonu için kullanılan alanlar:

| Alan | Açıklama |
|------|----------|
| **Onay Türü (Grant Type)** | Buna göre token üretimi istenecek olan bilgiler değişmektedir. Client Credentials veya Password. |
| **Kimlik/Yetki Doğrulama Servisi** | Grant Type password ise; gönderilecek olan username, password bilgisinin nereden doğrulanacağını belirten kimlik sağlayıcı servisidir. |
| **JWT Rejeneratör API Servisi** | Bu özellik yalnızca JWT token kullanımında geçerlidir. JWT token değerinin seçilen API üzerinden kimlik doğrulama olmaksızın tekrar oluşturulmasını sağlar. |
| **Önceki Token'ı Sil** | Bu özellik yalnızca OAuth2 token kullanımında geçerlidir. Yeni token alımlarında ya da yapılan yenilemelerde, önceki token'ı geçersiz hale getirir. |
| **Token Ölümsüz Olsun** | Bu seçenek işaretlenirse token zamana bağlı olarak geçersiz hale gelmez, istenildiği kadar kullanılabilir. |
| **Token Geçerlilik Süresi** | Token'ın kullanılabilir olacağı yaşam süresini belirtir. |
| **Token Yenileme Olsun** | Token'ın yenilenme özelliğini etkinleştirir. |
| **Token Yenileme Sayısı** | Token'ın kaç kez yenilenebilir olacağını belirtir. |
| **Yenilenmiş Token Geçerlilik Süresi** | Her bir yenilemede, token'ın ne kadarlık yaşam süresine sahip olacağını belirtir. |
| **JWT İmzalama Algoritması** | Bu özellik yalnızca JWT token kullanımında geçerlidir. Token üretilirken kullanılacak olan imza algoritmasını seçmek için kullanılır. |
| **URL Parametrelerine İzin Ver** | Token Servisine token üretimi için istek gönderilirken bilgilerin URL parametresi halinde de gönderilmesine izin verir. Güvenlik açısından risk oluşturacağından kullanılmaması tavsiye edilir. |

## JWK Ayarları

JWK ayarları sekmesinde gelen kimlik bilgisinin JWK anahtarları ile ilgili verisinin decrypt edilmesi ve/veya imzasının doğrulanabilmesi için gerekli olan JWK anahtarları seçimleri yapılır.

| Alan | Açıklama |
|------|----------|
| **JOSE İmza & Doğrulama için JWK** | Kimlik bilgisinin sahip olduğu imzalama/imza doğrulama JWK anahtarıdır. JOSE Validation/Implementation politikalarında kullanıcının anahtarı kullanılsın denildiğinde imzalama/imza doğrulama için bu JWK kullanılır. |
| **JOSE Encryption & Descryption için JWK** | Kimlik bilgisinin sahip olduğu şifreleme/şifre doğrulama JWK anahtarıdır. JOSE Validation/Implementation politikalarında kullanıcının anahtarı kullanılsın denildiğinde şifreleme/şifre doğrulama için bu JWK kullanılır. |

## mTLS Ayarları

mTLS ayarları sekmesinde gelen kimlik bilgisinin mTLS Authentication Politikası ile sertifikasının doğrulanabilmesi için gerekli olan truststore seçimi yapılır.

| Alan | Açıklama |
|------|----------|
| **Truststore** | Truststore seçilir. Eğer daha önce tanımlı değil ise yandaki + butonuna basarak yeni bir tane oluşturulabilir. |
