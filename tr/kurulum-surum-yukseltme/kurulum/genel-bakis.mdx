---
title: "Kurulum Genel Bakış"
description: 'Apinizer kurulumu için gerekli tüm bilgiler: kurulum öncesi kararlar, erişim ve port gereksinimleri, kurulum dizini rehberi'
---

Bu sayfa, Apinizer'ın Kubernetes üzerinde kurulumuna başlamadan önce bilmeniz gereken tüm bilgileri kapsamlı bir şekilde sunar. Kurulum öncesi kararlar, erişim ve port gereksinimleri ile kurulum dizini rehberi gibi kritik konuları içerir.

<Info>
  **Not:** Bu dokümantasyon Kubernetes 1.31.0 ve Flannel 0.27.4 versiyonu için kontrol edilmiş ve onaylanmıştır. Farklı Kubernetes ve Flannel versiyonlarında portlar değişiklik gösterebilir.
</Info>

<Warning>
  **Apinizer, üretim ortamı için tek sunucuya kurulum yapılmasını tavsiye etmez. Böyle bir kurulum konfigürasyonunu sadece PoC ortamları için değerlendiriniz.**
</Warning>

## Kuruluma Başlamadan Önce

Apinizer kurulumuna başlamadan önce aşağıdaki konularda hazırlık yapmanız ve kararlar vermeniz gerekmektedir:

### 1. Deployment Modeli Seçimi

Hangi deployment modelini kullanacağınıza karar vermelisiniz. Apinizer farklı gereksinimlere uygun üç temel deployment modeli sunar:

* **All-in-One (Standalone)**: Test ve PoC ortamları için
* **Distributed**: Orta ölçekli production ortamları için
* **Clustered (HA)**: Yüksek erişilebilirlik gereksinimleri olan production ortamları için

Detaylı bilgi için → [Deployment Modelleri](/tr/apinizer-anlama/deployment/deployment-modelleri) sayfasına bakınız.

### 2. Kurulum Öncesi Kararlar

Kurulum öncesi aşağıdaki konularda karar vermeniz gerekmektedir:

* **Altyapı**: Kubernetes ve MongoDB kurulum yöntemi, internet erişimi durumu, sunucu tahsisi
* **Ağ ve Güvenlik**: WAF ve firewall ürünleri, IP bloğu kullanımı, SSL sonlandırma noktası
* **Port ve DNS**: Port yapılandırması, DNS çözümleme yöntemi, DNS adresleri
* **Loglama**: Trafik logları hedefi, yedekleme stratejisi, hassas bilgi koruması
* **Kullanıcı Yönetimi**: Admin hesabı kullanımı, LDAP/AD entegrasyonu
* **Destek**: Destek erişim yöntemi, VPN yapılandırması

### 3. Erişim ve Port Gereksinimleri

Kurulum için gerekli internet erişimi ve port gereksinimlerini kontrol etmelisiniz. Aşağıdaki bölümde detaylı bilgiler bulunmaktadır.

### 4. Kurulum Dizini Rehberi

Kurulum işlemlerini gerçekleştirmek için `/tr/kurulum-surum-yukseltme` dizini altındaki sayfaları kullanabilirsiniz. Her sayfanın ne işe yaradığı aşağıda açıklanmıştır.

## Kurulum Öncesi Kararlar

Apinizer'ı verimli bir şekilde kullanabilmek için nasıl kullanılacağına karar verilip, bu ayarlarla Apinizer'ın kurulması ve ayarlanması önerilmektedir. Bu yüzden bazı soruların cevaplarının hazır olması bu kurulum ve ayarlama işlemlerini büyük ölçüde hızlandıracaktır.

Aşağıdaki tabloda kurulum öncesi verilmesi gereken kararlar kategorilere ayrılmış ve önerilerle birlikte sunulmuştur.

### Karar Verme Checklist

| Kategori | Karar Konusu | Öneriler | Tercihiniz |
|----------|--------------|----------|------------|
| **Altyapı** | Kubernetes ve MongoDB kurulum yöntemi | • Kurumunuzda hazırda bu bileşenler varsa bunların kullanılması<br/>• Kurulum yapılacaksa ekibiniz tarafından hazırlanması<br/>• Kurulum yapılacaksa Apinizer ekibi tarafından yapılması | |
| | Internet erişimi durumu | • Tam internet erişimi (online kurulum)<br/>• Kısıtlı internet erişimi (offline kurulum) | |
| | Sunucu tahsisi | • Kurumunuz çalışanları kuracak<br/>• Apinizer ekibine sunucu tahsis edilecek | |
| **Ağ ve Güvenlik** | WAF ve firewall ürünleri | • Varsa bildirilmesi (iç trafiği engelleyebilir)<br/>• Kurumunuz Ağ ve Güvenlik Birimi çalışanlarından bilgi alınmalı | |
| | IP bloğu kullanımı (10.244.x.x) | • Kullanılıyorsa Apinizer kurulumu başka bir blok üzerine kurulması gerekeceğinden kurumunuz network ekibinden bu bilgi alınmalı | |
| | SSL sonlandırma noktası | • Kurumunuza ait güvenlik duvarında<br/>• Kurumunuzun DNS yönlendirmesi ve load balans işlemlerini gerçekleştirdiği uygulamada<br/>• Apinizer worker uygulamalarında | |
| **Port ve DNS** | Port yapılandırması | • 30000-32767 aralığından Manager için 32080, worker için 30080 veya 30090<br/>• Kurumunuz DevOps Ekibi yönetiminde ayarlanacak portlarda (yine aynı aralıktan ya da nginx ingress kullanarak) | |
| | DNS çözümleme yöntemi | • Sunucuların otomatik çözeceği şekilde ayarlanması<br/>• Hostname-IP ikililerinin liste olarak Apinizer'a eklenmek için hazırlanması | |
| | DNS adresleri | • `apiyonetim.kurum.com` ve `api.kurum.com` gibi adresler | |
| **Loglama** | Trafik logları hedefi | • Apinizer'ın kuracağı Elasticsearch ile tahsis edilen sunuculardan birine<br/>• Kurumunuzun ayarladığı başka bir uygulamaya | |
| | Yedekleme stratejisi | • Kurumunuz Sistem ekibi çalışanları logların yazıldığı diski olduğu gibi yedekleyecek<br/>• Kurumunuz Sistem ekibi çalışanları logların bulunduğu sunucuyu olduğu gibi yedekleyecek<br/>• Snapshot politikasıyla belirli bir sunucudaki belirli bir adrese gönderilmesi | |
| | Hassas bilgi koruması | • Kurumunuza ait Bilgi Güvenliği Ekibinden kurum politikası istenebilir<br/>• Tckn ve TcKimlikNo gibi kişisel veri tutan anahtar değerler | |
| | Uygulama ve Token alma logları | • Apinizer'ın konfigürasyon veritabanına<br/>• Kurumunuzun ayarladığı başka bir uygulamaya | |
| | Veritabanı log büyüme kontrolü | • Bu loglar belirli sürelerde silinecek<br/>• Disk doldukça genişletilecek | |
| **Kullanıcı Yönetimi** | Admin hesabı kullanımı | • Apinizer'ı varsa Entegrasyon Biriminiz çalışanlarının kullanması, kullanacak kişilere kendilerine ait ve yetkili kullanıcı hesapları oluşturulması, admin hesabının devredışı bırakılması<br/>• Admin kullanıcısının Apinizer'dan sorumlu tek bir kişi tarafından kullanılması | |
| | LDAP/AD entegrasyonu | • Kullanıcılar her zaman Apinizer'a tanımlanmalıdır ancak şifre doğrulaması kurumunuza ait LDAP/AD uygulaması Apinizer'a tanımlanıp, bağlanacak kullanıcıları doğrulayabilecek yetkide bir kullanıcı ya da servis hesabı açılması<br/>• Kullanıcıların tamamen Apinizer'dan yönetilmesi | |
| **Destek** | Destek erişim yöntemi | • VPN tanımlanması ve sadece Apinizer sunucuları ile Apinizer arayüzüne yetki verilmesi<br/>• Anydesk, Team Viewer gibi uzaktan erişim sağlayan uygulamalar ile<br/>• Zoom, Cisco Webex, Microsoft Teams, Skype gibi uzaktan erişime izin veren toplantı uygulamaları ile | |

## Erişim ve Port Gereksinimleri

### Internet Erişim Gereksinimleri

Kurulum sırasında aşağıdaki adreslere internet erişimi gereklidir:

| Adres | Açıklama |
|-------|----------|
| `archive.ubuntu.com` / `cdn.redhat.com` | İşletim sistemi paketleri |
| `*.docker.com`, `*.docker.io` | Docker image'leri |
| `*.k8s.io` | Kubernetes bileşenleri |
| `*.amazonaws.com` | Kubernetes dokümantasyonuna göre gerekli |
| `*.mongodb.org` | MongoDB paketleri |
| `artifacts.elastic.co` | Elasticsearch paketleri |

### Kubernetes Cluster Port Gereksinimleri

Aşağıdaki ağ şeması örneği, bir Kubernetes cluster içinde worker node'ların master node'lara erişimini sağlamak için hangi bağlantı noktalarının yapılandırılması gerektiğini açıklar.

#### Worker Node → Master Node Port İzinleri

Diyagramda belirtilen bağlantı noktaları, Kubernetes Worker Node'larının Master Node'larla kesintisiz iletişim kurabilmesi için gereklidir.

| Port | Protokol | Açıklama | Gerekli |
|------|----------|----------|---------|
| 6443 | HTTPS | Kubernetes API Server | ✅ |
| 10250 | HTTPS | Kubelet API | ✅ |
| 10259 | HTTPS | Kube-scheduler | ✅ |
| 10257 | HTTPS | Kube-controller-manager | ✅ |
| 2379-2380 | TCP | etcd client/server | ✅ |
| 8472 | UDP | Flannel VXLAN | ✅ |
| 51820/51821 | UDP | Flannel Wireguard | ⚠️ |

#### Master Node → Worker Node Port İzinleri

Kubernetes Master/Control Plane sunucularından Worker sunuculara doğru olan bağlantılar, Kubernetes'in cluster bileşenleri arasındaki iletişim için gereklidir.

| Port | Protokol | Açıklama | Gerekli |
|------|----------|----------|---------|
| 10250 | HTTPS | Kubelet API | ✅ |
| 30000-32767 | TCP/UDP | NodePort Services | ✅ |
| 8472 | UDP | Flannel VXLAN | ✅ |
| 51820/51821 | UDP | Flannel Wireguard | ⚠️ |

#### Master Node ↔ Master Node Port İzinleri

Kubernetes Master sunucular arası bağlantılar, Kubernetes'in cluster bileşenleri arasındaki iletişim için gereklidir.

| Port | Protokol | Açıklama | Gerekli |
|------|----------|----------|---------|
| 6443 | HTTPS | Kubernetes API Server | ✅ |
| 2379-2380 | TCP | etcd client/server | ✅ |
| 10250 | HTTPS | Kubelet API | ✅ |
| 10259 | HTTPS | Kube-scheduler | ✅ |
| 10257 | HTTPS | Kube-controller-manager | ✅ |
| 8472 | UDP | Flannel VXLAN | ✅ |

<Warning>
  **Not:** Tüm default portlar değiştirilebilir ancak bu durumda işlemler ve izinler dikkatle yapılmalıdır.
</Warning>

### Kubernetes High Availability (HA) Cluster

Kubernetes High Availability (Yüksek Erişim) Cluster kurulumu yapılırken:

#### Load Balancer VIP Erişimi

Kubernetes Master/Control Plane ve Worker sunucularında, Load Balancer'ın VIP'sine 6443 portu üzerinden erişim sağlanacak şekilde gerekli izinler tanımlanmalıdır.

| Yönlendirme | Açıklama |
|-------------|----------|
| VIP → Master Node 1:6443 | Load Balancer yük dengelemesi |
| VIP → Master Node 2:6443 | Load Balancer yük dengelemesi |
| VIP → Master Node 3:6443 | Load Balancer yük dengelemesi |

Load Balancer yapılandırması için HAProxy örneği mevcuttur.

### Apinizer Port Gereksinimleri

Kubernetes dış erişimler için varsayılan olarak 30000-32767 aralığındaki portları kullanır. Apinizer için belirli varsayılan portlar kullanılmasına rağmen bunlar isteğe bağlı özelleştirilebilmektedir.

#### Worker Sunucuları İçin

| Servis | Port | Protokol | Açıklama |
|--------|------|----------|----------|
| **Manager** | 32080 | HTTP | Apinizer Manager erişimi |
| **Worker** | 30080 veya 30090 | HTTP | Apinizer Worker (API Gateway) erişimi |

#### MongoDB Sunucuları İçin

| Servis | Port | Protokol | Açıklama |
|--------|------|----------|----------|
| **MongoDB** | 27017 | TCP | MongoDB erişimi (Replica Set için node'lar arası iletişim) |

#### Elasticsearch Sunucuları İçin

| Servis | Port | Protokol | Açıklama |
|--------|------|----------|----------|
| **Elasticsearch HTTP** | 9200 | HTTP | Elasticsearch HTTP API erişimi |
| **Elasticsearch Transport** | 9300 | TCP | Elasticsearch cluster iletişimi |

### Port Gereksinimleri Özeti

| Kategori | Port | Protokol | Açıklama |
|----------|------|----------|----------|
| **Kubernetes API** | 6443 | HTTPS | Kubernetes API Server |
| | 10250 | HTTPS | Kubelet API |
| | 10259 | HTTPS | Kube-scheduler |
| | 10257 | HTTPS | Kube-controller-manager |
| **Network Plugin** | 8472 | UDP | Flannel VXLAN |
| | 51820/51821 | UDP | Flannel Wireguard (opsiyonel) |
| **Apinizer** | 32080 | HTTP | Manager |
| | 30080/30090 | HTTP | Worker |
| **Database** | 27017 | TCP | MongoDB |
| | 9200 | HTTP | Elasticsearch HTTP |
| | 9300 | TCP | Elasticsearch Transport |

<Warning>
  **Not:** Ingress Controller, Metric Server, Rancher, Lens vb. uygulamalar kullanılacak ya da Kubernetes bulut ortama kurulacaksa port gereksinimleri harici olarak kontrol edilmelidir.
</Warning>

## Kurulum Dizini Rehberi

`/tr/kurulum-surum-yukseltme` dizini altında Apinizer kurulumu, sürüm yükseltme ve yedekleme işlemleri ile ilgili tüm dokümantasyon bulunmaktadır. Aşağıda her bölümün ne işe yaradığı açıklanmıştır.

### Kurulum Bölümü (`/kurulum`)

Kurulum bölümü, Apinizer ve bağımlılıklarının kurulumu ile ilgili tüm bilgileri içerir.

#### Genel Bakış (`/kurulum/genel-bakis`)

Kuruluma başlamadan önce bilmeniz gereken tüm bilgiler: kurulum öncesi kararlar, erişim ve port gereksinimleri.

#### Kubernetes Kurulumu (`/kurulum/kubernetes`)

Kubernetes cluster kurulumu ve yapılandırması ile ilgili kılavuzlar:

* **Kubernetes Dashboard**: Kubernetes Dashboard kurulumu ve kullanımı
* **High Availability Cluster**: Yüksek erişilebilirlik için Kubernetes cluster kurulumu
* **Metric Server**: Kubernetes Metric Server kurulumu
* **Prometheus ve Grafana**: Monitoring için Prometheus ve Grafana entegrasyonu

#### MongoDB Kurulumu (`/kurulum/mongodb`)

MongoDB veritabanı kurulumu ve yapılandırması:

* **Ubuntu Üzerinde MongoDB**: Ubuntu işletim sistemi için MongoDB kurulumu
* **Red Hat Üzerinde MongoDB**: Red Hat Enterprise Linux için MongoDB kurulumu

#### Elasticsearch Kurulumu (`/kurulum/elasticsearch`)

Elasticsearch kurulumu ve yapılandırması:

* **Ubuntu**: Ubuntu üzerinde Elasticsearch kurulumu
* **Red Hat**: Red Hat üzerinde Elasticsearch kurulumu
* **Kubernetes**: Kubernetes üzerinde Elasticsearch kurulumu
* **Basit Kimlik Doğrulama**: Elasticsearch güvenlik yapılandırması
* **Yetki Gereksinimleri**: Elasticsearch yetkilendirme ayarları
* **Yedekleme Politikası**: Elasticsearch yedekleme stratejileri
* **Manuel ILM Politikası**: Index Lifecycle Management yapılandırması

#### Apinizer Kurulumu (`/kurulum/apinizer`)

Apinizer platformunun kurulumu:

* **Apinizer**: Temel Apinizer kurulumu
* **API Integration**: API entegrasyonu kurulumu
* **API Portal**: API Portal kurulumu
* **Multi-Region**: Çoklu bölge kurulumu

#### Bulut Kurulumları (`/kurulum/bulut`)

Bulut ortamlarında kurulum:

* **Amazon EKS**: Amazon Elastic Kubernetes Service üzerinde kurulum
* **Microsoft AKS**: Azure Kubernetes Service üzerinde kurulum
* **OpenShift Origin**: OpenShift üzerinde kurulum

#### Helm Kurulumları (`/kurulum/helm`)

Helm chart'ları ile kurulum:

* **Apinizer Helm**: Apinizer için Helm chart kurulumu
* **Elasticsearch Helm**: Elasticsearch için Helm chart kurulumu
* **MongoDB Helm**: MongoDB için Helm chart kurulumu

#### Offline Kurulum (`/kurulum/offline`)

Internet erişimi olmayan ortamlar için offline kurulum:

* **Giriş**: Offline kurulum genel bakış
* **Ubuntu**: Ubuntu için offline kurulum
* **RHEL 8.x**: Red Hat Enterprise Linux 8.x için offline kurulum
* **RHEL 9.x**: Red Hat Enterprise Linux 9.x için offline kurulum

### Sürüm Yükseltme Bölümü (`/surum-yukseltme`)

Apinizer ve bağımlılıklarının sürüm yükseltme işlemleri:

* **Apinizer Sürüm Yükseltme**: Apinizer platformunun sürüm yükseltme adımları
* **Kubernetes Sürüm Yükseltme**: Kubernetes cluster sürüm yükseltme
* **MongoDB Sürüm Yükseltme**: MongoDB veritabanı sürüm yükseltme

### Yedek ve Geri Yükleme Bölümü (`/yedek-ve-geri-yukleme`)

Yedekleme ve geri yükleme işlemleri:

* **Yedekleme**: MongoDB yedekleme işlemleri ve stratejileri
* **Geri Yükleme**: MongoDB geri yükleme işlemleri
* **MongoDB Yedekleme ve Geri Yükleme**: MongoDB için kapsamlı yedekleme ve geri yükleme rehberi

## Önemli Notlar

<Info>
- Kurulum öncesi tüm kararları vermeniz ve gerekli hazırlıkları yapmanız kurulum sürecini hızlandıracaktır
- Deployment modeli seçimi, kurulum topolojisi ve kaynak gereksinimlerini belirler
- Port ve erişim gereksinimlerini kurulum öncesi kontrol etmeniz önemlidir
- Offline kurulum yapacaksanız gerekli tüm paketleri önceden hazırlamalısınız
</Info>

<Warning>
- Production ortamları için tek sunucuya kurulum yapılması önerilmez
- Test/PoC kurulumlarını yük testi amacıyla kullanmayınız
- Kritik işlemlerden önce mutlaka yedek alın
- Port değişiklikleri yapılacaksa dikkatle yapılmalıdır
</Warning>

## Sonraki Adımlar

<CardGroup cols={2}>
  <Card title="Deployment Modelleri" href="/tr/apinizer-anlama/deployment/deployment-modelleri">
    Hangi deployment modelini seçeceğinizi öğrenin
  </Card>
  <Card title="Ağ Bağlantı Matrisi" href="/tr/apinizer-anlama/sistem/ag-baglanti-matrisi">
    Apinizer bileşenleri arası port gereksinimlerini öğrenin
  </Card>
  <Card title="Port İzinleri" href="/tr/apinizer-anlama/sistem/port-izinleri">
    Port izinleri hakkında detaylı bilgi alın
  </Card>
  <Card title="Kubernetes Kurulumu" href="/tr/kurulum-surum-yukseltme/kurulum/kubernetes/kubernetes-dashboard">
    Kubernetes kurulum adımlarını inceleyin
  </Card>
  <Card title="MongoDB Kurulumu" href="/tr/kurulum-surum-yukseltme/kurulum/mongodb/ubuntu-uzerinde-mongodb">
    MongoDB kurulum adımlarını inceleyin
  </Card>
  <Card title="Elasticsearch Kurulumu" href="/tr/kurulum-surum-yukseltme/kurulum/elasticsearch/ubuntu">
    Elasticsearch kurulum adımlarını inceleyin
  </Card>
</CardGroup>
