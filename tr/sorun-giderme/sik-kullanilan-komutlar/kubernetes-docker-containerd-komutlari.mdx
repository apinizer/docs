---
title: "Kubernetes, Docker ve Containerd Sık Kullanılan Komutlar"
description: 'Kubernetes, Docker ve Containerd Sık Kullanılan Komutlar'
---

*   *   *   *   * 

  * [Apinizer Dokümantasyonu](/apinizer-dokumantasyonu/apinizer-dokuemantasyonuna-hos-geldiniz-1179695.html)
  * [Sorun Giderme](/apinizer-dokumantasyonu/sorun-giderme-6685033.html)
  * Current: Kubernetes, Docker ve Containerd Sık Kullanılan Komutlar

# Kubernetes, Docker ve Containerd Sık Kullanılan Komutlar

## Kubernetes

  * ### kubelet çalışıyor mu kontrol etmek için

```bash
    systemctl status kubelet
```



  * ### kubelet'te bir hata olduğunda linux sistem üzerinden detay görmek için

```bash
    journalctl -xeu kubelet
    
```



  * ### kubelet'te bir hata olduğunda kubelet üzerinden detay görmek için

```bash
    kubectl get events --all-namespaces  --sort-by='.metadata.creationTimestamp'
```



  * ### Pod özelinde bir hata olduğunda logları görmek için

```bash
    kubectl logs &#60;POD_NAME&#62; -n &#60;NAMESPACE&#62;
    
```



  * ### Pod baştan başlatıldıysa bir önceki Pod'un loglarını görmek için

```bash
    kubectl logs --previous &#60;POD_NAME&#62; -n apinizer
```



  * ### Pod'un genel problemi var mı görmek için

```bash
    kubectl describe pod &#60;POD_NAME&#62; -n apinizer
```



  * ### Eğer çalışan Pod üzerinde bir işlem yapılmak isteniyor, ilgili pod'a girebilmek için

```bash
    kubectl exec -it  &#60;POD_NAME&#62; -n prod /bin/bash
```



  * ### Pod içerisine girmeden belirli bir adrese istek atmak

```bash
    kubectl exec -it  &#60;POD_NAME&#62; -n prod -- curl x.y.gov.tr
```



  * ### Bir deployment altındaki podları restart etmek için

```bash
    kubectl rollout restart deployment manager -n apinizer
```



  * **Bir deployment altındaki podların sayısını sıfıra çekmek için**

```bash
    kubectl scale deploy cache -n prod --replicas=0
```



  * ### Bir deployment'ı silmek için

```bash
    kubectl delete -f apinizer-deployment.yaml
```



  * ### Pod terminating'te takıldıysa silmeyi zorlamak için

```bash
    kubectl delete pod &#60;POD_NAME&#62; -n apinizer --grace-period=0 --force 
```



  * ### Versiyon güncellemek için imajları sunuculara çektikten sonra aşağıdaki komutlar kullanılır. Burası "vi" editörü gibi çalışır, kaydederek çıkmak için ":wq" kullanılmalıdır

```bash
    kubectl edit deployment manager -n apinizer
    kubectl edit deployment cache -n prod
    kubectl edit deployment worker -n prod
```



  * ### "Evicted" durumdaki podları temizlemek için

```bash
    kubectl get pod -n prod | grep Evicted | awk '&#123;print $1&#125;' | xargs kubectl delete pod -n prod
```



  * ### Kubernetes Node Affinity Kullanarak Pod'un Belirli Nodelar Üzerinde Çalışmasını Engelleme

```bash
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: kubernetes.io/hostname
              operator: NotIn
              values:
              - kuberdemo55
              - kuberdemo56
```



* * *

## Docker

  * ### **Image Listeleme**

```bash
    docker images
```



  * ### **Tüm container'ları listeleme**

```bash
    docker ps -a
```



  * ### Image pull işlemi

```bash
    sudo docker pull apinizercloud/manager:2024.xx.0
```



  * ### **Image export**

```bash
    sudo docker save apinizercloud/manager:2024.xx.0 > manager_2024.xx.0.tar
```



  * ### **Image import**

```bash
    sudo docker load < manager_2024.xx.0.tar
```



## Containerd

  * ### Namespace listeleme

```bash
    sudo ctr namespaces list
```



  * ### Container'ları listeleme namespace göre

```bash
    sudo ctr --namespace k8s.io containers ls
```



  * ### Image listeleme namespace göre apinizer image'ları

```bash
    sudo ctr -n k8s.io images list | grep apinizer
```



  * ### Image pull işlemi

```bash
    sudo ctr --namespace k8s.io images pull docker.io/apinizercloud/manager:2024.05.0
```



  * ### Image export 

```bash
    sudo ctr -n k8s.io images export /tmp/manager:2024.05.0.tar docker.io/apinizercloud/manager:2024.05.0
```



  * ### Image import

```bash
    sudo ctr --namespace k8s.io images import /tmp/manager:2024.05.0.tar
```



×