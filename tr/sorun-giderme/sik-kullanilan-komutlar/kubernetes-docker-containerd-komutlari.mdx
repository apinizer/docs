---
title: "Kubernetes, Docker ve Containerd Sık Kullanılan Komutlar"
description: 'Kubernetes, Docker ve Containerd Sık Kullanılan Komutlar'
---

*   *   *   *   * 

  * [Apinizer Dokümantasyonu](/apinizer-dokumantasyonu/apinizer-dokuemantasyonuna-hos-geldiniz-1179695.html)
  * [Sorun Giderme](/apinizer-dokumantasyonu/sorun-giderme-6685033.html)
  * Current: Kubernetes, Docker ve Containerd Sık Kullanılan Komutlar

# Kubernetes, Docker ve Containerd Sık Kullanılan Komutlar

## Kubernetes

  * ### kubelet çalışıyor mu kontrol etmek için

[code] 
    systemctl status kubelet
[/code]

CODE

  * ### kubelet'te bir hata olduğunda linux sistem üzerinden detay görmek için

[code] 
    journalctl -xeu kubelet
    
[/code]

CODE

  * ### kubelet'te bir hata olduğunda kubelet üzerinden detay görmek için

[code] 
    kubectl get events --all-namespaces  --sort-by='.metadata.creationTimestamp'
[/code]

CODE

  * ### Pod özelinde bir hata olduğunda logları görmek için

[code] 
    kubectl logs <POD_NAME> -n <NAMESPACE>
    
[/code]

CODE

  * ### Pod baştan başlatıldıysa bir önceki Pod'un loglarını görmek için

[code] 
    kubectl logs --previous <POD_NAME> -n apinizer
[/code]

CODE

  * ### Pod'un genel problemi var mı görmek için

[code] 
    kubectl describe pod <POD_NAME> -n apinizer
[/code]

CODE

  * ### Eğer çalışan Pod üzerinde bir işlem yapılmak isteniyor, ilgili pod'a girebilmek için

[code] 
    kubectl exec -it  <POD_NAME> -n prod /bin/bash
[/code]

CODE

  * ### Pod içerisine girmeden belirli bir adrese istek atmak

[code] 
    kubectl exec -it  <POD_NAME> -n prod -- curl x.y.gov.tr
[/code]

CODE

  * ### Bir deployment altındaki podları restart etmek için

[code] 
    kubectl rollout restart deployment manager -n apinizer
[/code]

CODE

  * **Bir deployment altındaki podların sayısını sıfıra çekmek için**

[code] 
    kubectl scale deploy cache -n prod --replicas=0
[/code]

CODE

  * ### Bir deployment'ı silmek için

[code] 
    kubectl delete -f apinizer-deployment.yaml
[/code]

CODE

  * ### Pod terminating'te takıldıysa silmeyi zorlamak için

[code] 
    kubectl delete pod <POD_NAME> -n apinizer --grace-period=0 --force 
[/code]

CODE

  * ### Versiyon güncellemek için imajları sunuculara çektikten sonra aşağıdaki komutlar kullanılır. Burası "vi" editörü gibi çalışır, kaydederek çıkmak için ":wq" kullanılmalıdır

[code] 
    kubectl edit deployment manager -n apinizer
    kubectl edit deployment cache -n prod
    kubectl edit deployment worker -n prod
[/code]

CODE

  * ### "Evicted" durumdaki podları temizlemek için

[code] 
    kubectl get pod -n prod | grep Evicted | awk '{print $1}' | xargs kubectl delete pod -n prod
[/code]

CODE

  * ### Kubernetes Node Affinity Kullanarak Pod'un Belirli Nodelar Üzerinde Çalışmasını Engelleme

[code] 
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: kubernetes.io/hostname
              operator: NotIn
              values:
              - kuberdemo55
              - kuberdemo56
[/code]

CODE

* * *

## Docker

  * ### **Image Listeleme**

[code] 
    docker images
[/code]

CODE

  * ### **Tüm container'ları listeleme**

[code] 
    docker ps -a
[/code]

CODE

  * ### Image pull işlemi

[code] 
    sudo docker pull apinizercloud/manager:2024.xx.0
[/code]

CODE

  * ### **Image export**

[code] 
    sudo docker save apinizercloud/manager:2024.xx.0 > manager_2024.xx.0.tar
[/code]

CODE

  * ### **Image import**

[code] 
    sudo docker load < manager_2024.xx.0.tar
[/code]

CODE

## Containerd

  * ### Namespace listeleme

[code] 
    sudo ctr namespaces list
[/code]

CODE

  * ### Container'ları listeleme namespace göre

[code] 
    sudo ctr --namespace k8s.io containers ls
[/code]

CODE

  * ### Image listeleme namespace göre apinizer image'ları

[code] 
    sudo ctr -n k8s.io images list | grep apinizer
[/code]

CODE

  * ### Image pull işlemi

[code] 
    sudo ctr --namespace k8s.io images pull docker.io/apinizercloud/manager:2024.05.0
[/code]

CODE

  * ### Image export 

[code] 
    sudo ctr -n k8s.io images export /tmp/manager:2024.05.0.tar docker.io/apinizercloud/manager:2024.05.0
[/code]

CODE

  * ### Image import

[code] 
    sudo ctr --namespace k8s.io images import /tmp/manager:2024.05.0.tar
[/code]

CODE

×