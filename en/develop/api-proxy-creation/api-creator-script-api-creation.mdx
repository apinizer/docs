---
title: "Creating API from Script with API Creator"
description: "You can create REST APIs with a function-as-a-service approach with Script-2-API. You can write endpoint business logic in Javascript or Groovy language, process incoming message elements with script and send the result to the client"
---

<CardGroup cols={2}>
  <Card title="Working Logic" icon="code">
    Elements of the incoming message (header, parameter, body) are processed with the selected script language and the result is sent to the client.
  </Card>
  
  <Card title="Read and Write Rules" icon="lock">
    Changes cannot be made to the original form of the incoming request message, only reading can be done on this data. The response to be returned to the client is prepared within the script.
  </Card>
</CardGroup>

## Creating New Script-2-API

<Steps>
  <Step title="Go to Script-2-API Page from Menu">
    **Development → API Creator → Script-2-API** item is selected in the main menu.
    
    <img src="/images/develop/api-proxy-olusturma/script-api-olusturma-ekrani.png" alt="Script-2-API Creation Screen" width="1000" />
  </Step>
  
  <Step title="Create New API">
    The **+Create** button at the top right of the opened interface is clicked.
  </Step>
  
  <Step title="Fill API Information">
    Required fields for the new *API* to be created are filled and the **→Save and Next** button at the top right is clicked, starting the *API* creation process.
    
    <img src="/images/develop/api-proxy-olusturma/script-api-bilgileri-doldurma.png" alt="Filling API Information" width="1000" />
  </Step>
  
  <Step title="Add Endpoint">
    After the API is saved, endpoint definition for the API begins. If there is no endpoint, press the add button inside the API for the first time to add, if there is at least one, press the add button that appears in the endpoints section.
    
    <img src="/images/develop/api-proxy-olusturma/script-api-endpoint-ekle.png" alt="Adding Endpoint" width="1000" />
  </Step>
</Steps>

## Endpoint Creation

The following information is entered to define an *Endpoint*:

<img src="/images/develop/api-proxy-olusturma/script-api-endpoint-olusturma.png" alt="Endpoint Creation Screen" width="1000" />

Fields used for endpoint creation configuration are explained below, categorized:

<AccordionGroup>
  <Accordion title="Basic Information">
    <CardGroup cols={2}>
      <Card title="HTTP Method" icon="list">
        **Field:** HTTP Method
        
        HTTP Method is selected for REST APIs: GET, POST, PUT, HEAD, OPTIONS, DELETE, PATCH, TRACE, ALL
      </Card>
      
      <Card title="Name/URL" icon="tag">
        **Field:** Name/URL
        
        Endpoint access address. When API Proxy is created, the endpoint is accessed through this address.
      </Card>
      
      <Card title="Description" icon="file-lines">
        **Field:** Description
        
        Definition information of the API endpoint.
      </Card>
    </CardGroup>
  </Accordion>
  
  <Accordion title="Script Settings">
    <CardGroup cols={2}>
      <Card title="Script Type" icon="code">
        **Field:** Script Type
        
        Type of the Script to be written. Can be Javascript or Groovy.
      </Card>
      
      <Card title="Script" icon="code">
        **Field:** Script
        
        Information about the script to be executed.
      </Card>
      
      <Card title="Variables" icon="slider">
        **Field:** Variables
        
        List of read-only and write-only variables that can be accessed in the request and response pipeline. When the relevant variable is clicked, the variable is added to the point where the cursor is located in the Script field.
      </Card>
      
      <Card title="Try Button" icon="play">
        **Field:** Try It
        
        Opens a new window to allow testing of the script to be executed.
      </Card>
    </CardGroup>
  </Accordion>
</AccordionGroup>

## Variables

Various keywords are used for access to message header, parameter, and body parts on script for read and write operations to be performed.

<AccordionGroup>
  <Accordion title="Client → Apinizer (Request Data)">
    Variables used to access data coming from client to Apinizer:

    <CardGroup cols={2}>
      <Card title="Header" icon="heading">
        **Variable:** `requestHeaderMapFromClient`
        
        **Data Type:** `Map<String, String>`
        
        **Operation:** Read
        
        Used to read request headers.
      </Card>
      
      <Card title="Parameter (URL Parameter)" icon="slider">
        **Variable:** `requestUrlParamMapFromClient`
        
        **Data Type:** `Map<String, String>`
        
        **Operation:** Read
        
        Used to read URL parameters.
      </Card>
      
      <Card title="Body" icon="file-lines">
        **Variable:** `requestBodyTextFromClient`
        
        **Data Type:** `String`
        
        **Operation:** Read
        
        Used to read request body.
      </Card>
      
      <Card title="Message Information (Context)" icon="info">
        **Variable:** `contextValues`
        
        **Data Type:** `String`
        
        **Operation:** Read
        
        Used to access message information.
      </Card>
      
      <Card title="Custom Variable" icon="slider">
        **Variable:** `customVariableMap`
        
        **Data Type:** `Map<String, String>`
        
        **Operation:** Read, Write
        
        Used to read and write custom variables.
      </Card>
    </CardGroup>
  </Accordion>
  
  <Accordion title="Apinizer → Client (Response Data)">
    Variables used to create data to be sent from Apinizer to client:

    <CardGroup cols={2}>
      <Card title="Header" icon="heading">
        **Variable:** `responseHeaderMapToClient`
        
        **Data Type:** `Map<String, String>`
        
        **Operation:** Write
        
        Used to create response headers.
      </Card>
      
      <Card title="Body" icon="file-lines">
        **Variable:** `responseBodyTextToClient`
        
        **Data Type:** `String`
        
        **Operation:** Write
        
        Used to create response body.
      </Card>
      
      <Card title="Status Code" icon="code">
        **Variable:** `statusCodeToClient`
        
        **Data Type:** `Integer`
        
        **Operation:** Write
        
        Used to set HTTP status code.
      </Card>
      
      <Card title="Message Information (Context)" icon="info">
        **Variable:** `contextValues`
        
        **Data Type:** `String`
        
        **Operation:** Read
        
        Used to access message information.
      </Card>
      
      <Card title="Custom Variable" icon="slider">
        **Variable:** `customVariableMap`
        
        **Data Type:** `Map<String, String>`
        
        **Operation:** Read, Write
        
        Used to read and write custom variables.
      </Card>
    </CardGroup>
  </Accordion>
</AccordionGroup>

<Info>
If script type is Groovy:
- **JsonSlurper** when message body is JSON
- **XMLSlurper** when message body is XML

Using these makes message processing quite easy.
</Info>

## Creating API Proxy from Script-2-API

After the API's definitions are completed, it's time to open this API as an API Proxy.

<Info>
At least one *endpoint* of the API created with Script-2-API must exist to create an API Proxy from Script-2-API.
</Info>

To open Script-2-API as an API Proxy for access, press the **Create Proxy** button shown in the following visual.

<img src="/images/develop/api-proxy-olusturma/script-api-proxy-olustur-butonu.png" alt="Create Proxy Button" width="1000" />

The API Proxy is created by entering the required fields for the API Proxy on the screen that appears and clicking the **Save** button.

<img src="/images/develop/api-proxy-olusturma/script-api-proxy-olusturma-ekrani.png" alt="API Proxy Creation Screen" width="1000" />

After this step, what can be done is the same as the API Proxy document. You can review the [API Proxy Creation](/en/develop/api-proxy-creation/api-proxy-creation) page for detailed information.

<Note>
You can create multiple API Proxies for one Script-2-API.
</Note>

## Deploy/Redeploy

You can manage the deployment status of API Proxies created with Script-2-API from the API Proxies page or by selecting the relevant API on the Script-2-API page.

To manage from the Script-2-API page, use the window opened by clicking the **Manage API Proxies** link located at the top of the page. In the opened window, you can perform Deploy, Redeploy, and Undeploy operations for API *Proxy*s created from this API. You can visit our Revision, Deployment, Redeployment, Undeployment pages for more detailed information on this topic.

<img src="/images/develop/api-proxy-olusturma/script-api-proxy-yonetme.png" alt="Managing API Proxies" width="600" />

After the above operation, confirmation is required. Information about the deployment operation is created and the **(Deploy) Deploy** button is clicked.

<img src="/images/develop/api-proxy-olusturma/script-api-deploy-onay.png" alt="Deployment Confirmation Screen" width="600" />

<Info>
When a new endpoint is added to Script-2-API or changes are made within an endpoint, all API Proxies created from this API must be redeployed for the changes to take effect.
</Info>

When you add a new endpoint or update an existing endpoint, a notification like the following will appear.

<img src="/images/develop/api-proxy-olusturma/script-api-yeniden-yukleme-bilgi.png" alt="Redeployment Notification" width="500" />

By saying **Redeploy**, changes are applied to API Proxies.

<img src="/images/develop/api-proxy-olusturma/script-api-redeploy-onay.png" alt="Redeployment Confirmation Screen" width="600" />

After the above operation, confirmation is required. Information about the redeployment operation is created and the **(Redeploy) Redeploy** button is clicked.

From the Script-2-API page, go to the API Proxy by clicking the API Proxy's name.

<img src="/images/develop/api-proxy-olusturma/script-api-proxy-link.png" alt="Going to API Proxy from Script-2-API Page" width="1000" />

Similarly, to go to the Script-2-API page from the API Proxy page, go by clicking the Script-2-API name in the API Proxy as shown below.

<img src="/images/develop/api-proxy-olusturma/script-api-geri-link.png" alt="Going to Script-2-API from API Proxy Page" width="600" />

## Script-2-API Deletion

When a Script API is deleted, all API Proxies connected to it are first removed (undeploy) and then deleted.

<img src="/images/develop/api-proxy-olusturma/script-api-silme-uyarisi.png" alt="Script-2-API Deletion Warning" width="500" />

