---
title: 'Database Connector'
description: 'Connect to databases, execute SQL queries, call stored procedures, and perform database operations in Task Flows'
---

Database Connector allows you to connect to various database systems and execute SQL queries, stored procedures, and other database operations within Task Flows.

## Overview

Database Connector provides connectivity to relational databases including MySQL, PostgreSQL, Oracle, Microsoft SQL Server, DB2, and other JDBC-compatible databases.

<CardGroup cols={2}>
  <Card title="SQL Execution" icon="database">
    Execute SQL queries and statements
  </Card>
  <Card title="Stored Procedures" icon="code">
    Call stored procedures and functions
  </Card>
  <Card title="Transaction Support" icon="arrows-rotate">
    Support for transactions
  </Card>
  <Card title="Connection Pooling" icon="layer-group">
    Efficient connection management
  </Card>
</CardGroup>

## Supported Databases

Database Connector supports the following databases:

* **MySQL**: MySQL 5.7+, MySQL 8.0+
* **PostgreSQL**: PostgreSQL 9.6+
* **Oracle**: Oracle 11g+, Oracle 12c+, Oracle 19c+
* **Microsoft SQL Server**: SQL Server 2012+
* **DB2**: DB2 10.5+
* **Other JDBC Databases**: Any JDBC-compatible database

## Configuration

### Connection Selection

Select or create a database connection:

1. **Select Existing Connection**: Choose from configured database connections
2. **Create New Connection**: Create a new database connection
3. **Connection Properties**: Configure connection properties

**Connection Properties:**

* **Connection Name**: Unique name for the connection
* **Database Type**: Database vendor (MySQL, PostgreSQL, etc.)
* **Host**: Database server hostname or IP
* **Port**: Database server port
* **Database Name**: Name of the database
* **Username**: Database username
* **Password**: Database password
* **Connection Pool**: Connection pool configuration

### Action Types

Database Connector supports various action types:

**Query Actions:**

* **Execute Query**: Execute SELECT queries
* **Execute Update**: Execute INSERT, UPDATE, DELETE statements
* **Execute Batch**: Execute batch operations
* **Call Stored Procedure**: Call stored procedures or functions

## Execute Query

Execute SELECT queries to retrieve data from the database.

### Configuration

**Query Configuration:**

* **SQL Query**: SQL SELECT statement
* **Parameters**: Query parameters (named or positional)
* **Result Mapping**: Map query results to variables
* **Timeout**: Query execution timeout

**Example Query:**

```sql
SELECT id, name, email, status
FROM customers
WHERE status = :status
  AND created_date >= :startDate
ORDER BY created_date DESC
LIMIT :limit
```

### Parameter Binding

Bind parameters to queries:

**Named Parameters:**

```sql
SELECT * FROM orders WHERE customer_id = :customerId
```

**Parameter Values:**

```json
{
  "customerId": "${customerId}"
}
```

**Positional Parameters:**

```sql
SELECT * FROM orders WHERE customer_id = ? AND status = ?
```

**Parameter Values:**

```json
{
  "parameters": ["${customerId}", "active"]
}
```

### Result Mapping

Map query results to Task Flow variables:

**Single Row Result:**

```json
{
  "customer": "${result[0]}"
}
```

**Multiple Rows Result:**

```json
{
  "customers": "${result}"
}
```

**Specific Columns:**

```json
{
  "customerId": "${result[0].id}",
  "customerName": "${result[0].name}",
  "customerEmail": "${result[0].email}"
}
```

### Result Format

Query results are returned as arrays of objects:

**Example Result:**

```json
[
  {
    "id": "123",
    "name": "John Doe",
    "email": "john@example.com",
    "status": "active"
  },
  {
    "id": "456",
    "name": "Jane Smith",
    "email": "jane@example.com",
    "status": "active"
  }
]
```

## Execute Update

Execute INSERT, UPDATE, or DELETE statements.

### Configuration

**Update Configuration:**

* **SQL Statement**: INSERT, UPDATE, or DELETE statement
* **Parameters**: Statement parameters
* **Result Mapping**: Map execution results to variables

**Example INSERT:**

```sql
INSERT INTO customers (name, email, status)
VALUES (:name, :email, :status)
```

**Example UPDATE:**

```sql
UPDATE customers
SET status = :status, updated_date = NOW()
WHERE id = :customerId
```

**Example DELETE:**

```sql
DELETE FROM customers
WHERE id = :customerId
```

### Parameter Binding

Bind parameters to update statements:

**Example:**

```json
{
  "name": "${customer.name}",
  "email": "${customer.email}",
  "status": "active",
  "customerId": "${customerId}"
}
```

### Result Mapping

Map update results:

**Affected Rows:**

```json
{
  "affectedRows": "${result.affectedRows}",
  "insertId": "${result.insertId}"
}
```

## Execute Batch

Execute multiple statements in a batch for better performance.

### Configuration

**Batch Configuration:**

* **SQL Statement**: SQL statement template
* **Batch Data**: Array of parameter sets
* **Batch Size**: Number of statements per batch

**Example:**

```sql
INSERT INTO orders (customer_id, product_id, quantity, price)
VALUES (:customerId, :productId, :quantity, :price)
```

**Batch Data:**

```json
{
  "batchData": [
    {
      "customerId": "123",
      "productId": "P001",
      "quantity": 2,
      "price": 99.99
    },
    {
      "customerId": "123",
      "productId": "P002",
      "quantity": 1,
      "price": 149.99
    }
  ]
}
```

### Benefits

* **Performance**: Faster than individual inserts
* **Transaction**: All statements in same transaction
* **Efficiency**: Reduced network round trips

## Call Stored Procedure

Call stored procedures or functions.

### Configuration

**Stored Procedure Configuration:**

* **Procedure Name**: Name of the stored procedure
* **Parameters**: Input and output parameters
* **Result Mapping**: Map procedure results

**Example:**

```sql
CALL get_customer_orders(:customerId, :startDate, :endDate)
```

**Parameter Configuration:**

```json
{
  "inputParameters": {
    "customerId": "${customerId}",
    "startDate": "${startDate}",
    "endDate": "${endDate}"
  },
  "outputParameters": {
    "orderCount": "OUT",
    "totalAmount": "OUT"
  }
}
```

### Result Mapping

Map stored procedure results:

```json
{
  "orderCount": "${result.orderCount}",
  "totalAmount": "${result.totalAmount}",
  "orders": "${result.resultSet}"
}
```

## Transactions

### Transaction Support

Database Connector supports transactions:

**Transaction Configuration:**

* **Auto Commit**: Enable or disable auto-commit
* **Transaction Isolation**: Set isolation level
* **Rollback on Error**: Automatically rollback on error

**Transaction Flow:**

```
Begin Transaction
  ├─ Execute Query 1
  ├─ Execute Update 1
  ├─ Execute Update 2
  └─ Commit Transaction
```

### Manual Transaction Control

Control transactions manually:

**Begin Transaction:**

```javascript
// Begin transaction
beginTransaction();
```

**Commit Transaction:**

```javascript
// Commit transaction
commitTransaction();
```

**Rollback Transaction:**

```javascript
// Rollback transaction
rollbackTransaction();
```

## Connection Pooling

### Pool Configuration

Configure connection pools for better performance:

**Pool Settings:**

* **Min Pool Size**: Minimum number of connections
* **Max Pool Size**: Maximum number of connections
* **Connection Timeout**: Connection acquisition timeout
* **Idle Timeout**: Idle connection timeout
* **Validation Query**: Query to validate connections

**Benefits:**

* **Performance**: Reuse connections
* **Efficiency**: Reduced connection overhead
* **Scalability**: Handle concurrent requests

## Error Handling

### Database Errors

Handle database-specific errors:

**Error Types:**

* **Connection Errors**: Failed to connect to database
* **SQL Errors**: SQL syntax or execution errors
* **Constraint Errors**: Violation of database constraints
* **Timeout Errors**: Query execution timeout

**Error Handling:**

* **Retry Logic**: Retry on connection errors
* **Error Logging**: Log error details
* **Fallback**: Provide fallback mechanisms

## Best Practices

<CardGroup cols={2}>
  <Card title="Use Parameterized Queries" icon="shield-halved">
    Always use parameters to prevent SQL injection
  </Card>
  <Card title="Optimize Queries" icon="gauge">
    Write efficient SQL queries with proper indexes
  </Card>
  <Card title="Use Connection Pooling" icon="layer-group">
    Configure connection pools for better performance
  </Card>
  <Card title="Handle Errors" icon="exclamation-triangle">
    Implement proper error handling and retry logic
  </Card>
  <Card title="Use Transactions" icon="arrows-rotate">
    Use transactions for related operations
  </Card>
  <Card title="Limit Result Sets" icon="list">
    Use LIMIT clauses to limit result set sizes
  </Card>
  <Card title="Monitor Performance" icon="chart-line">
    Monitor query execution times
  </Card>
  <Card title="Test Queries" icon="flask">
    Test queries before deploying to production
  </Card>
</CardGroup>

## Common Patterns

### Lookup Pattern

Lookup data from database:

```sql
SELECT * FROM customers WHERE id = :customerId
```

### Insert Pattern

Insert new records:

```sql
INSERT INTO orders (customer_id, total, status)
VALUES (:customerId, :total, 'pending')
```

### Update Pattern

Update existing records:

```sql
UPDATE orders
SET status = :status, updated_date = NOW()
WHERE id = :orderId
```

### Batch Insert Pattern

Insert multiple records:

```sql
INSERT INTO order_items (order_id, product_id, quantity)
VALUES (:orderId, :productId, :quantity)
```

## Security Considerations

### SQL Injection Prevention

* Always use parameterized queries
* Never concatenate user input into SQL
* Validate input parameters
* Use stored procedures when appropriate

### Connection Security

* Use encrypted connections (SSL/TLS)
* Store credentials securely
* Use connection pooling
* Limit database user permissions

## Related Topics

<CardGroup cols={2}>
  <Card title="Database Connections" icon="plug" href="/en/integration-automation/connection-management/database-connections">
    Configure database connections
  </Card>
  <Card title="Task Flow Design" icon="diagram-project" href="/en/integration-automation/task-flow-design">
    Learn Task Flow design
  </Card>
  <Card title="Error Handling & Retries" icon="rotate-right" href="/en/integration-automation/error-handling-retries">
    Handle errors in Task Flows
  </Card>
  <Card title="Performance Optimization" icon="gauge" href="/en/integration-automation/performance-optimization">
    Optimize Task Flow performance
  </Card>
</CardGroup>
