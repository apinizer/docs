---
title: 'Message Queue Connectors'
description: 'Connect to message queues (Kafka, RabbitMQ, ActiveMQ), send and receive messages, and integrate with messaging systems'
---

Message Queue Connectors enable integration with message queue systems including Apache Kafka, RabbitMQ, and Apache ActiveMQ. These connectors allow you to send and receive messages asynchronously in Task Flows.

## Overview

Message Queue Connectors provide connectivity to various message queue systems, enabling asynchronous messaging patterns and event-driven integration.

<CardGroup cols={2}>
  <Card title="Kafka Connector" icon="layer-group">
    Apache Kafka integration
  </Card>
  <Card title="RabbitMQ Connector" icon="inbox">
    RabbitMQ integration
  </Card>
  <Card title="ActiveMQ Connector" icon="server">
    Apache ActiveMQ integration
  </Card>
  <Card title="Async Messaging" icon="clock">
    Asynchronous message processing
  </Card>
</CardGroup>

## Kafka Connector

Apache Kafka is a distributed streaming platform for building real-time data pipelines and streaming applications.

### Features

* **Producer**: Send messages to Kafka topics
* **Consumer**: Receive messages from Kafka topics
* **Topic Management**: Create and manage topics
* **Partition Support**: Work with Kafka partitions
* **Offset Management**: Manage consumer offsets

### Configuration

**Connection Configuration:**

* **Bootstrap Servers**: Kafka broker addresses
* **Security**: SASL/SSL configuration
* **Client ID**: Unique client identifier
* **Connection Timeout**: Connection timeout settings

### Send Message (Producer)

Send messages to Kafka topics:

**Configuration:**

* **Topic**: Target Kafka topic
* **Key**: Message key (optional)
* **Message**: Message payload
* **Partition**: Target partition (optional)
* **Headers**: Message headers (optional)

**Example:**

```json
{
  "topic": "orders",
  "key": "${orderId}",
  "message": "${orderJson}",
  "headers": {
    "content-type": "application/json",
    "source": "taskflow"
  }
}
```

### Receive Message (Consumer)

Receive messages from Kafka topics:

**Configuration:**

* **Topic**: Source Kafka topic
* **Consumer Group**: Consumer group ID
* **Partition**: Specific partition (optional)
* **Offset**: Starting offset
* **Max Messages**: Maximum messages to receive

**Example:**

```json
{
  "topic": "orders",
  "consumerGroup": "order-processor",
  "maxMessages": 100,
  "timeout": 5000
}
```

### Message Format

Kafka messages are typically JSON:

**Message Structure:**

```json
{
  "key": "order-123",
  "value": {
    "orderId": "123",
    "customerId": "456",
    "total": 99.99,
    "status": "pending"
  },
  "headers": {
    "content-type": "application/json"
  },
  "partition": 0,
  "offset": 12345,
  "timestamp": "2024-01-15T10:30:00Z"
}
```

## RabbitMQ Connector

RabbitMQ is a message broker that implements the Advanced Message Queuing Protocol (AMQP).

### Features

* **Publish**: Publish messages to exchanges
* **Consume**: Consume messages from queues
* **Exchange Types**: Support for various exchange types
* **Queue Management**: Create and manage queues
* **Routing**: Message routing with routing keys

### Configuration

**Connection Configuration:**

* **Host**: RabbitMQ server hostname
* **Port**: RabbitMQ server port
* **Virtual Host**: Virtual host name
* **Username**: RabbitMQ username
* **Password**: RabbitMQ password
* **Connection Timeout**: Connection timeout

### Publish Message

Publish messages to RabbitMQ exchanges:

**Configuration:**

* **Exchange**: Target exchange name
* **Routing Key**: Routing key
* **Message**: Message payload
* **Properties**: Message properties
* **Exchange Type**: Exchange type (direct, topic, fanout, headers)

**Example:**

```json
{
  "exchange": "orders",
  "routingKey": "order.created",
  "message": "${orderJson}",
  "properties": {
    "contentType": "application/json",
    "deliveryMode": 2,
    "priority": 5
  }
}
```

### Consume Message

Consume messages from RabbitMQ queues:

**Configuration:**

* **Queue**: Source queue name
* **Auto Acknowledge**: Auto-acknowledge messages
* **Prefetch Count**: Number of unacknowledged messages
* **Timeout**: Receive timeout

**Example:**

```json
{
  "queue": "order-processing",
  "autoAcknowledge": false,
  "prefetchCount": 10,
  "timeout": 5000
}
```

### Message Acknowledgment

Acknowledge processed messages:

**Acknowledgment:**

* **Auto Acknowledge**: Automatically acknowledge on receive
* **Manual Acknowledge**: Manually acknowledge after processing
* **Negative Acknowledge**: Reject and requeue message

## ActiveMQ Connector

Apache ActiveMQ is an open-source message broker that supports multiple protocols.

### Features

* **Send**: Send messages to queues or topics
* **Receive**: Receive messages from queues or topics
* **Queue/Topic Support**: Support for both queues and topics
* **Message Selectors**: Filter messages with selectors
* **Durable Subscriptions**: Support for durable topic subscriptions

### Configuration

**Connection Configuration:**

* **Broker URL**: ActiveMQ broker URL
* **Username**: ActiveMQ username
* **Password**: ActiveMQ password
* **Client ID**: Unique client identifier

### Send Message

Send messages to ActiveMQ destinations:

**Configuration:**

* **Destination**: Queue or topic name
* **Destination Type**: Queue or Topic
* **Message**: Message payload
* **Properties**: Message properties

**Example:**

```json
{
  "destination": "orders.queue",
  "destinationType": "queue",
  "message": "${orderJson}",
  "properties": {
    "JMSType": "Order",
    "JMSPriority": 5
  }
}
```

### Receive Message

Receive messages from ActiveMQ destinations:

**Configuration:**

* **Destination**: Queue or topic name
* **Destination Type**: Queue or Topic
* **Message Selector**: JMS message selector
* **Timeout**: Receive timeout

**Example:**

```json
{
  "destination": "orders.queue",
  "destinationType": "queue",
  "messageSelector": "JMSType = 'Order' AND status = 'pending'",
  "timeout": 5000
}
```

## Common Patterns

### Producer Pattern

Send messages to message queue:

```
Task Flow:
  ├─ Process Data
  ├─ Format Message
  └─ Send to Queue (Message Queue Connector)
```

### Consumer Pattern

Receive and process messages:

```
Task Flow:
  ├─ Receive from Queue (Message Queue Connector)
  ├─ Process Message
  └─ Send Acknowledgment
```

### Request-Reply Pattern

Send request and wait for reply:

```
Task Flow:
  ├─ Send Request Message
  ├─ Wait for Reply
  └─ Process Reply Message
```

## Error Handling

### Message Processing Errors

Handle errors during message processing:

**Error Handling:**

* **Retry**: Retry failed message processing
* **Dead Letter Queue**: Send failed messages to DLQ
* **Error Notification**: Notify on processing errors
* **Message Rejection**: Reject and requeue messages

### Connection Errors

Handle connection errors:

**Error Handling:**

* **Retry Connection**: Retry on connection failures
* **Failover**: Failover to backup brokers
* **Error Logging**: Log connection errors

## Best Practices

<CardGroup cols={2}>
  <Card title="Use Appropriate Queue" icon="list">
    Choose the right message queue for your use case
  </Card>
  <Card title="Handle Errors" icon="exclamation-triangle">
    Implement proper error handling and retry logic
  </Card>
  <Card title="Message Idempotency" icon="repeat">
    Design idempotent message processing
  </Card>
  <Card title="Monitor Queues" icon="chart-line">
    Monitor queue depths and processing rates
  </Card>
  <Card title="Use Message Properties" icon="tag">
    Use message properties for routing and filtering
  </Card>
  <Card title="Batch Processing" icon="layer-group">
    Process messages in batches when possible
  </Card>
  <Card title="Acknowledge Properly" icon="check-circle">
    Acknowledge messages only after successful processing
  </Card>
  <Card title="Test Scenarios" icon="flask">
    Test various failure scenarios
  </Card>
</CardGroup>

## Security Considerations

### Authentication

* Use secure authentication mechanisms
* Store credentials securely
* Use SSL/TLS for encrypted connections

### Authorization

* Configure appropriate permissions
* Use virtual hosts (RabbitMQ)
* Limit access to necessary queues/topics

## Related Topics

<CardGroup cols={2}>
  <Card title="Message Queue Connections" icon="plug" href="/en/integration-automation/connection-management/message-queue-connections">
    Configure message queue connections
  </Card>
  <Card title="Task Flow Design" icon="diagram-project" href="/en/integration-automation/task-flow-design">
    Learn Task Flow design
  </Card>
  <Card title="Error Handling & Retries" icon="rotate-right" href="/en/integration-automation/error-handling-retries">
    Handle errors in Task Flows
  </Card>
  <Card title="Performance Optimization" icon="gauge" href="/en/integration-automation/performance-optimization">
    Optimize message processing performance
  </Card>
</CardGroup>
