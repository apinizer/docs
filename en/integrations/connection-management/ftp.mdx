---
title: "FTP Connection"
description: "Creates central connection definition for secure file transfer to FTP/SFTP/FTPS servers. Provides secure file transfer, directory management, and automatic retry support"
---

## Overview

<AccordionGroup>
  <Accordion title="What is its Purpose?">
    <CardGroup cols={2}>
      <Card title="Central Management" icon="database">
        Makes FTP/SFTP/FTPS access consistent across all Integration Flow steps by keeping Connection definition central.
      </Card>
      
      <Card title="Automatic Authentication" icon="shield">
        Shortens configuration time by reusing automatic authentication and SSL/TLS parameters in Connector steps that perform file transfer.
      </Card>
      
      <Card title="Security" icon="lock">
        Reduces data leakage risk by ensuring access only to authorized folders with working directory (workingDir) restriction.
      </Card>
      
      <Card title="Retry" icon="repeat">
        Increases transfer success even in unstable networks thanks to retry (retryCount) and timeout values.
      </Card>
      
      <Card title="Environment-Based Management" icon="code-branch">
        Enables same connection to securely route to different endpoints with environment-based (Development/Test/Production) parameters.
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Working Principle">
    <CardGroup cols={2}>
      <Card title="Connection Initialization" icon="play">
        When FTP/SFTP/FTPS connection is requested from within Integration Flow or Connector, the system reads configured connection parameters.
      </Card>
      
      <Card title="Connection Pool Management" icon="layer-group">
        Gateway keeps previously opened FTP sessions in pool at gateway, project, or global level; creates new connection if suitable session does not exist.
      </Card>
      
      <Card title="Authentication" icon="shield">
        Access to target FTP directory is provided by performing username/password or certificate-based authentication.
      </Card>
      
      <Card title="Data Communication" icon="arrows-rotate">
        File upload/download, listing, or deletion operations are performed at TCP layer via selected protocol.
      </Card>
      
      <Card title="Connection Management" icon="gear">
        When operation is completed, session is closed or returned to pool and kept ready for next requests.
      </Card>
      
      <Card title="Error Management" icon="triangle-exclamation">
        In case of connection error, timeout, or authentication error, defined retryCount comes into play, result is written to deployment logs.
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Usage Areas">
    <CardGroup cols={2}>
      <Card title="Partner File Receipt" icon="download">
        Downloading files coming from partner systems at certain intervals
      </Card>
      
      <Card title="Bulk Report Upload" icon="upload">
        Regular upload of bulk report or log files to FTP servers
      </Card>
      
      <Card title="SFTP Financial Data" icon="money-bill">
        Integration with external services sharing financial data via SFTP
      </Card>
      
      <Card title="FTPS Regulation" icon="shield">
        Institution connections with mandatory encrypted transfer requirement with FTPS (Explicit) due to regulation
      </Card>
      
      <Card title="Legacy System Integration" icon="server">
        Using Legacy file transfer servers in internal network in Integration Flow steps
      </Card>
    </CardGroup>
  </Accordion>
</AccordionGroup>

## Technical Features and Capabilities

<AccordionGroup>
  <Accordion title="Basic Features">
    <CardGroup cols={2}>
      <Card title="Multiple Protocol Support" icon="network-wired">
        FTP, SFTP, and FTPS protocols can be selected under single connection definition.
      </Card>
      
      <Card title="Working Directory Isolation" icon="folder">
        Directory that connection can access is limited with workingDir field.
      </Card>
      
      <Card title="Retry Policy" icon="repeat">
        Automatic retry is provided in network interruptions with retryCount.
      </Card>
      
      <Card title="Environment-Based Configuration" icon="code-branch">
        Ability to define separate connection parameters for each environment (Development, Test, Production).
      </Card>
      
      <Card title="Enable/Disable Control" icon="toggle-on">
        Making Connection active or passive (enable/disable toggle). In passive state, connection cannot be used but its configuration is saved.
      </Card>
    </CardGroup>
  </Accordion>
  
  <Accordion title="Advanced Features">
    <CardGroup cols={2}>
      <Card title="Implicit / Explicit FTPS Key" icon="shield">
        How TLS handshake will be performed is determined with useImplicit and useExplicit flags.
      </Card>
      
      <Card title="Dynamic Project or Global Positioning" icon="share">
        Connection can be kept within project or made accessible in all projects with Move to Global.
      </Card>
      
      <Card title="Import Up to 100 MB" icon="file-import">
        FTP connection definitions up to 100 MB size can be imported in ZIP import operations.
      </Card>
      
      <Card title="Connection Test Feature" icon="flask">
        Ability to verify connection parameters before saving with "Test Connection" button.
      </Card>
      
      <Card title="Export/Import Feature" icon="file-export">
        Exporting Connection configuration as ZIP file. Importing to different environments (Development, Test, Production). Version control and backup capability.
      </Card>
      
      <Card title="Connection Monitoring" icon="chart-line">
        Monitoring connection health, pool status, and performance metrics.
      </Card>
    </CardGroup>
  </Accordion>
</AccordionGroup>

## Connection Parameters

<AccordionGroup>
  <Accordion title="Required Parameters">
    <CardGroup cols={2}>
      <Card title="Name" icon="tag">
        **Description:** Connection name (must be unique)  
        **Example Value:** `Production_FTP`  
        **Notes:** Should not start with space, special characters should not be used
      </Card>
      
      <Card title="Host" icon="server">
        **Description:** FTP/SFTP server address  
        **Example Value:** `ftp.partner.local`  
        **Notes:** IPv4/IPv6 or FQDN accepted
      </Card>
      
      <Card title="Port" icon="network-wired">
        **Description:** Port where protocol runs  
        **Example Value:** 21  
        **Notes:** 22 recommended for SFTP, 990 for FTPS
      </Card>
      
      <Card title="Username" icon="user">
        **Description:** Username on target server  
        **Example Value:** `partner_sync`  
        **Notes:** Should be created according to least privilege principle
      </Card>
      
      <Card title="WorkingDir" icon="folder">
        **Description:** Initial working directory  
        **Example Value:** `/outbound`  
        **Notes:** Relevant user must have access permission
      </Card>
      
      <Card title="Protocol" icon="network-wired">
        **Description:** Transfer protocol to be used  
        **Example Value:** FTP / SFTP / FTPS  
        **Notes:** Selected from EnumFtpProtocol list
      </Card>
      
      <Card title="Timeout" icon="clock">
        **Description:** Connection timeout (seconds)  
        **Example Value:** 30  
        **Notes:** Must be between 1-120 seconds
      </Card>
      
      <Card title="RetryCount" icon="repeat">
        **Description:** Retry count  
        **Example Value:** 3  
        **Notes:** Specifies how many retries will be made in network interruptions
      </Card>
      
      <Card title="SSL Protocol" icon="shield">
        **Description:** Version to be used in FTPS handshake  
        **Example Value:** TLS  
        **Notes:** Required when using FTPS
      </Card>
    </CardGroup>
  </Accordion>
  
  <Accordion title="Optional Parameters">
    <CardGroup cols={2}>
      <Card title="Password" icon="lock">
        **Description:** User password or access token  
        **Default Value:** (Empty)  
        **Recommended Value:** Secret Manager reference
      </Card>
      
      <Card title="UseImplicit" icon="toggle-on">
        **Description:** Activates FTPS implicit handshake  
        **Default Value:** false  
        **Recommended Value:** true (in environments requiring FTPS implicit)
      </Card>
      
      <Card title="UseExplicit" icon="toggle-on">
        **Description:** Activates FTPS explicit STARTTLS process  
        **Default Value:** true  
        **Recommended Value:** true (default; can be set to false in scenarios other than FTPS)
      </Card>
    </CardGroup>
  </Accordion>
</AccordionGroup>

### Timeout and Connection Pool Parameters

<CardGroup cols={2}>
  <Card title="Connection Timeout" icon="clock">
    **Description:** Maximum wait time for establishing connection  
    **Default:** 30000  
    **Min:** 5000 | **Max:** 120000  
    **Unit:** milliseconds
  </Card>
  
  <Card title="Request Timeout" icon="hourglass">
    **Description:** Maximum wait time for request response  
    **Default:** 60000  
    **Min:** 10000 | **Max:** 180000  
    **Unit:** milliseconds
  </Card>
  
  <Card title="Pool Size" icon="layer-group">
    **Description:** Maximum number of connections in Connection pool  
    **Default:** 10  
    **Min:** 1 | **Max:** 50  
    **Unit:** count
  </Card>
  
  <Card title="Retry Interval" icon="repeat">
    **Description:** Wait time between retries  
    **Default:** 2000  
    **Min:** 500 | **Max:** 10000  
    **Unit:** milliseconds
  </Card>
</CardGroup>

## Usage Scenarios

<CardGroup cols={2}>
  <Card title="Partner File Receipt" icon="file-import">
    **Situation:** Supplier uploads XML every night  
    **Solution:** WorkingDir=/inbox, Protocol=SFTP, RetryCount=5  
    **Expected Behavior:** Night job downloads files securely
  </Card>
  
  <Card title="Regulation FTPS Transfer" icon="shield">
    **Situation:** Bank system requires FTPS implicit  
    **Solution:** UseImplicit=true, Port=990, SSL Protocol=TLS1.2  
    **Expected Behavior:** TLS handshake succeeds, files are encrypted
  </Card>
  
  <Card title="Legacy FTP Push" icon="server">
    **Situation:** Old system only supports FTP  
    **Solution:** Protocol=FTP, Port=21, Timeout=45  
    **Expected Behavior:** Gateway performs upload via classic FTP
  </Card>
  
  <Card title="Large File Segmentation" icon="file">
    **Situation:** 2 GB log files are transferred  
    **Solution:** Timeout=90, Pool Size=20, chunk upload in Flow  
    **Expected Behavior:** No disconnection in long transfers
  </Card>
  
  <Card title="Disaster Recovery" icon="shield-alt">
    **Situation:** Parallel copy sent to DR environment  
    **Solution:** Environment=Production, Host=dr-ftp.local, UseExplicit=false  
    **Expected Behavior:** Main and DR systems are kept synchronized
  </Card>
  
  <Card title="Security Scan" icon="search">
    **Situation:** SOC team pulls logs via SFTP  
    **Solution:** Environment=Test, Protocol=SFTP, WorkingDir=/audit  
    **Expected Behavior:** Only audit folder is accessed
  </Card>
</CardGroup>

## Connection Configuration

### Creating New FTP Connection
<img
    src="/images/yonetici/baglantilar/ftp.png"
    alt="Image 2024 9 9 15 35 35 Pn"
    width="1000"
    className="mr-auto"
/>

#### Configuration Steps

<Steps>
    <Step title="Going to Creation Page">
        - Go to Connection → FTP Connection section from left menu.
        - Click [+ Create] button in top right.
    </Step>

    <Step title="Entering Basic Information">
        **Enable Status (Active Status):**

        Set active/passive status with toggle. New connections are active by default.

        **Name (Name) - Required:**

        - Example: `Production_FTP`
        - Enter unique name, should not start with space.
        - System automatically checks. Green checkmark: available. Red X: existing name.

        **Description (Description):**

        - Example: "Partner FTP uploads"
        - Max. 1000 characters.
        - Describe the purpose of Connection.
    </Step>

    <Step title="Environment Selection">
        - Select environment from dropdown menu: **Development**, **Test**, or **Production**.
        - Different connection parameters can be defined for each environment.
    </Step>

    <Step title="FTP Specific Parameters - Part 1">
        - **Host & Port:** Enter target FTP address, set port according to protocol.
        - **Protocol:** Select FTP, SFTP, or FTPS.
        - **WorkingDir:** Write full path of folder to be accessed.
        - **Username/Password:** Enter optional password or leave empty and use credential store.
    </Step>

    <Step title="FTP Specific Parameters - Part 2">
        - **UseImplicit / UseExplicit:** Select FTPS handshake type.
        - **SSL Protocol:** Specify TLS version (e.g., TLS1.2).
        - **Deploy to Worker:** Keep active if you want connection to be kept on worker.
    </Step>

    <Step title="Timeout and Connection Pool Settings">
        - **Timeout:** Set between 30-90 seconds according to network delay.
        - **RetryCount:** 3-5 recommended for unstable connections.
        - If necessary, Request Timeout and Pool Size values are customized in Integration Flow step.
    </Step>

    <Step title="Security and Authentication Settings">
        - Pull username/password or SSH key from secret manager.
        - Load necessary certificates to trust store for FTPS.
        - **Warning:** Do not allow anonymous FTP access in Production environment.
    </Step>

    <Step title="Test Connection">
        - Click **[Test Connection]** button.
        - Test whether connection parameters are correct.
        - **Successful:** Green confirmation message
        - **Failed:** Error details are shown
    </Step>

    <Step title="Saving">
        - Click **[Save and Deploy]** button in top right.

        **Checklist:**

        - Unique name
        - Required fields filled
        - Test connection successful (recommended)

        **Result:**

        - Connection is added to list
        - Becomes available for use in Integration Flow and Connector steps
        - Becomes active according to environment
        
        <Check>
          Connection created successfully! You can now use it in Integration Flow and Connector steps.
        </Check>
    </Step>
</Steps>

### Deleting Connection

<CardGroup cols={2}>
  <Card title="Deletion Operation" icon="trash">
    Select **Delete** from **⋮** menu at end of row or click **[Delete]** button on connection detail page
  </Card>
  
  <Card title="Deletion Tips" icon="info-circle">
    **Check Before Deleting:** May be used in Integration Flow or Connector steps. Assign alternative connection if necessary. Backup with **Export** before deleting
  </Card>
  
  <Card title="Alternative: Deactivate" icon="toggle-off">
    Use **Disable** option instead of deleting. Connection becomes passive but is not deleted. Can be reactivated when needed
  </Card>
</CardGroup>

### Exporting/Importing Connection

<Info>
In this step, users can export (export) existing connections for backup, moving to different environments, or sharing purposes, or import (import) a previously exported connection again. This operation is used to maintain data integrity in version control, transitions between test and production environments, or inter-team sharing processes.
</Info>

<AccordionGroup>
  <Accordion title="Export">
    <CardGroup cols={2}>
      <Card title="Method 1" icon="download">
        Select **⋮ → Export** from action menu. ZIP file is automatically downloaded.
      </Card>
      
      <Card title="Method 2" icon="file-export">
        Click **[Export]** button on Connection detail page. ZIP file is downloaded.
      </Card>
      
      <Card title="File Format" icon="file-zipper">
        Format: `Date-connection-FTP Connection-export.zip`  
        Example: `13 Nov 2025-connection-Production_FTP-export.zip`
      </Card>
      
      <Card title="ZIP Contents" icon="folder-open">
        - Connection JSON file
        - Metadata information
        - Dependency information (e.g., certificates, key store)
      </Card>
      
      <Card title="Usage Areas" icon="list-check">
        - Backup
        - Moving between environments (Test → Prod)
        - Versioning
        - Team or project-based sharing
      </Card>
    </CardGroup>
  </Accordion>

  <Accordion title="Import">
    <CardGroup cols={2}>
      <Card title="Import Steps" icon="upload">
        - Click **[Import FTP Connection]** button on main list.
        - Select downloaded ZIP file.
        - System checks: Is format valid? Is there name conflict? Are dependencies present?
        - Then click **[Import]** button.
      </Card>
      
      <Card title="Import Scenarios" icon="info-circle">
        **Scenario 1: Name Conflict** → Overwrite old connection or create with new name.
        
        **Scenario 2: Missing Dependencies** → Create missing certificates or key stores first or exclude during import.
      </Card>
    </CardGroup>
  </Accordion>
</AccordionGroup>

### Usage Areas of Connection

<CardGroup cols={2}>
  <Card title="Creating and Activating Connection" icon="check-circle">
    **Steps:**  
    1. Create Connection  
    2. Verify connection with **Test Connection**  
    3. Save and activate with **Save and Deploy**  
    4. Ensure Connection is in **Enabled** status
  </Card>
  
  <Card title="Usage in Integration / Connector Steps" icon="plug">
    FTP/SFTP selection is made in steps like "Upload File", "Download File", "Read Directory". Connection selection is performed from Connection field in step configuration. Same connection can be reused in both file sending and receiving steps
  </Card>
  
  <Card title="Scheduled Job Usage" icon="clock">
    File receiving/sending is performed at certain periods in scheduled tasks. When Cron changes, job immediately uses relevant connection parameters
  </Card>
  
  <Card title="Test Purpose Usage" icon="flask">
    "Test Connection" result is saved in logs, serves as reference in troubleshooting process.  
    <Warning>Test results are not guarantee of production transfer; test Integration Flow separately</Warning>
  </Card>
</CardGroup>

## Best Practices

<AccordionGroup>
  <Accordion title="Things to Do and Best Practices">
    <CardGroup cols={2}>
  <Card title="Working Directory Management" icon="folder">
    **Bad:** Giving user root directory access  
    **Good:** Only giving permission to necessary folder  
    **Best:** Defining separate workingDir for each scenario and limiting with ACL
  </Card>
  
  <Card title="Credential Management" icon="lock">
    **Bad:** Storing password as plain text in form  
    **Good:** Keeping password in Secret Manager and referencing  
    **Best:** Using SSH key or Vault-based dynamic credentials
  </Card>
  
  <Card title="Protocol Selection" icon="network-wired">
    **Bad:** Using default FTP in every environment  
    **Good:** Selecting SFTP or FTPS when needed  
    **Best:** Managing protocol by environment and mapping with security requirement
  </Card>
  
  <Card title="Monitoring and Alarm" icon="bell">
    **Bad:** Not tracking RetryCount increases  
    **Good:** Moving pool and timeout metrics to dashboard  
    **Best:** Defining alarm thresholds and creating automatic incidents
  </Card>
  
  <Card title="Environment Management" icon="server">
    **Bad:** Using same connection parameters in all environments  
    **Good:** Creating separate connection for each environment  
    **Best:** Managing all environments in single connection using environment option, only changing environment during inter-environment transitions
  </Card>
  
  <Card title="Connection Test" icon="check-circle">
    **Bad:** Saving and deploying Connection without testing  
    **Good:** Verifying with Test Connection before saving  
    **Best:** Testing after each parameter change, performing full integration test in test environment before moving to production
  </Card>
    </CardGroup>
  </Accordion>
  
  <Accordion title="Security Best Practices">
    <CardGroup cols={2}>
  <Card title="SFTP Key Management" icon="key">
    Keep SSH keys in secret store  
    <Warning>Do not share same key in different projects</Warning>
  </Card>
  
  <Card title="IP and Firewall Restrictions" icon="shield">
    Open FTP servers only to Apinizer gateway IP range, whitelist passive FTP port range if necessary
  </Card>
  
  <Card title="File Integrity" icon="file-check">
    Catch unexpected manipulations by performing checksum verification after transfer
  </Card>
  
  <Card title="Credential Management" icon="lock">
    Store sensitive information such as username and password using environment variable or secret manager. Do not hardcode credentials in code or configuration files. Update passwords periodically
  </Card>
  
  <Card title="SSL/TLS Usage" icon="shield-alt">
    Always enable SSL/TLS in Production environment. Use self-signed certificates only in development environment. Track certificate expiration dates and renew on time
  </Card>
  
  <Card title="Access Control" icon="user-shield">
    Allow only authorized users to change Connection configuration. Store Connection change logs. Apply change approval process for critical connections
  </Card>
    </CardGroup>
  </Accordion>
  
  <Accordion title="Things to Avoid">
    <CardGroup cols={2}>
  <Card title="Anonymous FTP Usage" icon="ban">
    **Why to avoid:** Authentication is bypassed, data leakage occurs  
    **Alternative:** Define users with mandatory credentials
  </Card>
  
  <Card title="Wide-Permission Users" icon="user-times">
    **Why to avoid:** Unnecessary delete/write permission increases risk  
    **Alternative:** Use read-only or accounts authorized only to necessary directories
  </Card>
  
  <Card title="Wrong Protocol Selection" icon="exclamation-triangle">
    **Why to avoid:** Selecting FTP in environment requiring FTPS causes regulation violation  
    **Alternative:** Select SFTP/FTPS according to requirement, document protocol
  </Card>
  
  <Card title="Using Production Connection in Test Environment" icon="exclamation-triangle">
    **Why to avoid:** Test data may be written to production system, real users may be affected, security risk occurs  
    **Alternative:** Create separate connection for each environment, use environment parameter, separate connection names by adding prefix according to environment (Test_, Prod_)
  </Card>
  
  <Card title="Very Low Timeout Values" icon="clock">
    **Why to avoid:** Connection constantly times out in network delays, Integration steps fail  
    **Alternative:** Adjust timeout values according to real usage scenarios, measure network latency and determine timeouts accordingly
  </Card>
  
  <Card title="Not Using Connection Pool" icon="database">
    **Why to avoid:** New connection opens on each request, performance decreases, resource consumption increases, target system load increases  
    **Alternative:** Enable Connection pool, adjust pool size according to traffic volume, set up pool monitoring
  </Card>
    </CardGroup>
  </Accordion>
  
  <Accordion title="Performance Tips">
    <CardGroup cols={2}>
  <Card title="File Segmentation" icon="file">
    **Recommendation:** Break large files into parts at Integration Flow level  
    **Effect:** Transfer time shortens, retry cost decreases
  </Card>
  
  <Card title="Passive/Active FTP Selection" icon="network-wired">
    **Recommendation:** Use passive FTP behind firewall and narrow port range  
    **Effect:** Network issues decrease, connection stability increases
  </Card>
  
  <Card title="SFTP Cipher Setting" icon="shield">
    **Recommendation:** Select fastest but secure cipher package with server (e.g., aes128-gcm)  
    **Effect:** CPU load and delay decrease
  </Card>
  
  <Card title="Connection Pool Optimization" icon="database">
    **Recommendation:** Adjust pool size according to peak traffic (recommended: concurrent request count × 1.5), set idle connection timeouts, perform pool health check  
    **Effect:** Connection opening cost decreases by 80%, response times decrease, resource usage is optimized
  </Card>
  
  <Card title="Timeout Values Optimization" icon="clock">
    **Recommendation:** Measure real network latency, adjust timeout values accordingly, avoid very low or very high timeouts  
    **Effect:** Unnecessary waits are prevented, fast fail-over is provided, user experience improves
  </Card>
  
  <Card title="Connection Monitoring" icon="chart-line">
    **Recommendation:** Monitor Connection pool usage, track timeout rates, perform connection health check, set up alerting  
    **Effect:** Problems are detected proactively, performance bottlenecks are identified early, downtime decreases
  </Card>
    </CardGroup>
  </Accordion>
</AccordionGroup>

## Troubleshooting

<AccordionGroup>
  <Accordion title="Directory Listing Failed">
    <Warning>
      Wrong workingDir, user may not have listing permission, or firewall may be blocking passive port range.
    </Warning>
    
    <Steps>
      <Step title="WorkingDir Validation">
        Verify WorkingDir value.
      </Step>
      
      <Step title="User Permissions">
        Check FTP user permissions.
      </Step>
      
      <Step title="Passive Port Range">
        Open passive port range.
      </Step>
    </Steps>
  </Accordion>
  
  <Accordion title="SSL/TLS Negotiation Error">
    <Warning>
      Wrong sslProtocol value, certificate may have expired, or UseImplicit/UseExplicit may be incompatible.
    </Warning>
    
    <Steps>
      <Step title="TLS Version">
        Align TLS version with other party.
      </Step>
      
      <Step title="Certificate Renewal">
        Renew certificate.
      </Step>
      
      <Step title="FTPS Mode">
        Select correct FTPS mode.
      </Step>
    </Steps>
  </Accordion>
  
  <Accordion title="Connection Timeout">
    <Warning>
      Network delay, target system responding slowly, or timeout value may be too low.
    </Warning>
    
    <Steps>
      <Step title="Network Check">
        Check network connectivity.
      </Step>
      
      <Step title="System Health">
        Check target system health.
      </Step>
      
      <Step title="Timeout Settings">
        Increase timeout values.
      </Step>
      
      <Step title="Log Review">
        Review Connection logs.
      </Step>
    </Steps>
  </Accordion>
  
  <Accordion title="Authentication Failed">
    <Warning>
      Wrong username/password, expired credentials, or permission problem may exist.
    </Warning>
    
    <Steps>
      <Step title="Credentials">
        Verify credentials.
      </Step>
      
      <Step title="User Status">
        Check that user is active in target system.
      </Step>
      
      <Step title="Permission Check">
        Check that necessary permissions are granted.
      </Step>
      
      <Step title="Certificate Check">
        Check SSL/TLS certificates.
      </Step>
    </Steps>
  </Accordion>
  
  <Accordion title="Pool Exhausted">
    <Warning>
      Pool size may be too low, connection leak may exist, or traffic may be too high.
    </Warning>
    
    <Steps>
      <Step title="Pool Size">
        Increase pool size.
      </Step>
      
      <Step title="Connection Check">
        Check that connections are properly closed.
      </Step>
      
      <Step title="Idle Timeout">
        Set idle connection timeouts.
      </Step>
      
      <Step title="Metric Monitoring">
        Monitor Connection usage metrics.
      </Step>
    </Steps>
  </Accordion>
  
  <Accordion title="Connection Test Successful But Integration Flow Gives Error">
    <Warning>
      Different connection may be selected in Integration/Connector step, step may be incorrectly configured, or Flow/Job may not have been redeployed.
    </Warning>
    
    <Steps>
      <Step title="Enable Toggle">
        Check that Connection's enable toggle is active.
      </Step>
      
      <Step title="Connection Selection">
        Verify that correct connection is selected in Integration Flow.
      </Step>
      
      <Step title="Connection Deploy">
        Redeploy Connection.
      </Step>
      
      <Step title="Flow/Job Deploy">
        Redeploy Integration Flow or Job.
      </Step>
      
      <Step title="Log Check">
        Check Gateway logs.
      </Step>
    </Steps>
  </Accordion>
</AccordionGroup>

## Frequently Asked Questions (FAQ)

<AccordionGroup>
  <Accordion title="Do I have to define separate connection for FTP and SFTP?">
    <Info>
      You can change protocol in same connection but creating separate environment parameters for each protocol increases traceability.
    </Info>
  </Accordion>
  
  <Accordion title="Does changing working directory later affect flows?">
    <Warning>
      Yes, all file paths used in Flow must be updated according to new workingDir; otherwise you will get "file not found" error.
    </Warning>
  </Accordion>
  
  <Accordion title="Where can I manage passive FTP port range?">
    <Info>
      Port range is defined on FTP server, same range must be opened in firewall on gateway side. You can note this in Connection document for information purposes.
    </Info>
  </Accordion>
  
  <Accordion title="How do I bind SFTP key file?">
    <Info>
      You can store it as Base64 in secret manager and reference it in authentication section of Integration Flow step, use without changing connection parameters.
    </Info>
  </Accordion>
  
  <Accordion title="Can I use same connection for both download and upload?">
    <Check>
      Yes, as long as user permissions allow both operations; same connection can be selected in Integration Flow steps.
    </Check>
  </Accordion>
  
  <Accordion title="Can I use the same connection in multiple Integration Flows?">
    <Check>
      Yes, the same connection can be used in multiple Integration Flow or Connector steps. This provides central management and guarantees configuration consistency. However, care should be taken as changes made to connection will affect all usage locations.
    </Check>
  </Accordion>
  
  <Accordion title="Is using Connection pool mandatory?">
    <Info>
      Connection pool usage is not mandatory but strongly recommended in high-traffic systems. Reusing existing connections instead of opening new connection on each request significantly increases performance.
    </Info>
  </Accordion>
  
  <Accordion title="Should I create different connections for Test and Production?">
    <Check>
      Yes, it is recommended that you create separate connection for each environment. Alternatively, you can manage all environments within a single connection using environment parameter. This approach provides easier management and less error risk.
    </Check>
  </Accordion>
  
  <Accordion title="Test Connection successful but not working in Integration Flow, why?">
    <Warning>
      Several reasons may exist:
    </Warning>
    
    1. Connection enable toggle may be passive
    2. Different connection may be selected in Integration step
    3. Connection may not have been deployed
    4. Integration Flow may not have been redeployed yet
  </Accordion>
</AccordionGroup>

