---
title: 'API Proxy Configuration - Settings'
description: 'CORS settings, Timeout configuration, Retry policies, Error message templates, Backend API settings'
---

The API Proxy Settings tab contains settings that control the general behavior of the API Proxy. This tab allows you to manage CORS settings, timeout configuration, retry policies, error message templates, and backend API settings.

## Settings Tab

The **Settings** tab on the API Proxy detail page contains general settings for the API Proxy. This tab consists of the following sections:

<CardGroup cols={2}>
  <Card title="CORS Settings" icon="globe">
    Cross-Origin Resource Sharing configuration
  </Card>
  <Card title="Timeout Settings" icon="clock">
    Request and response timeout values
  </Card>
  <Card title="Retry Policies" icon="rotate-right">
    Retry for failed requests
  </Card>
  <Card title="Error Messages" icon="exclamation-triangle">
    Customizable error message templates
  </Card>
  <Card title="Backend API Settings" icon="server">
    Backend API configuration
  </Card>
  <Card title="Security Settings" icon="shield">
    Security-related settings
  </Card>
</CardGroup>

## CORS Settings

CORS (Cross-Origin Resource Sharing) settings are used to allow requests from different origins.

### Enable CORS

Check the **Enable CORS** option to enable CORS.

### Allowed Origins

List of allowed origins. You can use wildcard (`*`) to allow all origins.

**Examples:**
```
https://example.com
https://*.example.com
*
```

### Allowed Methods

HTTP methods allowed in CORS requests.

**Default Methods:**
* GET
* POST
* PUT
* DELETE
* OPTIONS

### Allowed Headers

Headers allowed in CORS requests.

**Common Headers:**
* `Content-Type`
* `Authorization`
* `X-Requested-With`

### Exposed Headers

Headers to be exposed to the client.

### Max Age

Cache duration for preflight requests (in seconds).

**Default**: 3600 seconds (1 hour)

### Credentials

Whether credentials (cookies, authorization headers) should be sent.

## Timeout Settings

Timeout settings control the request and response timeout values of the API Proxy.

### Request Timeout

Timeout duration for requests from clients (in milliseconds).

**Default**: 30000 ms (30 seconds)

**Recommendations:**
* For short operations: 10000-30000 ms
* For long operations: 60000-300000 ms

### Backend Timeout

Timeout duration for requests sent to the backend API (in milliseconds).

**Default**: 30000 ms (30 seconds)

**Recommendations:**
* For fast backends: 10000-20000 ms
* For slow backends: 60000-120000 ms

### Connection Timeout

Timeout duration for establishing connection to the backend API (in milliseconds).

**Default**: 5000 ms (5 seconds)

## Retry Policies

Retry policies control the retry behavior for failed requests.

### Enable Retry

Check the **Enable Retry** option to enable the retry mechanism.

### Max Retry Count

Maximum number of retry attempts.

**Default**: 3

**Recommendations:**
* For non-critical operations: 1-2
* For critical operations: 3-5

### Retry Conditions

Retry conditions. Determines in which cases retry will be performed.

**Conditions:**
* **Connection Error**: Connection error
* **Timeout**: Timeout error
* **5xx Errors**: Server errors (500-599)
* **4xx Errors**: Client errors (400-499) - usually not retried

### Retry Interval

Wait time between retries (in milliseconds).

**Strategies:**
* **Fixed**: Fixed wait time
* **Exponential Backoff**: Exponentially increasing wait time

**Example Exponential Backoff:**
* 1st retry: 1000 ms
* 2nd retry: 2000 ms
* 3rd retry: 4000 ms

## Error Message Templates

Error message templates allow you to customize error messages returned by the API Proxy.

### Error Message Format

Specify the format of error messages.

**Default Format:**
```json
{
  "error": {
    "code": "ERROR_CODE",
    "message": "Error message",
    "timestamp": "2024-01-01T00:00:00Z"
  }
}
```

### Customization

You can customize error message templates:

* **Error Code**: Error code
* **Error Message**: Error message
* **Additional Fields**: Additional fields

### Error Types

Different templates can be defined for different error types:

* **400 Bad Request**: Invalid request
* **401 Unauthorized**: Authorization error
* **403 Forbidden**: Access denied
* **404 Not Found**: Resource not found
* **500 Internal Server Error**: Server error
* **502 Bad Gateway**: Gateway error
* **503 Service Unavailable**: Service unavailable
* **504 Gateway Timeout**: Gateway timeout

## Backend API Settings

Backend API settings control how the API Proxy communicates with the backend API.

### Backend URL

Base URL of the backend API.

**Example:**
```
https://api.example.com
http://localhost:8080
```

### Connection Pooling

Backend connection pool settings.

**Settings:**
* **Max Connections**: Maximum number of connections
* **Max Connections Per Route**: Maximum connections per route
* **Connection Timeout**: Connection timeout duration

### SSL/TLS Settings

SSL/TLS connection settings with the backend API.

**Settings:**
* **SSL Verification**: SSL certificate verification
* **Trust All Certificates**: Trust all certificates (development only)
* **Custom Truststore**: Use custom truststore

### Authentication

Backend API authentication settings.

**Supported Methods:**
* **Basic Authentication**: Username and password
* **Bearer Token**: Token-based authentication
* **API Key**: API key
* **Custom Header**: Custom header-based authentication

## Security Settings

Security settings control the security behavior of the API Proxy.

### Request Validation

Request validation settings.

**Options:**
* **Validate Request Size**: Request size validation
* **Validate Content-Type**: Content-Type validation
* **Validate Required Headers**: Required header validation

### Response Validation

Response validation settings.

**Options:**
* **Validate Response Size**: Response size validation
* **Validate Content-Type**: Content-Type validation

### Rate Limiting

Rate limiting settings (managed with global policies).

## Usage Scenarios

### Scenario 1: Public API

CORS settings for public API:

* **Enable CORS**: ✅
* **Allowed Origins**: `*`
* **Allowed Methods**: GET, POST, PUT, DELETE
* **Credentials**: ❌

### Scenario 2: High Availability Backend

Retry settings for high availability:

* **Enable Retry**: ✅
* **Max Retry Count**: 5
* **Retry Conditions**: Connection Error, Timeout, 5xx Errors
* **Retry Interval**: Exponential Backoff

### Scenario 3: Slow Backend

Timeout settings for slow backend:

* **Request Timeout**: 120000 ms (2 minutes)
* **Backend Timeout**: 60000 ms (1 minute)
* **Connection Timeout**: 10000 ms (10 seconds)

## Best Practices

### Timeout Settings

* **Request Timeout**: Set according to client expectations
* **Backend Timeout**: Set according to backend performance
* **Connection Timeout**: Set according to network conditions

### Retry Policies

* **Idempotent Operations**: Use retry only for idempotent operations
* **Exponential Backoff**: Use exponential backoff
* **Max Retry Count**: Choose a reasonable value (3-5)

### CORS Settings

* **Specific Origins**: Use specific origins instead of wildcard when possible
* **Credentials**: Don't send credentials unless necessary
* **Max Age**: Optimize preflight cache duration

## Next Steps

<CardGroup cols={2}>
  <Card title="Overview" icon="info-circle" href="/en/developer/api-proxy-configuration/overview">
    API Proxy general information
  </Card>
  <Card title="Design" icon="code" href="/en/developer/api-proxy-configuration/design">
    API Proxy policies and flow
  </Card>
  <Card title="Global Policies" icon="shield" href="/en/developer/global-policies">
    Global policy management
  </Card>
  <Card title="Policy Management" icon="gear" href="/en/developer/policy-management">
    Policy management
  </Card>
</CardGroup>
